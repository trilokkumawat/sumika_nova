;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="8b79ba18-61e0-351c-fdd7-2db582f495af")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,335305,(e,t,s)=>{e.e,t.exports=function(){"use strict";var e={year:0,month:1,day:2,hour:3,minute:4,second:5},t={};return function(s,r,i){var a,n=function(e,s,r){void 0===r&&(r={});var i,a,n,l,o=new Date(e);return(void 0===(i=r)&&(i={}),(l=t[n=s+"|"+(a=i.timeZoneName||"short")])||(l=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:a}),t[n]=l),l).formatToParts(o)},l=function(t,s){for(var r=n(t,s),a=[],l=0;l<r.length;l+=1){var o=r[l],d=o.type,c=o.value,u=e[d];u>=0&&(a[u]=parseInt(c,10))}var h=a[3],m=a[0]+"-"+a[1]+"-"+a[2]+" "+(24===h?0:h)+":"+a[4]+":"+a[5]+":000",f=+t;return(i.utc(m).valueOf()-(f-=f%1e3))/6e4},o=r.prototype;o.tz=function(e,t){void 0===e&&(e=a);var s,r=this.utcOffset(),n=this.toDate(),l=n.toLocaleString("en-US",{timeZone:e}),o=Math.round((n-new Date(l))/1e3/60),d=-(15*Math.round(n.getTimezoneOffset()/15))-o;if(Number(d)){if(s=i(l,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(d,!0),t){var c=s.utcOffset();s=s.add(r-c,"minute")}}else s=this.utcOffset(0,t);return s.$x.$timezone=e,s},o.offsetName=function(e){var t=this.$x.$timezone||i.tz.guess(),s=n(this.valueOf(),t,{timeZoneName:e}).find(function(e){return"timezonename"===e.type.toLowerCase()});return s&&s.value};var d=o.startOf;o.startOf=function(e,t){if(!this.$x||!this.$x.$timezone)return d.call(this,e,t);var s=i(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return d.call(s,e,t).tz(this.$x.$timezone,!0)},i.tz=function(e,t,s){var r=s&&t,n=s||t||a,o=l(+i(),n);if("string"!=typeof e)return i(e).tz(n);var d=function(e,t,s){var r=e-60*t*1e3,i=l(r,s);if(t===i)return[r,t];var a=l(r-=60*(i-t)*1e3,s);return i===a?[r,i]:[e-60*Math.min(i,a)*1e3,Math.max(i,a)]}(i.utc(e,r).valueOf(),o,n),c=d[0],u=d[1],h=i(c).utcOffset(u);return h.$x.$timezone=n,h},i.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},i.tz.setDefault=function(e){a=e}}}()},662824,e=>{e.v({className:"customfont_24a54289-module__JrbeHW__className",variable:"customfont_24a54289-module__JrbeHW__variable"})},55159,e=>{e.v({className:"source_code_pro_ac234141-module__BliKCW__className",variable:"source_code_pro_ac234141-module__BliKCW__variable"})},857848,e=>{"use strict";var t=e.i(869176),s=e.i(478902),r=e.i(156054),i=e.i(350660),i=i,a=e.i(469449),n=e.i(817729),l=e.i(389959),o=e.i(371012);function d(e){return e}function c(e,t,s){if("object"!=typeof t||null===t)return;let r=e.getMutationCache(),i=e.getQueryCache(),a=s?.defaultOptions?.deserializeData??e.getDefaultOptions().hydrate?.deserializeData??d,n=t.mutations||[],l=t.queries||[];n.forEach(({state:t,...i})=>{r.build(e,{...e.getDefaultOptions().hydrate?.mutations,...s?.defaultOptions?.mutations,...i},t)}),l.forEach(({queryKey:t,state:r,queryHash:n,meta:l,promise:d,dehydratedAt:c})=>{let u=d?(0,o.tryResolveSync)(d):void 0,h=void 0===r.data?u?.data:r.data,m=void 0===h?h:a(h),f=i.get(n),p=f?.state.status==="pending",x=f?.state.fetchStatus==="fetching";if(f){let e=u&&void 0!==c&&c>f.state.dataUpdatedAt;if(r.dataUpdatedAt>f.state.dataUpdatedAt||e){let{fetchStatus:e,...t}=r;f.setState({...t,data:m})}}else f=i.build(e,{...e.getDefaultOptions().hydrate?.queries,...s?.defaultOptions?.queries,queryKey:t,queryHash:n,meta:l},{...r,data:m,fetchStatus:"idle",status:void 0!==m?"success":r.status});d&&!p&&!x&&(void 0===c||c>f.state.dataUpdatedAt)&&f.fetch(void 0,{initialPromise:Promise.resolve(d).then(a)})})}var u=e.i(356003),h=({children:e,options:t={},state:s,queryClient:r})=>{let i=(0,u.useQueryClient)(r),a=l.useRef(t);a.current=t;let n=l.useMemo(()=>{if(s){if("object"!=typeof s)return;let e=i.getQueryCache(),t=s.queries||[],r=[],n=[];for(let s of t){let t=e.get(s.queryHash);t?(s.state.dataUpdatedAt>t.state.dataUpdatedAt||s.promise&&"pending"!==t.state.status&&"fetching"!==t.state.fetchStatus&&void 0!==s.dehydratedAt&&s.dehydratedAt>t.state.dataUpdatedAt)&&n.push(s):r.push(s)}if(r.length>0&&c(i,{queries:r},a.current),n.length>0)return n}},[i,s]);return l.useEffect(()=>{n&&c(i,{queries:n},a.current)},[i,n]),e},m=function(){return null},f=e.i(55956),p=e.i(170286),x=e.i(114106),g=e.i(488194),v=e.i(335305),j=e.i(421781),b=e.i(175452),y=e.i(939002),w=e.i(828538),S=e.i(359512);let _=!1;function N(){_||((0,y.debug)("[nuqs] Aborting queues"),w.debounceController.abortAll(),w.globalThrottleQueue.abort().forEach(e=>w.debounceController.queuedQuerySync.emit(e)))}let E=(0,y.createAdapterProvider)(function(){let e=(0,S.useRouter)();return(0,l.useEffect)(()=>(e?.events.on("routeChangeStart",N),e?.events.on("beforeHistoryChange",N),()=>{e?.events.off("routeChangeStart",N),e?.events.off("beforeHistoryChange",N)}),[]),{searchParams:(0,l.useMemo)(()=>{let t=new URLSearchParams;if(null===e)return t;for(let[s,r]of Object.entries(e.query))if("string"==typeof r)t.set(s,r);else if(Array.isArray(r))for(let e of r)t.append(s,e);return t},[JSON.stringify(e?.query)]),updateUrl:(0,l.useCallback)((e,t)=>{let s=window.next?.router,r=function(e,t){let s,r=new Set,i=/\[([^\]]+)\]/g;for(;null!==(s=i.exec(e));){let e=s[1];e&&r.add(e)}let a=Object.fromEntries(Object.entries(t).filter(([e])=>r.has(e))),n=/\[\.{3}([^\]]+)\]$/.exec(e);if(n&&n[1]){let e=n[1];a[e]=t[e]??[]}let l=/\[\[\.{3}([^\]]+)\]\]$/.exec(e);if(l&&l[1]){let e=l[1];a[e]=t[e]??[]}return a}(s.pathname,s.query),i=s.asPath.replace(/#.*$/,"").replace(/\?.*$/,"")+(0,y.renderQueryString)(e)+location.hash;(0,y.debug)("[nuqs next/pages] Updating url: %s",i);let a="push"===t.history?s.push:s.replace;_=!0,a.call(s,{pathname:s.pathname,query:{...function(e){let t={};for(let s of e.keys()){let r=e.getAll(s);1===r.length?t[s]=r[0]:r.length>1&&(t[s]=r)}return t}(e),...r}},i,{scroll:t.scroll,shallow:t.shallow}).finally(()=>{_=!1})},[]),autoResetQueueOnUpdate:!1}});var C=e.i(659261);e.i(128328);var A=e.i(657588),k=e.i(637972),P=e.i(277948),T=e.i(751349),O=e.i(656217),L=e.i(432553),I=e.i(679152),R=e.i(920474);let U=(0,I.default)(()=>e.A(330679),{loadableGenerated:{modules:[15922]},ssr:!1}),M=()=>(0,R.useCommandMenuInitiated)()&&(0,s.jsx)(U,{});var B=e.i(298650),D=e.i(104645),$=e.i(169949),F=e.i(312048),z=e.i(991435),H=e.i(573375),q=e.i(879148),W=e.i(430174);let G=({children:e})=>{let t=(0,B.useConstant)(()=>{let e,t;return{commandsState:(0,$.initCommandsState)(),pagesState:(0,F.initPagesState)(),queryState:e=(0,z.proxy)({query:"",setQuery:t=>e.query=t}),viewState:t=(0,z.proxy)({initiated:!1,init:()=>!t.initiated&&(t.initiated=!0),open:!1,size:"large",touchHandlers:{handleTouchStart:()=>{},handleTouchMove:()=>{},handleTouchEnd:()=>{}},setOpen:e=>{t.init(),t.open=e},toggleOpen:()=>{t.init(),t.open=!t.open},setSize:e=>{t.size=e},setTouchHandlers:e=>{t.touchHandlers=e}})}});return(0,s.jsx)(D.CommandContext.Provider,{value:t,children:e})},Q=({openKey:e,app:t,onTelemetry:s})=>{let r=(0,R.useToggleCommandMenu)(),i=(0,R.useCommandMenuOpen)(),{sendTelemetry:a}=(0,H.useCommandMenuTelemetry)({app:t??"studio",onTelemetry:s});return(0,l.useEffect)(()=>{if(""===e)return;let t=t=>{let s=t.metaKey||t.ctrlKey,n=t.altKey||t.shiftKey;t.key===e&&s&&!n&&(t.preventDefault(),r(),i||a("keyboard_shortcut"))};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)},[i,e,a,r]),null};function Y({children:e}){let t=(0,R.useSetCommandMenuOpen)(),r=(0,R.useResetCommandMenu)(),i=(0,S.useRouter)(),a=!!i,n=(0,l.useCallback)(()=>{t(!1),r()},[r,t]),o=(0,l.useMemo)(()=>({onPendingEnd:new Set([n])}),[n]);return(0,l.useEffect)(()=>{if(a)return i.events.on("routeChangeComplete",n),()=>i.events.off("routeChangeComplete",n)},[a,i]),(0,s.jsx)(W.CrossCompatRouterContext.Provider,{value:o,children:e})}let K=({children:e,openKey:t,app:r,onTelemetry:i})=>(0,s.jsx)(G,{children:(0,s.jsxs)(q.CommandMenuTelemetryContext.Provider,{value:{app:r??"studio",onTelemetry:i},children:[(0,s.jsx)(Q,{openKey:t??"k",app:r,onTelemetry:i}),(0,s.jsx)(Y,{children:e})]})});var V=e.i(158639),Z=e.i(265735),X=e.i(162082),J=e.i(124416),ee=e.i(947748);function et({children:e}){let{onTelemetry:t}=function(){let{ref:e}=(0,V.useParams)(),{data:t}=(0,Z.useSelectedOrganizationQuery)(),{mutate:s}=(0,X.useSendEventMutation)();return{onTelemetry:(0,l.useCallback)(r=>{s({...r,groups:{...r.groups,...e&&{project:e},...t?.slug&&{organization:t.slug}}})},[e,t?.slug,s])}}(),[r]=(0,J.useLocalStorageQuery)(ee.LOCAL_STORAGE_KEYS.HOTKEY_COMMAND_MENU,!0);return(0,s.jsx)(K,{app:"studio",onTelemetry:t,openKey:r?"k":"",children:e})}var es=e.i(463333),er=e.i(10429),ei=e.i(17203),ea=e.i(543851),en=e.i(890054),el=e.i(263787),eo=e.i(210419),ed=e.i(587433),ec=e.i(837710),eu=e.i(843778),eh=e.i(40892),em=e.i(396831),ef=e.i(994110),ep=e.i(937942),ex=e.i(592383),eg=e.i(276093),ev=e.i(206413),ej=e.i(592360),eb=e.i(178527),ey=e.i(877555),ew=e.i(770460);let eS={[ee.LOCAL_STORAGE_KEYS.UI_PREVIEW_BRANCHING_2_0]:(0,s.jsx)(()=>(0,s.jsxs)("div",{children:[(0,s.jsx)(ef.default,{src:`${er.BASE_PATH}/img/previews/branching-preview.png`,width:1296,height:900,alt:"api-docs-side-panel-preview",className:"rounded border mb-4"}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light mb-4",children:["Create branches, review changes, and merge back into production all through the dashboard. Read the below limitations and our"," ",(0,s.jsx)(ep.InlineLink,{href:`${er.DOCS_URL}/guides/platform/branching`,children:"branching documentation"})," ","before opting in."]}),(0,s.jsxs)("div",{className:"my-6",children:[(0,s.jsx)("p",{className:"text-sm text-foreground mb-2 font-medium",children:"Limitations:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:[(0,s.jsx)("li",{children:"Custom roles created through the dashboard are not captured on branch creation."}),(0,s.jsxs)("li",{children:["Branches can only be merged to ",(0,s.jsx)("code",{children:"main"}),"; merging between preview branches is not supported."]}),(0,s.jsxs)("li",{children:["If your branch is out of date, you can pull in latest changes from ",(0,s.jsx)("code",{children:"main"}),", but keep in mind that all functions will be overwritten."]}),(0,s.jsxs)("li",{children:["Deleting functions must be done manually on ",(0,s.jsx)("code",{children:"main"}),"."]}),(0,s.jsx)("li",{children:"Migration conflicts must be manually resolved on the preview branch."}),(0,s.jsxs)("li",{children:["If you have run migrations on ",(0,s.jsx)("code",{children:"main"}),", new branches will be created from existing migrations instead of a full schema dump."]})]})]}),(0,s.jsxs)("div",{className:"space-y-2 !mt-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Enabling this preview will:"}),(0,s.jsx)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:(0,s.jsx)("li",{children:"Allow you to create, manage, review, and merge database branches directly via the branches page within the dashboard"})})]})]}),{}),[ee.LOCAL_STORAGE_KEYS.UI_PREVIEW_ADVISOR_RULES]:(0,s.jsx)(()=>{let{ref:e}=(0,V.useParams)(),t=(0,es.useIsAdvisorRulesEnabled)();return(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-foreground-light mb-4",children:"Disable specific Advisor categories or rules to prevent them from showing up in Advisor reports or email notifications. This could be useful for rules that might not be applicable to your project."}),(0,s.jsx)(ef.default,{src:`${er.BASE_PATH}/img/previews/advisor-rule-preview.png`,width:1296,height:900,alt:"api-docs-side-panel-preview",className:"rounded border mb-4"}),(0,s.jsxs)("div",{className:"space-y-2 !mt-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Enabling this preview will:"}),(0,s.jsx)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:(0,s.jsxs)("li",{children:["Allow you to disable advisor rules for your project from the"," ",(0,s.jsx)(ep.InlineLink,{href:t?`/project/${e}/advisors/rules/security`:`/project/${e}/advisors/security`,children:"Advisors section."})]})})]})]})},{}),[ee.LOCAL_STORAGE_KEYS.UI_PREVIEW_API_SIDE_PANEL]:(0,s.jsx)(()=>{let{ref:e}=(0,V.useParams)();return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("p",{className:"text-foreground-light text-sm mb-4",children:["Your project's API documentation will be available on any page across the dashboard. ",(0,s.jsx)("br",{}),"Get contextualized code snippets based on what you're viewing in the dashboard. Less thinking, more building."]}),(0,s.jsx)(ef.default,{src:`${er.BASE_PATH}/img/previews/api-docs-preview.png`,width:1860,height:970,alt:"api-docs-side-panel-preview",className:"rounded border"}),(0,s.jsxs)("div",{className:"space-y-2 !mt-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Enabling this preview will:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:[(0,s.jsx)("li",{children:"Replace the original API documentation page with a global API documentation side panel that can be accessed anywhere while in a project."}),(0,s.jsxs)("li",{children:["Move the GraphiQL interface the Database section of the dashboard"," ",(0,s.jsx)(ep.InlineLink,{href:`/project/${e}/database/graphiql`,children:"here"}),"."]})]})]})]})},{}),[ee.LOCAL_STORAGE_KEYS.UI_PREVIEW_CLS]:(0,s.jsx)(()=>{let{ref:e}=(0,V.useParams)(),{docsRowLevelSecurityGuidePath:t}=(0,eg.useCustomContent)(["docs:row_level_security_guide_path"]);return(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsxs)("div",{className:"mb-4 flex flex-col gap-y-2",children:[(0,s.jsx)(ex.Markdown,{className:"text-foreground-light max-w-full",content:`[Postgres Column-Level Privileges](${er.DOCS_URL}/guides/auth/column-level-security) is a feature of Postgres that allows you to grant or revoke privileges on tables and columns based on user roles.`}),(0,s.jsx)(ex.Markdown,{className:"text-foreground-light max-w-full",content:`This is an advanced feature and should be used with caution. Unless you have a very specific use case, we recommend just using [Row-Level Security](${er.DOCS_URL}${t}).`}),(0,s.jsxs)(eb.Alert_Shadcn_,{variant:"warning",className:"mt-2",children:[(0,s.jsx)(ey.WarningIcon,{}),(0,s.jsxs)(ej.AlertTitle_Shadcn_,{children:["Changes to column privileges will not be reflected in migrations when running"," ",(0,s.jsx)("code",{className:"text-code-inline",children:"supabase db diff"}),"."]}),(0,s.jsxs)(ev.AlertDescription_Shadcn_,{children:["Column privileges are not supported in the current version of the Supabase CLI.",(0,s.jsx)("br",{}),"You will need to manually apply these changes to your database."]})]})]}),(0,s.jsx)(ef.default,{src:`${er.BASE_PATH}/img/previews/cls-preview.png`,width:1860,height:970,alt:"api-docs-side-panel-preview",className:"rounded border"}),(0,s.jsxs)("div",{className:"space-y-2 !mt-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Enabling this preview will:"}),(0,s.jsx)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:(0,s.jsxs)("li",{children:["Grant access to a new UI for granting and/or revoking column-level privileges"," ",(0,s.jsx)(ep.InlineLink,{href:`/project/${e}/database/column-privileges`,children:"here"}),"."]})})]})]})},{}),[ee.LOCAL_STORAGE_KEYS.UI_PREVIEW_UNIFIED_LOGS]:(0,s.jsx)(()=>{let{ref:e}=(0,V.useParams)();return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(ef.default,{alt:"new-logs-preview",src:`${er.BASE_PATH}/img/previews/new-logs-preview.png`,width:1296,height:900,className:"rounded border mb-4"}),(0,s.jsx)("p",{className:"text-foreground-light text-sm mb-4",children:"Experience our enhanced Logs interface with improved filtering, real-time updates, and a unified view across all your services. Built for better performance and easier debugging."}),(0,s.jsx)("p",{className:"text-foreground-light text-sm mb-4",children:"This interface will only be available for organizations on the Team plan or above."}),(0,s.jsxs)("div",{className:"space-y-2 !mt-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Enabling this preview will:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:[(0,s.jsxs)("li",{children:["Replace the current Logs interface on the"," ",(0,s.jsx)(ep.InlineLink,{href:`/project/${e}/logs`,children:"Logs page"})," with a unified view"]}),(0,s.jsx)("li",{children:"Provide enhanced filtering capabilities and real-time log streaming"}),(0,s.jsx)("li",{children:"Improve performance with optimized data loading and virtualization"}),(0,s.jsx)("li",{children:"Offer a more modern interface with better search and navigation"})]})]})]})},{}),[ee.LOCAL_STORAGE_KEYS.UI_PREVIEW_QUEUE_OPERATIONS]:(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-foreground-light text-sm mb-4",children:"Queue your table edits and review all pending changes before saving them to your database. This gives you more control over when changes are committed, allowing you to batch multiple edits and review them together."}),(0,s.jsx)(ef.default,{src:`${er.BASE_PATH}/img/previews/queue-operations-table-preview.png`,width:1296,height:900,alt:"queue-operations-preview",className:"rounded border"}),(0,s.jsxs)("div",{className:"space-y-2 !mt-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Enabling this preview will:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:[(0,s.jsx)("li",{children:"Queue cell edits in the Table Editor instead of saving them immediately"}),(0,s.jsx)("li",{children:"Show a panel to review all pending changes before committing them"}),(0,s.jsx)("li",{children:"Allow you to cancel individual changes or save all changes at once"})]})]})]}),{}),[ee.LOCAL_STORAGE_KEYS.UI_PREVIEW_TABLE_FILTER_BAR]:(0,s.jsx)(()=>(0,s.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,s.jsx)("p",{className:"text-foreground-light text-sm mb-4",children:"An intuitive new way to filter your table data. Build complex filters visually with support for multiple data types (strings, numbers, dates, booleans) and operators. The new interface makes it easier to understand and modify your filters at a glance."}),(0,s.jsx)(ef.default,{src:`${er.BASE_PATH}/img/previews/table-filter-bar-preview.png`,width:1296,height:900,alt:"table-filter-bar-preview",className:"rounded border"}),(0,s.jsxs)("div",{className:"space-y-2 !mt-4",children:[(0,s.jsx)("p",{className:"text-sm",children:"Enabling this preview will:"}),(0,s.jsxs)("ul",{className:"list-disc pl-6 text-sm text-foreground-light space-y-1",children:[(0,s.jsx)("li",{children:"Replace the existing filter input with a new visual filter bar"}),(0,s.jsx)("li",{children:"Add support for date filtering with preset ranges (Today, Yesterday, Last 7 days, etc.)"})]})]})]}),{})},e_=()=>{let{ref:e}=(0,V.useParams)(),{showFeaturePreviewModal:t,selectedFeatureKey:r,selectFeaturePreview:i,closeFeaturePreviewModal:a,isFeaturePreviewReleasedToPublic:n}=(0,es.useFeaturePreviewModal)(),{data:l}=(0,Z.useSelectedOrganizationQuery)(),o=(0,es.useFeaturePreviewContext)(),{mutate:d}=(0,X.useSendEventMutation)(),{flags:c,onUpdateFlag:u}=o,h=ew.FEATURE_PREVIEWS.find(e=>e.key===r)??ew.FEATURE_PREVIEWS[0],m=c[r],f=er.IS_PLATFORM?ew.FEATURE_PREVIEWS:ew.FEATURE_PREVIEWS.filter(e=>!e.isPlatformOnly);return(0,s.jsx)(eh.Modal,{hideFooter:!0,showCloseButton:!0,size:"xlarge",className:"!max-w-4xl",header:"Dashboard feature previews",visible:t,onCancel:a,children:ew.FEATURE_PREVIEWS.length>0?(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("div",{children:(0,s.jsx)(em.ScrollArea,{className:"h-[550px] w-[280px] border-r",children:f.filter(e=>n(e)).map(e=>{let t=c[e.key]??!1;return(0,s.jsxs)("div",{onClick:()=>i(e.key),className:(0,eu.cn)("flex items-center space-x-3 p-4 border-b cursor-pointer bg transition",h.key===e.key?"bg-surface-300":"bg-surface-100"),children:[t?(0,s.jsx)(ea.Eye,{size:14,strokeWidth:2,className:"text-brand"}):(0,s.jsx)(en.EyeOff,{size:14,strokeWidth:1.5,className:"text-foreground-light"}),(0,s.jsx)("p",{className:"text-sm truncate",title:e.name,children:e.name})]},e.key)})})}),(0,s.jsxs)("div",{className:"flex-grow max-h-[550px] p-4 space-y-3 overflow-y-auto",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,s.jsx)("p",{children:h?.name}),h?.isNew&&(0,s.jsx)(ed.Badge,{variant:"success",children:"New"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-x-2",children:[h?.discussionsUrl!==void 0&&(0,s.jsx)(ec.Button,{asChild:!0,type:"default",icon:(0,s.jsx)(ei.ExternalLink,{strokeWidth:1.5}),children:(0,s.jsx)(eo.default,{href:h.discussionsUrl,target:"_blank",rel:"noreferrer",children:"Give feedback"})}),(0,s.jsxs)(ec.Button,{type:"default",onClick:()=>void(u(h.key,!m),d({action:m?"feature_preview_disabled":"feature_preview_enabled",properties:{feature:h.key},groups:{project:e??"Unknown",organization:l?.slug??"Unknown"}})),children:[m?"Disable":"Enable"," feature"]})]})]}),eS[h.key]]})]}):(0,s.jsxs)("div",{className:"h-[550px] flex flex-col items-center justify-center",children:[(0,s.jsx)(el.FlaskConical,{size:30,strokeWidth:1.5,className:"text-foreground-light"}),(0,s.jsxs)("div",{className:"mt-1 mb-3 flex flex-col items-center gap-y-0.5",children:[(0,s.jsx)("p",{className:"text-sm",children:"No feature previews available"}),(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Have an idea for the dashboard? Let us know via GitHub Discussions!"})]}),(0,s.jsx)(ec.Button,{asChild:!0,type:"default",icon:(0,s.jsx)(ei.ExternalLink,{strokeWidth:1.5}),children:(0,s.jsx)(eo.default,{href:"https://github.com/orgs/supabase/discussions/categories/feature-requests",target:"_blank",rel:"noreferrer",children:"GitHub Discussions"})})]})})};var eN=e.i(896975);let eE=()=>{let e=(0,r.useMonaco)(),{resolvedTheme:t}=(0,eN.useTheme)();return(0,l.useMemo)(()=>{if(e&&t){let s,r={base:(s=t.includes("dark"))?"vs-dark":"vs",inherit:!0,rules:[{token:"",background:s?"1f1f1f":"f0f0f0"},{token:"",background:s?"1f1f1f":"f0f0f0",foreground:s?"d4d4d4":"444444"},{token:"string.sql",foreground:"24b47e"},{token:"comment",foreground:"666666"},{token:"predefined.sql",foreground:s?"D4D4D4":"444444"}],colors:{"editor.background":s?"#1f1f1f":"#f0f0f0"}};e.editor.defineTheme("supabase",r)}},[t,e]),null};var eC=e.i(704206),eA=e.i(811025),ek=e.i(164045),eP=e.i(990510),eT=e.i(323796),eO=e.i(271226),eL=e.i(355901);let eI=({children:e})=>{let t=(0,eO.useRouter)(),{ref:r,slug:i,id:a}=(0,V.useParams)(),{data:n}=(0,Z.useSelectedOrganizationQuery)(),o=(0,eC.useIsLoggedIn)(),d=(0,eC.useIsMFAEnabled)(),{setLastVisitedSnippet:c,setLastVisitedTable:u}=(0,eP.useDashboardHistory)(),[h,m]=(0,J.useLocalStorageQuery)(ee.LOCAL_STORAGE_KEYS.LAST_VISITED_ORGANIZATION,""),f=er.IS_PLATFORM?h?`/org/${h}`:"/organizations":"/project/default",p=["/new/[slug]","/join"];function x(){return p.includes(t?.pathname)}let{isError:g}=(0,ek.useProjectDetailQuery)({ref:r}),{data:v,isSuccess:j}=(0,eA.useOrganizationsQuery)({enabled:o}),b=(0,eT.default)(v);return(0,l.useEffect)(()=>{if(!x()&&o&&j&&i&&!(b.current??[]).some(e=>e.slug===i)){eL.toast.error("You do not have access to this organization"),t.push(`${f}?error=org_not_found&org=${i}`);return}},[j]),(0,l.useEffect)(()=>{if(!x()&&o&&r&&g){eL.toast.error("You do not have access to this project"),t.push(f);return}},[g]),(0,l.useEffect)(()=>{void 0!==r&&void 0!==a&&(t.pathname.endsWith("/sql/[id]")&&"new"!==a?c(a):t.pathname.endsWith("/editor/[id]")&&u(a))},[r,a]),(0,l.useEffect)(()=>{n&&(m(n.slug),n.organization_requires_mfa&&!d&&"/org/[slug]"!==t.pathname&&t.push(`/org/${n.slug}`))},[n]),(0,s.jsx)(s.Fragment,{children:e})};var eR=e.i(940750),eU=e.i(457424),eM=e.i(912793),eB=e.i(902858),eD=e.i(196621),e$=e.i(710483),eF=e.i(223600);let ez=({message:e,sentryIssueId:t,urlMessage:r,resetErrorBoundary:i})=>{let a=(0,eO.useRouter)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-1 text-left py-2 w-full",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("p",{className:"text-lg font-bold",children:"Sorry! An unexpected error occurred."}),(0,s.jsx)(eF.default,{type:"outline",text:e,copyLabel:"Copy error"})]}),(0,s.jsx)("p",{className:"text-sm",children:"Application error: a client-side exception has occurred (see browser console for more information)"}),(0,s.jsx)("p",{className:"text-foreground-light text-sm",children:e})]}),(0,s.jsx)(e$.Admonition,{type:"note",showIcon:!1,title:"We recommend trying the following:",children:(0,s.jsxs)("ul",{className:"list-disc mt-1.5 pl-2 list-inside text-sm space-y-1",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:(0,eu.cn)(ep.InlineLinkClassName,"cursor-pointer"),onClick:()=>window.location.reload(),children:"Refresh"})," ","the page"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:(0,eu.cn)(ep.InlineLinkClassName,"cursor-pointer"),onClick:()=>a.push("/logout"),children:"Sign out"})," ","and sign back in"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:(0,eu.cn)(ep.InlineLinkClassName,"cursor-pointer"),onClick:()=>{try{localStorage.clear(),sessionStorage.clear()}catch(e){}window.location.reload()},children:"Clear your browser storage"})," ","to clean potentially outdated data"]}),(0,s.jsx)("li",{children:"Disable browser extensions that might modify page content (e.g. Google Translate)"}),(0,s.jsx)("li",{children:"If the problem persists, please contact support for assistance"})]})}),(0,s.jsxs)("div",{className:(0,eu.cn)("w-full mx-auto grid gap-2","grid-cols-2 sm:w-1/2"),children:[(0,s.jsx)(ec.Button,{asChild:!0,type:"default",icon:(0,s.jsx)(ei.ExternalLink,{}),children:(0,s.jsx)(eD.SupportLink,{queryParams:{category:eB.SupportCategories.DASHBOARD_BUG,subject:"Client side exception occurred on dashboard",sid:t,error:r},children:"Contact support"})}),(0,s.jsx)(ec.Button,{type:"outline",onClick:()=>i(),children:"Return to dashboard"})]})]})};var eH=e.i(482602),eq=e.i(48189);let eW=({message:e,sentryIssueId:t,urlMessage:r,isRemoveChildError:i,isInsertBeforeError:a})=>{let n=(0,eO.useRouter)(),l=(0,eq.detectBrowser)();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-4 text-left py-2 w-full",children:[(0,s.jsxs)("div",{className:"flex items-center gap-x-3",children:[(0,s.jsx)("p",{className:"text-lg font-bold",children:"Sorry! A browser extension may have caused an error."}),(0,s.jsx)(eH.Blocks,{className:"text-foreground-lighter"})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,s.jsx)("p",{className:"text-sm text-foreground-light",children:"Browser translation tools (like Chrome's built-in Translate) or some third-party browser extensions are known to cause errors when using the Supabase Dashboard."}),(0,s.jsxs)("p",{className:"text-sm text-foreground-light",children:["We highly recommend"," ",(0,s.jsx)("span",{className:"text-foreground",children:"Chrome"===l?"disabling Chrome Translate or certain browser extensions":"avoiding the use of browser translation tools or disabling certain extensions"})," ","while using the Supabase Dashboard to avoid running into this error. Try to refresh the browser to see if it occurs again."]})]}),(0,s.jsxs)("p",{className:"text-foreground-lighter text-sm",children:["Error: ",e]})]}),(0,s.jsxs)("div",{className:"flex gap-x-2 justify-center items-center",children:[(0,s.jsx)(ec.Button,{asChild:!0,type:"default",icon:(0,s.jsx)(ei.ExternalLink,{}),children:(0,s.jsx)("a",{target:"_blank",rel:"noreferrer",href:i?"https://github.com/facebook/react/issues/17256":a?"https://github.com/facebook/react/issues/24865":"/",children:"More information"})}),(0,s.jsx)(ec.Button,{type:"outline",onClick:()=>n.reload(),children:"Refresh page"})]}),(0,s.jsx)(eD.SupportLink,{className:"text-center text-xs text-foreground-lighter hover:text-foreground-light transition",queryParams:{category:eB.SupportCategories.DASHBOARD_BUG,subject:`Client error: Failed to execute '${i?"removeChild":"insertBefore"}' on 'Node'`,sid:t,error:r},children:"Still stuck?"})]})},eG=({error:e,resetErrorBoundary:t})=>{let r=(0,eO.useRouter)(),i=(0,eU.default)(e),a=(0,eM.useIsFeatureEnabled)("branding:large_logo"),n=i?e.message:"",l=i?`Path name: ${r.pathname}

${e?.stack}`:"",o=!!i&&n.includes("Failed to execute 'removeChild' on 'Node'"),d=!!i&&n.includes("Failed to execute 'insertBefore' on 'Node'"),c=(!!e&&"object"==typeof e&&e.sentryId)??"";return(0,s.jsxs)("div",{className:"w-screen mx-auto h-screen flex items-center justify-center",children:[(0,s.jsx)("header",{className:"h-12 absolute top-0 w-full border-b px-4 flex items-center",children:(0,s.jsx)(eo.default,{href:"/",className:"items-center justify-center",children:(0,s.jsx)("img",{alt:"Supabase",src:`${r.basePath}/img/supabase-logo.svg`,className:a?"h-[20px]":"h-[18px]"})})}),(0,s.jsx)("div",{className:"flex flex-col gap-y-4 max-w-full sm:max-w-[660px] px-4 sm:px-0",children:o||d?(0,s.jsx)(eW,{message:n,sentryIssueId:c,urlMessage:l,isRemoveChildError:o,isInsertBeforeError:d}):(0,s.jsx)(ez,{message:n,sentryIssueId:c,urlMessage:l,resetErrorBoundary:t})})]})};var eQ=e.i(741391),eY=e.i(662824);let eK={className:eY.default.className,style:{fontFamily:"'customFont', 'customFont Fallback', Circular, custom-font, Helvetica Neue, Helvetica, Arial, sans-serif"}};null!=eY.default.variable&&(eK.variable=eY.default.variable);var eV=e.i(55159);let eZ={className:eV.default.className,style:{fontFamily:"'Source Code Pro', Source Code Pro, Office Code Pro, Menlo, monospace",fontStyle:"normal"}};null!=eV.default.variable&&(eZ.variable=eV.default.variable);var eX=e.i(601116),eJ=e.i(837508),e0=e.i(432478),e1=e.i(102101),e2=e.i(10642),e4=e.i(117672),e5=e.i(416785),e6=e.i(232107),e3=e.i(964727),e9=e.i(905596);let e8=({children:e,...t})=>{let[r,i]=(0,l.useState)(!1),{categories:a,updateServices:n}=(0,e2.useConsentState)(),[o,d]=(0,l.useState)(()=>new Map);function c(e){let t=new Map(o);e.forEach(e=>{t.set(e.id,e.status)}),d(t)}return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{...t,onClick:()=>i(!0),children:e}),(0,s.jsx)(eh.Modal,{closable:!0,visible:r,alignFooter:"right",onCancel:()=>{i(!1)},onConfirm:()=>{n(Array.from(o.entries()).map(([e,t])=>({serviceId:e,status:t}))),i(!1)},header:"Privacy Settings",onInteractOutside:e=>{"dismissableLayer.pointerDownOutside"===e.type&&i(!r)},className:"max-w-[calc(100vw-4rem)]",size:"medium",children:(0,s.jsx)("div",{className:"pt-3 divide-y divide-border",children:null===a?(0,s.jsx)(eh.Modal.Content,{children:(0,s.jsx)(e$.Admonition,{type:"warning",title:"Unable to Load Privacy Settings",description:(0,s.jsxs)(s.Fragment,{children:["We couldn't load the privacy settings due to an ad blocker or network error. Please disable any ad blockers and try again. If the problem persists, please"," ",(0,s.jsx)(eo.default,{href:"https://supabase.com/dashboard/support/new",className:"underline",children:"contact support"}),"."]})})}):[...a].reverse().map(e=>(0,s.jsx)(e7,{category:e,handleServicesChange:c},e.slug))})})]})};function e7({category:e,handleServicesChange:t}){let[r,i]=(0,l.useState)(()=>e.services.every(e=>e.consent.status));return(0,s.jsx)(eh.Modal.Content,{children:(0,s.jsx)(e9.Toggle,{checked:r,defaultChecked:r,disabled:e.isEssential,onChange:function(){i(!r),t(e.services.map(e=>({id:e.id,status:!r})))},label:e.label,descriptionText:(0,s.jsxs)(s.Fragment,{children:[e.description,(0,s.jsx)("br",{}),(0,s.jsx)(eo.default,{href:"https://supabase.com/privacy#8-cookies-and-similar-technologies-used-on-our-european-services",className:"underline",children:"Learn more"})]})})},e.slug)}let te=({onAccept:e=e3.default,onOptOut:t=e3.default})=>{let r=(0,e6.useBreakpoint)(639);return(0,s.jsxs)("div",{className:"py-1 flex flex-col gap-y-3 w-full",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-sm text-foreground",children:["We use cookies to collect data and improve our services."," ",(0,s.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://supabase.com/privacy#8-cookies-and-similar-technologies-used-on-our-european-services",className:"hidden sm:inline underline underline-offset-2 decoration-foreground-lighter hover:decoration-foreground-light transition-all",children:"Learn more"})," "]}),(0,s.jsxs)("div",{className:"flex items-center justify-start gap-x-2 sm:hidden",children:[(0,s.jsx)("a",{target:"_blank",rel:"noreferrer noopener",href:"https://supabase.com/privacy#8-cookies-and-similar-technologies-used-on-our-european-services",className:"underline underline-offset-2 text-foreground-light hover:decoration-foreground-light transition-all",children:"Learn more"}),(0,s.jsx)("span",{className:"text-foreground-lighter text-xs",children:"â€¢"}),(0,s.jsx)(e8,{className:"underline underline-offset-2 inline text-light",children:"Privacy settings"})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(ec.Button,{type:"default",onClick:e,size:r?"small":"tiny",block:r,children:"Accept"}),(0,s.jsx)(ec.Button,{type:r?"outline":"text",onClick:t,size:r?"small":"tiny",block:r,children:"Opt out"}),(0,s.jsx)(ec.Button,{asChild:!0,type:"text",className:"hidden sm:block text-light hover:text-foreground",children:(0,s.jsx)(e8,{children:"Privacy settings"})})]})]})},tt=async e=>{let t=new TextEncoder().encode(e);return btoa(Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join(""))};function ts(){let e,t,r,i,{hasAcceptedConsent:a}=er.IS_PLATFORM?(e=(0,l.useRef)(),t=(0,e5.useSnapshot)(e2.consentState),r=(0,l.useCallback)(()=>{e4.isBrowser&&(t.acceptAll(),e.current&&eL.toast.dismiss(e.current))},[t.acceptAll]),i=(0,l.useCallback)(()=>{e4.isBrowser&&(t.denyAll(),(0,e1.clearTelemetryDataCookie)(),e.current&&eL.toast.dismiss(e.current))},[t.denyAll]),(0,l.useEffect)(()=>{e4.isBrowser&&t.showConsentToast?e.current=(0,eL.toast)((0,s.jsx)(te,{onAccept:r,onOptOut:i}),{id:"consent-toast",position:"bottom-right",duration:1/0,closeButton:!1,dismissible:!1,className:(0,eu.cn)("!w-screen !fixed !border-t !h-auto !left-0 !bottom-0 !top-auto !right-0 !rounded-none !max-w-none !bg-overlay !text","sm:!w-full sm:!max-w-[356px] sm:!left-auto sm:!right-8 sm:!bottom-8 sm:!rounded-lg sm:border")}):e.current&&eL.toast.dismiss(e.current)},[t.showConsentToast]),{hasAcceptedConsent:t.hasConsented}):{hasAcceptedConsent:!0},{data:o}=(0,Z.useSelectedOrganizationQuery)(),d=(0,eC.useUser)();return(0,l.useEffect)(()=>{d?.id&&(async()=>{let e=localStorage.getItem(ee.LOCAL_STORAGE_KEYS.SENTRY_USER_ID);e||(e=await tt(d?.id),localStorage.setItem(ee.LOCAL_STORAGE_KEYS.SENTRY_USER_ID,e)),n.setUser({id:e})})().catch(e=>console.error(e))},[d?.id]),(0,s.jsx)(P.PageTelemetry,{API_URL:er.API_URL,hasAcceptedConsent:a,enabled:er.IS_PLATFORM,organizationSlug:o?.slug})}var tr=e.i(317040),ti=e.i(776861),ta=e.i(613580);f.default.extend(p.default),f.default.extend(j.default),f.default.extend(v.default),f.default.extend(g.default),f.default.extend(x.default);let tn=({children:e,...t})=>{let{data:r}=(0,Z.useSelectedOrganizationQuery)({enabled:er.IS_PLATFORM});return(0,s.jsx)(A.FeatureFlagProvider,{...t,organizationSlug:r?.slug??void 0,children:e})};i.default.config({paths:{vs:er.IS_PLATFORM?"https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.52.2/min/vs":`${er.BASE_PATH}/monaco-editor`}}),e.s(["default",0,function({Component:e,pageProps:r}){let i=(0,eQ.useRootQueryClient)(),{appTitle:o}=(0,eg.useCustomContent)(["app:title"]),d=e.getLayout??(e=>e);(0,O.useThemeSandbox)();let c="test"===t.default.env.NEXT_PUBLIC_NODE_ENV,f=(0,eJ.useDefaultProvider)(),p=(0,l.useCallback)(e=>{let t=f?{cloud_provider:f}:void 0;return(0,k.getFlags)(e,t)},[f]);return(0,s.jsxs)(C.ErrorBoundary,{FallbackComponent:eG,onError:(e,t)=>{a.withScope(function(t){t.setTag("globalErrorBoundary",!0);let s=n.captureException(e);s&&e&&"object"==typeof e&&(e.sentryId=s)}),console.error(e.stack)},children:[(0,s.jsx)(u.QueryClientProvider,{client:i,children:(0,s.jsx)(E,{children:(0,s.jsx)(h,{state:r.dehydratedState,children:(0,s.jsx)(eX.AuthProvider,{children:(0,s.jsx)(tn,{API_URL:er.API_URL,enabled:er.IS_PLATFORM,getConfigCatFlags:p,children:(0,s.jsxs)(e0.ProfileProvider,{children:[(0,s.jsxs)(b.default,{children:[(0,s.jsx)("title",{children:o??"Supabase"}),(0,s.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,s.jsx)("meta",{property:"og:image",content:`${er.BASE_PATH}/img/supabase-logo.png`}),(0,s.jsx)("meta",{name:"googlebot",content:"notranslate"}),(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:`:root{--font-custom:${eK.style.fontFamily};--font-source-code-pro:${eZ.style.fontFamily};}`}}),er.IS_PLATFORM&&(0,s.jsx)("link",{rel:"preconnect",href:new URL(er.API_URL).origin,crossOrigin:"use-credentials"})]}),(0,s.jsx)(L.default,{applicationName:"Supabase Studio",includeManifest:!0}),(0,s.jsx)(ta.TooltipProvider,{delayDuration:0,children:(0,s.jsx)(eI,{children:(0,s.jsx)(T.ThemeProvider,{defaultTheme:"system",themes:["dark","light","classic-dark"],enableSystem:!0,disableTransitionOnChange:!0,children:(0,s.jsx)(tr.AiAssistantStateContextProvider,{children:(0,s.jsxs)(et,{children:[(0,s.jsxs)(es.FeaturePreviewContextProvider,{children:[(0,s.jsx)(eR.MainScrollContainerProvider,{children:d((0,s.jsx)(e,{...r}))}),(0,s.jsx)(M,{}),(0,s.jsx)(e_,{})]}),(0,s.jsx)(ti.SonnerToaster,{position:"top-right"}),(0,s.jsx)(eE,{})]})})})})}),(0,s.jsx)(ts,{}),!c&&(0,s.jsx)(m,{initialIsOpen:!1,buttonPosition:"bottom-left"})]})})})})})}),(0,s.jsx)(P.TelemetryTagManager,{})]})}],857848)},148985,(e,t,s)=>{let r="/_app";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(857848)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})}]);

//# debugId=8b79ba18-61e0-351c-fdd7-2db582f495af
//# sourceMappingURL=62f29f6dee0615e5.js.map