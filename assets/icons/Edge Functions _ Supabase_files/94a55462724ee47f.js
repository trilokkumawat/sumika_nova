;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9d62d782-c5f8-6920-c6b4-1d4fb00b8404")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,627069,e=>{"use strict";var t=e.i(478902),r=e.i(389959),a=e.i(843778);let i=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("overflow-hidden rounded-lg border bg-surface-100 text-card-foreground shadow-sm",e),...r}));i.displayName="Card";let n=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("flex flex-col space-y-1.5 py-4 px-[var(--card-padding-x)] border-b",e),...r}));n.displayName="CardHeader";let s=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("h3",{ref:i,className:(0,a.cn)("text-xs font-mono uppercase",e),...r}));s.displayName="CardTitle";let o=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("p",{ref:i,className:(0,a.cn)("text-sm text-foreground-lighter",e),...r}));o.displayName="CardDescription";let l=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("py-4 px-[var(--card-padding-x)] border-b last:border-none",e),...r}));l.displayName="CardContent";let c=r.forwardRef(({className:e,...r},i)=>(0,t.jsx)("div",{ref:i,className:(0,a.cn)("flex items-center py-4 px-[var(--card-padding-x)]",e),...r}));c.displayName="CardFooter",e.s(["Card",()=>i,"CardContent",()=>l,"CardDescription",()=>o,"CardFooter",()=>c,"CardHeader",()=>n,"CardTitle",()=>s])},177948,722639,749844,e=>{"use strict";var t=e.i(388019);let r=(0,t.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);e.s(["default",()=>r],722639),e.s(["ArrowDown",()=>r],177948);let a=(0,t.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);e.s(["ArrowUp",()=>a],749844)},365257,e=>{"use strict";let t=(0,e.i(388019).default)("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);e.s(["ChevronsUpDown",()=>t],365257)},679367,e=>{"use strict";var t=e.i(478902),r=e.i(389959),a=e.i(843778);let i=r.forwardRef(({className:e,containerClassName:i,children:n,stickyLastColumn:s,outerContainerRef:o,...l},c)=>{let u=r.useRef(null),{hasHorizontalScroll:d,canScrollLeft:f,canScrollRight:h}=(e=>{let[t,a]=r.useState(!1),[i,n]=r.useState(!1),[s,o]=r.useState(!1);return r.useEffect(()=>{let r=e.current;if(!r)return;let i=()=>{let e=r.scrollWidth>r.clientWidth;if(a(e),e){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;n(e),o(t)}else n(!1),o(!1)},s=()=>{if(t){let e=r.scrollLeft>0,t=r.scrollLeft<r.scrollWidth-r.clientWidth;n(e),o(t)}};return i(),r.addEventListener("scroll",s),window.addEventListener("resize",i),()=>{r.removeEventListener("scroll",s),window.removeEventListener("resize",i)}},[e,t]),{hasHorizontalScroll:t,canScrollLeft:i,canScrollRight:s}})(u),m=(0,a.cn)("[&_td:last-child]:before:absolute [&_td:last-child]:before:top-0 [&_td:last-child]:before:-left-6","[&_td:last-child]:before:bottom-0 [&_td:last-child]:before:w-6 [&_td:last-child]:before:bg-gradient-to-l","[&_td:last-child]:before:from-black/5 dark:[&_td:last-child]:before:from-black/20 [&_td:last-child]:before:to-transparent","[&_td:last-child]:before:opacity-0 [&_td:last-child]:before:transition-all [&_td:last-child]:before:duration-400","[&_td:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_td:last-child]:before:z-[39]","[&_th:last-child]:before:absolute [&_th:last-child]:before:top-0 [&_th:last-child]:before:-left-6","[&_th:last-child]:before:bottom-0 [&_th:last-child]:before:w-6 [&_th:last-child]:before:bg-gradient-to-l","[&_th:last-child]:before:from-black/5 dark:[&_th:last-child]:before:from-black/20 [&_th:last-child]:before:to-transparent","[&_th:last-child]:before:opacity-0 [&_th:last-child]:before:transition-all [&_th:last-child]:before:duration-400","[&_th:last-child]:before:easing-[0.24, 0.25, 0.05, 1] [&_th:last-child]:before:z-[39]");return(0,t.jsxs)("div",{ref:o,className:(0,a.cn)(i,"relative"),children:[(0,t.jsx)("div",{className:(0,a.cn)("absolute inset-0 pointer-events-none z-[38]","before:absolute before:top-0 before:right-0 before:bottom-0 before:w-6 before:bg-gradient-to-l before:from-black/5 dark:before:from-black/20 before:to-transparent before:opacity-0 before:transition-all before:duration-400 before:easing-[0.24, 0.25, 0.05, 1]","after:absolute after:top-0 after:left-0 after:bottom-0 after:w-6 after:bg-gradient-to-r after:from-black/5 dark:after:from-black/20 after:to-transparent after:opacity-0 after:transition-all after:duration-400 after:easing-[0.24, 0.25, 0.05, 1]",d&&"hover:before:opacity-100 hover:after:opacity-100",h&&"before:opacity-100",f&&"after:opacity-100")}),(0,t.jsx)("div",{ref:u,className:(0,a.cn)("w-full overflow-auto",s&&["[&_tr>*:last-child]:sticky [&_tr>*:last-child]:z-[38] [&_tr>*:last-child]:right-0","[&_tr:hover>*:last-child]:bg-transparent","[&_th>*:last-child]:bg-surface-100",m],d&&"[&_tr:hover>td:last-child]:!bg-surface-200",h&&"[&_td]:before:opacity-100 [&_tr>*:last-child]:before:opacity-100 [&_th:last-child]:before:opacity-100",e),...l,children:n})]})});i.displayName="ShadowScrollArea",e.s(["ShadowScrollArea",()=>i],679367)},492418,e=>{"use strict";var t=e.i(478902),r=e.i(177948),a=e.i(749844),i=e.i(365257),n=e.i(389959),s=e.i(843778),o=e.i(679367);let l=n.forwardRef(({className:e,containerProps:r,...a},i)=>(0,t.jsx)(o.ShadowScrollArea,{...r,children:(0,t.jsx)("table",{ref:i,className:(0,s.cn)("group/table w-full caption-bottom text-sm",e),...a})}));l.displayName="Table";let c=n.forwardRef(({className:e,...r},a)=>(0,t.jsx)("thead",{ref:a,className:(0,s.cn)("[&_tr]:border-b [&>tr]:bg-200",e),...r}));c.displayName="TableHeader";let u=n.forwardRef(({className:e,...r},a)=>(0,t.jsx)("tbody",{ref:a,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...r}));u.displayName="TableBody";let d=n.forwardRef(({className:e,...r},a)=>(0,t.jsx)("tfoot",{ref:a,className:(0,s.cn)("border-t font-medium",e),...r}));d.displayName="TableFooter";let f=n.forwardRef(({className:e,...r},a)=>(0,t.jsx)("tr",{ref:a,className:(0,s.cn)("border-b [&>td]:hover:bg-surface-200 data-[state=selected]:bg-muted",e),...r}));f.displayName="TableRow";let h=n.forwardRef(({className:e,...r},a)=>(0,t.jsx)("th",{ref:a,className:(0,s.cn)("h-10 px-4 text-left align-middle heading-meta whitespace-nowrap text-foreground-lighter [&:has([role=checkbox])]:pr-0","transition-colors",e),...r}));function m({column:e,currentSort:n,onSortChange:o,children:l,className:c}){let u,[d,f]=n.split(":"),h=d===e;return(0,t.jsxs)("button",{type:"button",className:(0,s.cn)("group/table-head-sort heading-meta whitespace-nowrap flex items-center gap-1 cursor-pointer select-none !bg-transparent border-none p-0 w-full text-left",c),onClick:()=>o(e),children:[l,(0,t.jsx)("div",{className:"w-3 h-3 relative overflow-hidden",children:(u="w-3 h-3 absolute inset-0",(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.ArrowUp,{className:(0,s.cn)(u,"transition-transform",h&&"asc"===f?"translate-y-0":"translate-y-full")}),(0,t.jsx)(r.ArrowDown,{className:(0,s.cn)(u,"transition-transform",h&&"desc"===f?"translate-y-0":"-translate-y-full")}),(0,t.jsx)(i.ChevronsUpDown,{className:(0,s.cn)(u,"transition-opacity opacity-80 md:opacity-40",h?"!opacity-0":"group-hover/table-head-sort:opacity-80")})]}))})]})}h.displayName="TableHead",m.displayName="TableHeadSort";let p=n.forwardRef(({className:e,...r},a)=>(0,t.jsx)("td",{ref:a,className:(0,s.cn)("transition-colors p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...r}));p.displayName="TableCell";let b=n.forwardRef(({className:e,...r},a)=>(0,t.jsx)("caption",{ref:a,className:(0,s.cn)("border-t","p-4 text-sm text-foreground-muted",e),...r}));b.displayName="TableCaption",e.s(["Table",()=>l,"TableBody",()=>u,"TableCaption",()=>b,"TableCell",()=>p,"TableFooter",()=>d,"TableHead",()=>h,"TableHeadSort",()=>m,"TableHeader",()=>c,"TableRow",()=>f])},108151,e=>{"use strict";var t=e.i(478902),r=e.i(389959),a=e.i(627069),i=e.i(843778),n=e.i(492418);let s=(0,r.forwardRef)(({className:e,style:r,delayIndex:a=0,animationDelay:n=150},s)=>(0,t.jsx)("div",{ref:s,className:(0,i.cn)("shimmering-loader rounded py-3",e),style:{...r,animationFillMode:"backwards",animationDelay:`${a*n}ms`}}));s.displayName="ShimmeringLoader",e.s(["GenericSkeletonLoader",0,({className:e})=>(0,t.jsxs)("div",{className:(0,i.cn)(e,"space-y-2"),children:[(0,t.jsx)(s,{}),(0,t.jsx)(s,{className:"w-3/4"}),(0,t.jsx)(s,{className:"w-1/2"})]}),"GenericTableLoader",0,({headers:e=[],numRows:r=3})=>(0,t.jsx)(a.Card,{children:(0,t.jsxs)(n.Table,{children:[(0,t.jsx)(n.TableHeader,{children:(0,t.jsx)(n.TableRow,{children:0===e.length?(0,t.jsx)(n.TableHead,{}):e.map((e,r)=>(0,t.jsx)(n.TableHead,{children:e},`${e}_${r}`))})}),(0,t.jsx)(n.TableBody,{children:Array(r).fill(0).map((r,a)=>(0,t.jsx)(n.TableRow,{children:(0,t.jsx)(n.TableCell,{colSpan:e.length,children:(0,t.jsx)(s,{})})},`row_${a}`))})]})}),"ShimmeringLoader",0,s,"default",0,s])},714403,908937,21150,591052,e=>{"use strict";var t=e.i(248593);e.i(242882);var r=e.i(234745);e.i(635494);var a=e.i(10429);e.i(837508);var i=e.i(48189);function n(){return Math.floor((Date.now()+36e5)/1e3)}function s(e,t){let r=n(),a=Math.floor(Date.now()/1e3);if("authenticated"===t.role){if("native"===t.userType&&t.user){let n=t.user;return{aal:t.aal??"aal1",amr:[{method:"password",timestamp:a}],app_metadata:n.raw_app_meta_data,aud:"authenticated",email:n.email,exp:r,iat:a,iss:`https://${e}.supabase.co/auth/v1`,phone:n.phone,role:n.role??t.role,session_id:(0,i.uuidv4)(),sub:n.id,user_metadata:n.raw_user_meta_data,is_anonymous:n.is_anonymous}}if("external"===t.userType&&t.externalAuth)return{aal:t.aal??"aal1",aud:"authenticated",exp:r,iat:a,role:"authenticated",session_id:(0,i.uuidv4)(),sub:t.externalAuth.sub,...t.externalAuth.additionalClaims}}return{iss:"supabase",ref:e,role:t.role,iat:a,exp:r}}let o="ROLE_IMPERSONATION_NO_RESULTS";function l(e,t){var r;let a,{role:i,claims:s}=t??{role:void 0,claims:void 0};if(void 0===i)return e;let l="postgrest"===i.type?void 0!==s?(a={...s,exp:n()},`
select set_config('role', '${i.role}', true),
set_config('request.jwt.claims', '${JSON.stringify(a).replaceAll("'","''")}', true),
set_config('request.method', 'POST', true),
set_config('request.path', '/impersonation-example-request-path', true),
set_config('request.headers', '{"accept": "*/*"}', true);
  `.trim()):"":(r=i.role,`
    set local role '${r}';
  `.trim());return`
    ${l}

    -- If the users sql returns no rows, pg-meta will
    -- fallback to returning the result of the impersonation sql.
    select 1 as "${o}";

    ${e}
  `.trim()}function c(e){return new TextEncoder().encode(e)}function u(e){return btoa(String.fromCharCode(...new Uint8Array("string"==typeof e?c(e):e))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function d(e,t){let r=u(c(JSON.stringify({alg:"HS256",typ:"JWT"})))+"."+u(c(JSON.stringify(e))),a=u(new Uint8Array(await window.crypto.subtle.sign({name:"HMAC"},await window.crypto.subtle.importKey("raw",c(t),{name:"HMAC",hash:"SHA-256"},!1,["sign","verify"]),c(r))));return`${r}.${a}`}function f(e,t,r){return d({...s(e,r),exp:n()},t)}function h(e){let t=parseFloat(e);return Number.isFinite(t)?t:void 0}function m(e){let t=parseInt(e,10);return Number.isNaN(t)?void 0:t}function p(e){if(e.details){let t=e.details.match(/Rows Removed by Filter:\s*(\d+)/);t&&(e.rowsRemovedByFilter=m(t[1]))}e.children.forEach(p)}function b(e){return e.reduce((e,t)=>Math.max(e,function e(t){return Math.max(t.actualTime?t.actualTime.end-t.actualTime.start:0,t.children.reduce((t,r)=>Math.max(t,e(r)),0))}(t)),0)}function E(e){let t={totalTime:0,totalCost:0,maxCost:0,hasSeqScan:!1,seqScanTables:[],hasIndexScan:!1},r=e=>{e.actualTime&&(t.totalTime=Math.max(t.totalTime,e.actualTime.end)),e.cost&&(t.maxCost=Math.max(t.maxCost,e.cost.end));let a=e.operation.toLowerCase();if(a.includes("seq scan")){t.hasSeqScan=!0;let r=e.details.match(/on\s+((?:"[^"]+"|[\w]+)(?:\.(?:"[^"]+"|[\w]+))*)/);r&&t.seqScanTables.push(r[1])}a.includes("index")&&(t.hasIndexScan=!0),e.children.forEach(r)};return e.forEach(r),t.totalCost=e[0]?.cost?.end??0,t}function T(e){let t=function(e){let t=e.map(e=>e["QUERY PLAN"]||"").filter(Boolean),r=[],a=[],i=/^(Filter|Sort Key|Group Key|Hash Cond|Join Filter|Index Cond|Recheck Cond|Rows Removed by Filter|Rows Removed by Index Recheck|Output|Merge Cond|Sort Method|Worker \d+|Buffers|Planning Time|Execution Time|One-Time Filter|InitPlan|SubPlan):/;for(let e=0;e<t.length;e++){let n=t[e];if(!n.trim())continue;let s=n.match(/^(\s*)/),o=s?s[1].length:0,l=n.includes("->"),c=n,u=o;if(l){let e=n.indexOf("->");u=e,c=n.substring(e+2).trim()}else c=n.trim();if(c.startsWith("Planning Time:")||c.startsWith("Execution Time:")||c.startsWith("Planning:")||c.startsWith("Execution:"))continue;if(i.test(c)&&a.length>0){let e=a[a.length-1].node;e.details+=(e.details?"\n":"")+c;continue}if(!l&&a.length>0&&o>0){let e=a[a.length-1];if(o>e.indent&&!c.match(/^\w+.*\(cost=/)){e.node.details+=(e.node.details?"\n":"")+c;continue}}let d=c.match(/^(.+?)\s*(\([^)]*cost=[^)]+\)(?:\s*\([^)]+\))*)?\s*$/);if(!d)continue;let[,f,p]=d,b=p?p.replace(/^\(|\)$/g,"").replace(/\)\s*\(/g," "):void 0,E=f.trim(),T="",y=f.match(/^(.+?)\s+on\s+(.+)$/i),N=f.match(/^(.+?)\s+using\s+(.+)$/i);y?(E=y[1].trim(),T="on "+y[2].trim()):N&&(E=N[1].trim(),T="using "+N[2].trim()),function(e,t,r,a){for(;a.length>0&&a[a.length-1].indent>=t;)a.pop();0===a.length?r.push(e):a[a.length-1].node.children.push(e),a.push({node:e,indent:t})}(function(e,t,r,a,i){let n={operation:e.trim(),details:t?.trim()||"",level:a,children:[],raw:i};if(r){let e=r.match(/cost=([\d.]+)\.\.([\d.]+)/);if(e){let t=h(e[1]),r=h(e[2]);void 0!==t&&void 0!==r&&(n.cost={start:t,end:r})}let t=r.match(/rows=(\d+)/);t&&(n.rows=m(t[1]));let a=r.match(/width=(\d+)/);a&&(n.width=m(a[1]));let i=r.match(/actual time=([\d.]+)\.\.([\d.]+)/);if(i){let e=h(i[1]),t=h(i[2]);void 0!==e&&void 0!==t&&(n.actualTime={start:e,end:t});let a=r.substring(r.indexOf("actual time=")).match(/rows=(\d+)/);a&&(n.actualRows=m(a[1]))}}return n}(E,T,b,l?Math.floor(u/6)+1:0,n),u,r,a)}return r}(e);return t.forEach(p),t}function y(e){if(!e)return[];let t=e.split("\n").filter(Boolean),r=[];for(let e of t){let t=e.indexOf(":");t>0?r.push({label:e.substring(0,t+1),value:e.substring(t+1).trim()}):e.trim()&&r.push({label:"",value:e.trim()})}return r}e.s(["ROLE_IMPERSONATION_NO_RESULTS",0,o,"ROLE_IMPERSONATION_SQL_LINE_COUNT",0,11,"getPostgrestClaims",()=>s,"getRoleImpersonationJWT",()=>f,"wrapWithRoleImpersonation",()=>l],908937),e.s(["sqlKeys",0,{query:(e,t)=>["projects",e,"query",...t],ongoingQueries:e=>["projects",e,"ongoing-queries"]}],21150),e.s(["calculateMaxDuration",()=>b,"calculateSummary",()=>E,"createNodeTree",()=>T,"parseDetailLines",()=>y],591052);let N="Query cost exceeds threshold";async function g({projectRef:e,connectionString:i,sql:n,queryKey:s,handleError:l,isRoleImpersonationEnabled:c=!1,isStatementTimeoutDisabled:u=!1,preflightCheck:d=!1},f,h,m){let p,b;if(!e)throw Error("projectRef is required");if(new Blob([n]).size>.98*a.MB)throw Error("Query is too large to be run via the SQL Editor");let y=new Headers(h);if(i&&y.set("x-connection-encrypted",i),m){let e=await m({query:n,headers:y});"data"in e?p=e.data:b=e.error}else{let a={signal:f,headers:y,params:{path:{ref:e},header:{"x-connection-encrypted":i??"","x-pg-application-name":u?"supabase/dashboard-query-editor":t.DEFAULT_PLATFORM_APPLICATION_NAME}}};if(d){let{data:e}=await (0,r.post)("/platform/pg-meta/{ref}/query",{...a,body:{query:`explain ${n}`,disable_statement_timeout:u}}),t=e?T(e):void 0,i=t?E(t):void 0,s=i?.totalCost??0;if(s>=1e5)return(0,r.handleError)({message:N,code:s,metadata:{cost:s,sql:n}})}let o=s?.filter(e=>"string"==typeof e||"number"==typeof e).join("-")??"",l=await (0,r.post)("/platform/pg-meta/{ref}/query",{...a,body:{query:n,disable_statement_timeout:u},params:{...a.params,query:{key:o}}});p=l.data,b=l.error}if(b){if(c&&"object"==typeof b&&null!==b&&"error"in b&&"formattedError"in b){let e=b,t=/LINE (\d+):/im,[,r]=t.exec(e.error)??[],a=Number(r);isNaN(a)||(e={...e,error:e.error.replace(t,`LINE ${a-11}:`),formattedError:e.formattedError.replace(t,`LINE ${a-11}:`)}),b=e}if(void 0!==l)return l(b);(0,r.handleError)(b)}return c&&Array.isArray(p)&&p?.[0]?.[o]===1?{result:[]}:{result:p}}e.s(["COST_THRESHOLD_ERROR",0,N,"executeSql",()=>g],714403)},246230,e=>{"use strict";e.s(["databaseKeys",0,{schemas:e=>["projects",e,"schemas"],keywords:e=>["projects",e,"keywords"],migrations:e=>["projects",e,"migrations"],tableColumns:(e,t,r)=>["projects",e,"table-columns",t,r],databaseFunctions:e=>["projects",e,"database-functions"],entityDefinition:(e,t)=>["projects",e,"entity-definition",t],entityDefinitions:(e,t)=>["projects",e,"entity-definitions",t],tableDefinition:(e,t)=>["projects",e,"table-definition",t],viewDefinition:(e,t)=>["projects",e,"view-definition",t],backups:e=>["projects",e,"database","backups"],poolingConfiguration:e=>["projects",e,"database","pooling-configuration"],indexesFromQuery:(e,t)=>["projects",e,"indexes",{query:t}],indexAdvisorFromQuery:(e,t)=>["projects",e,"index-advisor",{query:t}],tableConstraints:(e,t)=>["projects",e,"table-constraints",t],foreignKeyConstraints:(e,t)=>["projects",e,"foreign-key-constraints",t],databaseSize:e=>["projects",e,"database-size"],maxConnections:e=>["projects",e,"max-connections"],pgbouncerStatus:e=>["projects",e,"pgbouncer","status"],pgbouncerConfig:e=>["projects",e,"pgbouncer","config"],checkPrimaryKeysExists:(e,t)=>["projects",e,"check-primary-keys",t],tableIndexAdvisor:(e,t,r)=>["projects",e,"table-index-advisor",t,r]}])},667286,e=>{"use strict";e.s(["databaseExtensionsKeys",0,{list:e=>["projects",e,"database-extensions"],defaultSchema:(e,t)=>["projects",e,"database-extensions",t,"default-schema"]}])},479084,e=>{"use strict";let t=new Set(["AES128","AES256","ALL","ALLOWOVERWRITE","ANALYSE","ANALYZE","AND","ANY","ARRAY","AS","ASC","ASYMMETRIC","AUTHORIZATION","BACKUP","BETWEEN","BIGINT","BINARY","BIT","BLANKSASNULL","BOOLEAN","BOTH","BYTEDICT","CASE","CAST","CHAR","CHARACTER","CHECK","COALESCE","COLLATE","COLLATION","COLUMN","CONCURRENTLY","CONSTRAINT","CREATE","CREDENTIALS","CROSS","CURRENT_CATALOG","CURRENT_DATE","CURRENT_ROLE","CURRENT_SCHEMA","CURRENT_TIME","CURRENT_TIMESTAMP","CURRENT_USER_ID","CURRENT_USER","DEC","DECIMAL","DEFAULT","DEFERRABLE","DEFLATE","DEFRAG","DELETE","DELTA","DELTA32K","DESC","DISABLE","DISTINCT","DO","ELSE","EMPTYASNULL","ENABLE","ENCODE","ENCRYPT","ENCRYPTION","END","EXCEPT","EXISTS","EXPLICIT","EXTRACT","FALSE","FETCH","FLOAT","FOR","FOREIGN","FREEZE","FROM","FULL","GLOBALDICT256","GLOBALDICT64K","GRANT","GREATEST","GROUP","GROUPING","GZIP","HAVING","IDENTITY","IGNORE","ILIKE","IN","INITIALLY","INNER","INOUT","INSERT","INT","INTEGER","INTERSECT","INTERVAL","INTO","IS","ISNULL","JOIN","JSON_ARRAY","JSON_ARRAYAGG","JSON_EXISTS","JSON_OBJECT","JSON_OBJECTAGG","JSON_QUERY","JSON_SCALAR","JSON_SERIALIZE","JSON_TABLE","JSON_VALUE","JSON","LATERAL","LEADING","LEAST","LEFT","LIKE","LIMIT","LOCALTIME","LOCALTIMESTAMP","LUN","LUNS","LZO","LZOP","MERGE_ACTION","MINUS","MOSTLY13","MOSTLY32","MOSTLY8","NATIONAL","NATURAL","NCHAR","NEW","NONE","NORMALIZE","NOT","NOTNULL","NULL","NULLIF","NULLS","NUMERIC","OFF","OFFLINE","OFFSET","OLD","ON","ONLY","OPEN","OR","ORDER","OUT","OUTER","OVERLAPS","OVERLAY","PARALLEL","PARTITION","PERCENT","PLACING","POSITION","PRECISION","PRIMARY","RAW","READRATIO","REAL","RECOVER","REFERENCES","REJECTLOG","RESORT","RESTORE","RETURNING","RIGHT","ROW","SELECT","SESSION_USER","SETOF","SIMILAR","SMALLINT","SOME","SUBSTRING","SYMMETRIC","SYSDATE","SYSTEM_USER","SYSTEM","TABLE","TABLESAMPLE","TAG","TDES","TEXT255","TEXT32K","THEN","TIME","TIMESTAMP","TO","TOP","TRAILING","TREAT","TRIM","TRUE","TRUNCATECOLUMNS","UNION","UNIQUE","UPDATE","USER","USING","VALUES","VARCHAR","VARIADIC","VERBOSE","WALLET","WHEN","WHERE","WINDOW","WITH","WITHOUT","XMLATTRIBUTES","XMLCONCAT","XMLELEMENT","XMLEXISTS","XMLFOREST","XMLNAMESPACES","XMLPARSE","XMLPI","XMLROOT","XMLSERIALIZE","XMLTABLE"]);function r(e){return e.replace("T"," ").replace("Z","+00")}function a(e,t,r){let a="";for(let[i,n]of(a+=e?" (":"(",t.entries()))a+=(0===i?"":", ")+r(n);return a+")"}function i(e){if(null==e)throw Error("SQL identifier cannot be null or undefined");if(!1===e)return'"f"';if(!0===e)return'"t"';if(e instanceof Date)return`"${r(e.toISOString())}"`;if(Array.isArray(e)){let t=[];for(let r of e)if(!0===Array.isArray(r))throw TypeError("Nested array to grouped list conversion is not supported for SQL identifier");else t.push(i(r));return t.toString()}else if(e===Object(e))throw Error("SQL identifier cannot be an object");let a=String(e).slice(0);if(!0===/^[_a-z][\d$_a-z]*$/.test(a)&&!1==!!t.has(a.toUpperCase()))return a;let n='"';for(let e of a)n+='"'===e?e+e:e;return n+'"'}function n(e){let t,i="";if(null==e)return"NULL";if("bigint"==typeof e)return BigInt(e).toString();if(e===1/0)return"'Infinity'";if(e===-1/0)return"'-Infinity'";if(Number.isNaN(e))return"'NaN'";if("number"==typeof e)return Number(e).toString();if(!1===e)return"'f'";if(!0===e)return"'t'";if(e instanceof Date)return`'${r(e.toISOString())}'`;if(Array.isArray(e)){let t=[];for(let[r,i]of e.entries())!0===Array.isArray(i)?t.push(a(0!==r,i,n)):t.push(n(i));return t.toString()}e===Object(e)?(t="jsonb",i=JSON.stringify(e)):i=String(e).slice(0);let s=!1,o="'";for(let e of i)"'"===e?o+=e+e:"\\"===e?(o+=e+e,s=!0):o+=e;return o+="'",!0===s&&(o=`E${o}`),t&&(o+=`::${t}`),o}function s(e,...t){let o,l;return o=0,l=RegExp("%(%|(\\d+\\$)?[ILs])","g"),e.replace(l,(e,s)=>{if("%"===s)return"%";let l=o,c=s.split("$");if(c.length>1&&(l=Number.parseInt(c[0],10)-1,s=c[1]),l<0)throw Error("specified argument 0 but arguments start at 1");if(l>t.length-1)throw Error("too few arguments");return(o=l+1,"I"===s)?i(t[l]):"L"===s?n(t[l]):"s"===s?function e(t){if(null==t)return"";if(!1===t)return"f";if(!0===t)return"t";if(t instanceof Date)return r(t.toISOString());if(Array.isArray(t)){let r=[];for(let[i,n]of t.entries())null!=n&&(!0===Array.isArray(n)?r.push(a(0!==i,n,e)):r.push(e(n)));return r.toString()}return t===Object(t)?JSON.stringify(t):String(t).toString().slice(0)}(t[l]):void 0})}e.s(["format",()=>s,"ident",()=>i,"literal",()=>n],479084)},967533,332357,29659,193767,212695,721490,e=>{"use strict";var t=e.i(479084);function r(e,t){let r=`select count(*) from ${u(e)}`,{filters:a}=t??{};return a&&(r=l(r,a)),r+";"}function a(e,t){let r=`truncate ${u(e)}`,{cascade:a}=t??{};return a&&(r+=" cascade"),r+";"}function i(e,r,a){if(!r||0===r.length)throw Error("no filters for this delete query");let i=`delete from ${u(e)}`,{returning:n,enumArrayColumns:s}=a??{};return r&&(i=l(i,r)),n&&(i+=void 0===s||0===s.length?" returning *":` returning *, ${s.map(e=>`${(0,t.ident)(e)}::text[]`).join(",")}`),i+";"}function n(e,r,a){if(!r||0===r.length)throw Error("no value to insert");let{returning:i,enumArrayColumns:n}=a??{},s=Object.keys(r[0]).map(e=>(0,t.ident)(e)).join(","),o="";return o=0==s.length?(0,t.format)("insert into %1$s select from jsonb_populate_recordset(null::%1$s, %2$s)",u(e),(0,t.literal)(JSON.stringify(r))):(0,t.format)("insert into %1$s (%2$s) select %2$s from jsonb_populate_recordset(null::%1$s, %3$s)",u(e),s,(0,t.literal)(JSON.stringify(r))),i&&(o+=void 0===n||0===n.length?" returning *":` returning *, ${n.map(e=>`${(0,t.ident)(e)}::text[]`).join(",")}`),o+";"}function s(e,r,a,i=!0,n=!1){var o,c;let d,f="";f+=`select ${r??"*"} from ${n?(o=e,`${(0,t.ident)(o.name)}`):u(e)}`;let{filters:h,pagination:m,sorts:p}=a??{};if(h&&(f=l(f,h)),p&&(c=f,f=0===(d=p.filter(e=>e.column)).length?c:c+=` order by ${d.map(e=>{let r=e.ascending?"asc":"desc",a=e.nullsFirst?"nulls first":"nulls last";return`${(0,t.ident)(e.table)}.${(0,t.ident)(e.column)} ${r} ${a}`}).join(", ")}`),m){let{limit:e,offset:r}=m??{};f+=` limit ${(0,t.literal)(e)} offset ${(0,t.literal)(r)}`}return`${f}${i?";":""}`}function o(e,r,a){let{filters:i,returning:n,enumArrayColumns:s}=a??{};if(!i||0===i.length)throw Error("no filters for this update query");let o=Object.keys(r).map(e=>(0,t.ident)(e)).join(","),c=(0,t.format)("update %1$s set (%2$s) = (select %2$s from json_populate_record(null::%1$s, %3$s))",u(e),o,(0,t.literal)(JSON.stringify(r)));return i&&(c=l(c,i)),n&&(c+=void 0===s||0===s.length?" returning *":` returning *, ${s.map(e=>`${(0,t.ident)(e)}::text[]`).join(",")}`),c+";"}function l(e,r){return 0===r.length?e:e+=` where ${r.map(e=>{if(Array.isArray(e.column))switch(e.operator){case"in":var r,a,i=e;if(!Array.isArray(i.column))throw Error("Use inFilterSql for single columns");if(!Array.isArray(i.value))throw Error("Values for a tuple 'in' filter must be an array");let n=`(${i.column.map(e=>(0,t.ident)(e)).join(", ")})`,s=i.value.map(e=>{if(Array.isArray(e)){if(e.length!==i.column.length)throw Error("Tuple value length must match column length");return`(${e.map(e=>c(e)).join(", ")})`}{let t=String(e).split(",");if(t.length!==i.column.length)throw Error("Tuple value length must match column length");return`(${t.map(e=>c(e)).join(", ")})`}});return`${n} ${i.operator} (${s.join(", ")})`;case"=":case"<>":case">":case"<":case">=":case"<=":var o=e;if(!Array.isArray(o.column))throw Error("Use standard applyFilters for single column");if(!Array.isArray(o.value))throw Error("Tuple filter value must be an array");if(o.value.length!==o.column.length)throw Error("Tuple filter value must have the same length as the column array");let l=`(${o.column.map(e=>(0,t.ident)(e)).join(", ")})`,u=`(${o.value.map(e=>c(e)).join(", ")})`;return`${l} ${o.operator} ${u}`;default:throw Error(`Cannot use ${e.operator} operator in a tuple filter`)}switch(e.operator){case"in":let d;return d=Array.isArray((r=e).value)?r.value.map(e=>c(e)):String(r.value).split(",").map(e=>c(e)),`${(0,t.ident)(r.column)} ${r.operator} (${d.join(",")})`;case"is":var f=e;let h=String(f.value);switch(h){case"null":case"false":case"true":case"not null":return`${(0,t.ident)(f.column)} ${f.operator} ${h}`;default:return`${(0,t.ident)(f.column)} ${f.operator} ${c(f.value)}`}case"~~":case"~~*":case"!~~":case"!~~*":return a=e,`${(0,t.ident)(a.column)}::text ${a.operator} ${c(a.value)}`;default:return`${(0,t.ident)(e.column)} ${e.operator} ${c(e.value)}`}}).join(" and ")}`}function c(e){if("string"==typeof e&&!(e?.startsWith("ARRAY[")&&e?.endsWith("]")))return(0,t.literal)(e);return e}function u(e){return`${(0,t.ident)(e.schema)}.${(0,t.ident)(e.name)}`}e.s(["countQuery",()=>r,"deleteQuery",()=>i,"insertQuery",()=>n,"selectQuery",()=>s,"truncateQuery",()=>a,"updateQuery",()=>o],332357);class d{table;action;options;pagination;constructor(e,t,r){this.table=e,this.action=t,this.options=r}range(e,t){return this.pagination={offset:e,limit:t-e+1},this}toSql(e={isCTE:!1,isFinal:!0}){try{let{actionValue:t,actionOptions:l,filters:c,sorts:u}=this.options??{};switch(this.action){case"count":return r(this.table,{filters:c});case"delete":return i(this.table,c,{returning:l?.returning,enumArrayColumns:l?.enumArrayColumns});case"insert":return n(this.table,t,{returning:l?.returning,enumArrayColumns:l?.enumArrayColumns});case"select":return s(this.table,t,{filters:c,pagination:this.pagination,sorts:u},e.isFinal,e.isCTE);case"update":return o(this.table,t,{filters:c,returning:l?.returning,enumArrayColumns:l?.enumArrayColumns});case"truncate":return a(this.table,{cascade:l?.cascade});default:return""}}catch(e){throw e}}}e.s(["QueryModifier",()=>d],29659);class f{table;action;actionValue;actionOptions;filters;sorts;constructor(e,t,r,a){this.table=e,this.action=t,this.actionValue=r,this.actionOptions=a,this.filters=[],this.sorts=[]}filter(e,t,r){return this.filters.push({column:e,operator:t,value:r}),this}match(e){return Object.entries(e).map(([e,t])=>{this.filters.push({column:e,operator:"=",value:t})}),this}order(e,t,r=!0,a=!1){return this.sorts.push({table:e,column:t,ascending:r,nullsFirst:a}),this}range(e,t){return this._getQueryModifier().range(e,t)}clone(){let e=structuredClone({table:this.table,action:this.action,actionValue:this.actionValue,actionOptions:this.actionOptions,filters:this.filters,sorts:this.sorts}),t=new f(e.table,e.action,e.actionValue,e.actionOptions);return t.filters=e.filters,t.sorts=e.sorts,t}toSql(e){return this._getQueryModifier().toSql(e)}_getQueryModifier(){return new d(this.table,this.action,{actionValue:this.actionValue,actionOptions:this.actionOptions,filters:this.filters,sorts:this.sorts})}}e.s(["QueryFilter",()=>f],193767);class h{table;constructor(e){this.table=e}count(){return new f(this.table,"count")}delete(e){return new f(this.table,"delete",void 0,e)}insert(e,t){return new f(this.table,"insert",e,t)}select(e){return new f(this.table,"select",e)}update(e,t){return new f(this.table,"update",e,t)}truncate(e){return new f(this.table,"truncate",void 0,e)}}e.s(["QueryAction",()=>h],212695);class m{from(e,t){return new h({name:e,schema:t??"public"})}}e.s(["Query",()=>m],721490),e.s([],967533)},801834,e=>{"use strict";var t=e.i(755216),r=e.i(242882),a=e.i(714403),i=e.i(246230);let n=t.default.schemas.list();async function s({projectRef:e,connectionString:t},r){let{result:i}=await (0,a.executeSql)({projectRef:e,connectionString:t,sql:n.sql,queryKey:["schemas"]},r);return i}function o(e,t){return e.invalidateQueries({queryKey:i.databaseKeys.schemas(t)})}function l(e,{projectRef:t,connectionString:r}){return e.fetchQuery({queryKey:i.databaseKeys.schemas(t),queryFn:({signal:e})=>s({projectRef:t,connectionString:r},e)})}e.s(["invalidateSchemasQuery",()=>o,"prefetchSchemas",()=>l,"useSchemasQuery",0,({projectRef:e,connectionString:t},{enabled:a=!0,...n}={})=>(0,r.useQuery)({queryKey:i.databaseKeys.schemas(e),queryFn:({signal:r})=>s({projectRef:e,connectionString:t},r),enabled:a&&void 0!==e,...n})])}]);

//# debugId=9d62d782-c5f8-6920-c6b4-1d4fb00b8404
//# sourceMappingURL=d73bdab00bf765dd.js.map