;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="5fc26a23-b6a8-feb5-9167-7d5d991d0779")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var a=e.i(478902),t=e.i(710483);let s=({resourceText:e,isFullPage:s=!1})=>{let i=()=>(0,a.jsx)(t.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return s?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"max-w-lg",children:(0,a.jsx)(i,{})})}):(0,a.jsx)(i,{})};e.s(["NoPermission",0,s,"default",0,s])},532480,e=>{"use strict";let a=(0,e.i(388019).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["default",()=>a])},833655,e=>{"use strict";var a=e.i(532480);e.s(["Info",()=>a.default])},3259,100387,e=>{"use strict";var a=e.i(478902),t=e.i(153545),s=e.i(933505);e.s(["ChevronRightIcon",()=>s.default],100387);var s=s,i=e.i(389959),r=e.i(843778);let n=i.forwardRef(({...e},t)=>(0,a.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let l=i.forwardRef(({className:e,...t},s)=>(0,a.jsx)("ol",{ref:s,className:(0,r.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...t}));l.displayName="BreadcrumbList";let c=i.forwardRef(({className:e,...t},s)=>(0,a.jsx)("li",{ref:s,className:(0,r.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...t}));c.displayName="BreadcrumbItem";let d=i.forwardRef(({asChild:e,className:s,...i},n)=>{let l=e?t.Slot:"a";return(0,a.jsx)(l,{ref:n,className:(0,r.cn)("transition-colors underline lg:no-underline hover:text-foreground",s),...i})});d.displayName="BreadcrumbLink";let o=i.forwardRef(({className:e,...t},s)=>(0,a.jsx)("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("no-underline text-foreground",e),...t}));o.displayName="BreadcrumbPage";let u=({children:e,className:t,...i})=>(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:size-3.5 text-foreground-muted",t),...i,children:e??(0,a.jsx)(s.default,{})});u.displayName="BreadcrumbSeparator";let h=({className:e,...t})=>(0,a.jsxs)("span",{className:(0,r.cn)("flex h-4 w-4 items-center justify-center",e),...t,children:[(0,a.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"sr-only",children:"More"})]});h.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>n,"BreadcrumbEllipsis",()=>h,"BreadcrumbItem",()=>c,"BreadcrumbLink",()=>d,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>o,"BreadcrumbSeparator",()=>u],3259)},744061,418638,e=>{"use strict";var a=e.i(478902),t=e.i(938933),s=e.i(843778);function i({children:e,className:t,tag:s="div",style:i}){let r=`${s}`;return(0,a.jsx)(r,{style:i,children:e})}i.Title=function({className:e,level:t=1,children:s,style:i}){let r=`h${t}`;return(0,a.jsx)(r,{style:i,children:s})},i.Text=function({className:e,children:t,style:s,type:i,disabled:r,mark:n,code:l,keyboard:c,underline:d,strikethrough:o,strong:u,small:h}){return l?(0,a.jsx)("code",{style:s,children:t}):n?(0,a.jsx)("mark",{style:s,children:t}):c?(0,a.jsx)("kbd",{style:s,children:t}):u?(0,a.jsx)("strong",{style:s,children:t}):(0,a.jsx)("span",{style:s,children:t})},i.Link=function({children:e,target:t="_blank",href:s,className:i,onClick:r,style:n}){return(0,a.jsx)("a",{onClick:r,href:s,target:t,rel:"noopener noreferrer",style:n,children:e})},e.s(["default",0,i],418638);var r=e.i(389959);let n=(0,r.createContext)({type:"text"}),l=e=>{let{type:t}=e;return(0,a.jsx)(n.Provider,{value:{type:t},children:e.children})},c=()=>{let e=(0,r.useContext)(n);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function d({children:e,className:t,ulClassName:s,style:i,type:r="text"}){return(0,a.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:t,style:i,children:(0,a.jsx)(l,{type:r,children:(0,a.jsx)("ul",{className:s,children:e})})})}d.Item=function({children:e,icon:i,active:r,rounded:n,onClick:l,doNotCloseOverlay:d=!1,showActiveBar:o=!1,style:u}){let h=(0,t.default)("menu"),{type:m}=c(),p=[h.item.base];p.push(h.item.variants[m].base),r?p.push(h.item.variants[m].active):p.push(h.item.variants[m].normal);let f=[h.item.content.base];r?f.push(h.item.content.active):f.push(h.item.content.normal);let x=[h.item.icon.base];return r?x.push(h.item.icon.active):x.push(h.item.icon.normal),(0,a.jsxs)("li",{role:"menuitem",className:(0,s.cn)("outline-none",p),style:u,onClick:l,"aria-current":r?"page":void 0,children:[i&&(0,a.jsx)("div",{className:`${x.join(" ")} min-w-fit`,children:i}),(0,a.jsx)("span",{className:f.join(" "),children:e})]})},d.Group=function({children:e,icon:s,title:i}){let r=(0,t.default)("menu"),{type:n}=c();return(0,a.jsxs)("div",{className:[r.group.base,r.group.variants[n]].join(" "),children:[s&&(0,a.jsx)("span",{className:r.group.icon,children:s}),(0,a.jsx)("span",{className:r.group.content,children:i}),e]})},d.Misc=function({children:e}){return(0,a.jsx)("div",{children:(0,a.jsx)(i.Text,{children:(0,a.jsx)("span",{children:e})})})},e.s(["default",0,d],744061)},862326,e=>{"use strict";var a=e.i(744061);e.s(["Menu",()=>a.default])},388147,799793,e=>{"use strict";var a=e.i(478902),t=e.i(587433),s=e.i(862326),i=e.i(210419),r=e.i(837710);let n=({item:e,isActive:n,target:l="_self",hoverText:c="",onClick:d})=>{let{name:o="",url:u="",icon:h,rightIcon:m,isExternal:p,label:f,disabled:x}=e,b=(0,a.jsx)(s.Menu.Item,{icon:h,active:n,onClick:d,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:c||("string"==typeof o?o:""),children:[(0,a.jsx)("span",{className:"truncate flex-1 min-w-0",children:o}),void 0!==f&&(0,a.jsx)(t.Badge,{className:"flex-shrink-0",variant:"new"===f.toLowerCase()?"success":"warning",children:f})]}),m&&(0,a.jsx)("div",{children:m})]})});return x?(0,a.jsx)("div",{className:"opacity-50 pointer-events-none",children:b}):u?p?(0,a.jsx)(r.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:h,children:(0,a.jsx)(i.default,{href:u,target:"_blank",rel:"noreferrer",children:o})}):(0,a.jsx)(i.default,{href:u,className:"block",target:l,children:b}):b};e.s(["ProductMenuItem",0,n],799793),e.s(["ProductMenu",0,({page:e,menu:i})=>(0,a.jsx)("div",{className:"flex flex-col space-y-8",children:(0,a.jsx)(s.Menu,{type:"pills",children:i.map((r,l)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(s.Menu.Group,{title:r.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:r.title}),r.isPreview&&(0,a.jsx)(t.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:r.items.map(t=>{let s=t.pages?t.pages.includes(e??""):e===t.key;return(0,a.jsx)(n,{item:t,isActive:s,target:t.isExternal?"_blank":"_self"},t.key)})})]})}),l!==i.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},r.key||r.title))})})],388147)},127739,e=>{"use strict";var a=e.i(478902),t=e.i(709520),s=e.i(389959),i=e.i(843778);let r=(0,t.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),n=(0,s.forwardRef)(({className:e,size:t,...s},n)=>(0,a.jsx)("div",{ref:n,...s,className:(0,i.cn)(r({size:t}),e)}));n.displayName="PageContainer",e.s(["PageContainer",0,n])},456050,e=>{"use strict";var a=e.i(478902),t=e.i(709520),s=e.i(389959),i=e.i(843778),r=e.i(3259),n=e.i(127739);let l=(0,t.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),c=(0,s.createContext)({size:"default"}),d=()=>(0,s.useContext)(c),o=({className:e,size:t,children:s,...r})=>{let n=t??"default";return(0,a.jsx)(c.Provider,{value:{size:n},children:(0,a.jsx)("div",{"data-slot":"page-header","data-size":n,className:(0,i.cn)(l({size:n}),e),...r,children:s})})},u=({className:e,children:t,...s})=>{let{size:l}=d();return(0,a.jsx)(n.PageContainer,{size:l,children:(0,a.jsx)(r.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,i.cn)("flex items-center gap-4 [&_li]:text-xs",e),...s,children:t})})};u.displayName="PageHeaderBreadcrumb";let h=({className:e,...t})=>(0,a.jsx)("div",{"data-slot":"page-header-icon",className:(0,i.cn)("text-foreground-light",e),...t});h.displayName="PageHeaderIcon";let m=({className:e,children:t,...s})=>(0,a.jsx)("div",{"data-slot":"page-header-summary",className:(0,i.cn)("flex flex-col gap-1",e),...s,children:t});m.displayName="PageHeaderSummary";let p=({className:e,children:t,...s})=>(0,a.jsx)("h1",{"data-slot":"page-header-title",className:(0,i.cn)("heading-title",e),...s,children:t}),f=({className:e,children:t,...s})=>(0,a.jsx)("div",{"data-slot":"page-header-description",className:(0,i.cn)("heading-subSection text-foreground-light",e),...s,children:t}),x=({className:e,children:t,...s})=>{let{size:r}=d();return(0,a.jsx)(n.PageContainer,{size:r,children:(0,a.jsx)("div",{"data-slot":"page-header-meta",className:(0,i.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...s,children:t})})};x.displayName="PageHeaderMeta";let b=({className:e,...t})=>(0,a.jsx)("div",{"data-slot":"page-header-actions",className:(0,i.cn)("flex items-center gap-2 shrink-0",e),...t});b.displayName="PageHeaderAside";let j=({className:e,...t})=>{let{size:s}=d();return(0,a.jsx)(n.PageContainer,{size:s,className:(0,i.cn)("full"===s&&"border-b"),children:(0,a.jsx)("div",{"data-slot":"page-header-footer",className:(0,i.cn)("w-full [&>nav]:border-b-0","full"!==s&&"border-b",e),...t})})};j.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>o,"PageHeaderAside",()=>b,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>f,"PageHeaderIcon",()=>h,"PageHeaderMeta",()=>x,"PageHeaderNavigationTabs",()=>j,"PageHeaderSummary",()=>m,"PageHeaderTitle",()=>p])},450972,e=>{"use strict";var a=e.i(248593),t=e.i(242882),s=e.i(234745),i=e.i(635494);e.i(10429);var r=e.i(837508),n=e.i(667286);async function l({projectRef:e,connectionString:t},i,r){if(!e)throw Error("projectRef is required");let n=new Headers(r);t&&n.set("x-connection-encrypted",t);let{data:l,error:c}=await (0,s.get)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":t,"x-pg-application-name":a.DEFAULT_PLATFORM_APPLICATION_NAME},path:{ref:e}},headers:n,signal:i});return c&&(0,s.handleError)(c),l}e.s(["useDatabaseExtensionsQuery",0,({projectRef:e,connectionString:a},{enabled:s=!0,...c}={})=>{let{data:d}=(0,i.useSelectedProjectQuery)(),o=d?.status===r.PROJECT_STATUS.ACTIVE_HEALTHY;return(0,t.useQuery)({queryKey:n.databaseExtensionsKeys.list(e),queryFn:({signal:t})=>l({projectRef:e,connectionString:a},t),enabled:s&&void 0!==e&&o,...c})}])},737051,e=>{"use strict";e.i(128328);var a=e.i(657588),t=e.i(265735);e.s(["useIsETLPrivateAlpha",0,()=>{let{data:e}=(0,t.useSelectedOrganizationQuery)(),s=(0,a.useFlag)("etlPrivateAlpha"),i="string"==typeof s?s.split(",").map(e=>e.trim()):[];return(0,a.useFlag)("etlPrivateAlphaOverride")||i.includes(e?.slug??"")}])},812136,e=>{"use strict";var a=e.i(478902),t=e.i(271226),s=e.i(463333),i=e.i(737051),r=e.i(388147),n=e.i(450972),l=e.i(144676),c=e.i(912793),d=e.i(635494),o=e.i(951138),u=e.i(825713),h=e.i(731201);let m=()=>{let{data:e}=(0,d.useSelectedProjectQuery)(),o=(0,t.useRouter)().pathname.split("/")[4],{data:u}=(0,n.useDatabaseExtensionsQuery)({projectRef:e?.ref,connectionString:e?.connectionString}),{data:m}=(0,l.useProjectAddonsQuery)({projectRef:e?.ref}),p=void 0!==(u??[]).find(e=>"pg_net"===e.name),f=m?.selected_addons.find(e=>"pitr"===e.type)!==void 0,x=(0,s.useIsColumnLevelPrivilegesEnabled)(),b=(0,i.useIsETLPrivateAlpha)(),{databaseReplication:j,databaseRoles:g,integrationsWrappers:y}=(0,c.useIsFeatureEnabled)(["database:replication","database:roles","integrations:wrappers"]);return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.ProductMenu,{page:o,menu:(0,h.generateDatabaseMenu)(e,{pgNetExtensionExists:p,pitrEnabled:f,columnLevelPrivileges:x,showPgReplicate:j,enablePgReplicate:b,showRoles:g,showWrappers:y})})})},p=(0,o.withAuth)(({children:e})=>(0,a.jsx)(u.ProjectLayout,{product:"Database",productMenu:(0,a.jsx)(m,{}),isBlocking:!1,children:e}));e.s(["default",0,p])},102703,e=>{"use strict";var a=e.i(478902),t=e.i(17203),s=e.i(180148),i=e.i(699879),r=e.i(210419),n=e.i(389959),l=e.i(837710);let c=(0,n.forwardRef)(({icon:e,title:c,description:d,url:o,urlLabel:u="Read more",defaultVisibility:h=!1,hideCollapse:m=!1,button:p,className:f="",block:x=!1},b)=>{let[j,g]=(0,n.useState)(h);return(0,a.jsx)("div",{ref:b,role:"alert",className:`${x?"block w-full":""}
      block w-full rounded-md border bg-surface-300/25 py-3 ${f}`,children:(0,a.jsxs)("div",{className:"flex flex-col px-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex w-full space-x-3 items-center",children:[e&&(0,a.jsx)("span",{className:"text-foreground-lighter",children:e}),(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)("h5",{className:"text-foreground",children:c})})]}),d&&!m?(0,a.jsx)("div",{className:"cursor-pointer text-foreground-lighter",onClick:()=>g(!j),children:j?(0,a.jsx)(i.Minimize2,{size:14,strokeWidth:1.5}):(0,a.jsx)(s.Maximize2,{size:14,strokeWidth:1.5})}):null]}),(d||o||p)&&(0,a.jsxs)("div",{className:`flex flex-col space-y-3 overflow-hidden transition-all ${j?"mt-3":""}`,style:{maxHeight:500*!!j},children:[(0,a.jsx)("div",{className:"text-foreground-light text-sm",children:d}),o&&(0,a.jsx)("div",{children:(0,a.jsx)(l.Button,{asChild:!0,type:"default",icon:(0,a.jsx)(t.ExternalLink,{}),children:(0,a.jsx)(r.default,{href:o,target:"_blank",rel:"noreferrer",children:u})})}),p&&(0,a.jsx)("div",{children:p})]})]})})});c.displayName="InformationBox",e.s(["default",0,c])},418029,e=>{"use strict";var a=e.i(478902),t=e.i(837710),s=e.i(843778);e.s(["NoSearchResults",0,({searchString:e,withinTableCell:i=!1,onResetFilter:r,className:n,label:l,description:c})=>(0,a.jsxs)("div",{className:(0,s.cn)("flex items-center justify-between",!i&&"bg-surface-100 px-4 md:px-6 py-4 rounded-md border border-default",n),children:[(0,a.jsxs)("div",{className:"text-sm flex flex-col gap-y-0.5",children:[(0,a.jsx)("p",{className:"text-foreground",children:l??"No results found"}),(0,a.jsx)("p",{className:"text-foreground-lighter",children:c??`Your search for “${e}” did not return any results`})]}),void 0!==r&&(0,a.jsx)(t.Button,{type:"default",onClick:()=>r(),children:"Reset filter"})]})])},321605,25912,e=>{"use strict";var a=e.i(248593),t=e.i(242882),s=e.i(234745);let i={list:e=>["projects",e,"database-publications"]};async function r({projectRef:e,connectionString:t},i){if(!e)throw Error("projectRef is required");let r=new Headers;t&&r.set("x-connection-encrypted",t);let{data:n,error:l}=await (0,s.get)("/platform/pg-meta/{ref}/publications",{params:{header:{"x-connection-encrypted":t,"x-pg-application-name":a.DEFAULT_PLATFORM_APPLICATION_NAME},path:{ref:e}},headers:r,signal:i});return l&&(0,s.handleError)(l),n}e.s(["databasePublicationsKeys",0,i],25912),e.s(["useDatabasePublicationsQuery",0,({projectRef:e,connectionString:a},{enabled:s=!0,...n}={})=>(0,t.useQuery)({queryKey:i.list(e),queryFn:({signal:t})=>r({projectRef:e,connectionString:a},t),enabled:s&&void 0!==e,...n})],321605)},587768,e=>{"use strict";var a=e.i(755216),t=e.i(38429),s=e.i(356003),i=e.i(355901),r=e.i(714403),n=e.i(25912);async function l({projectRef:e,connectionString:t,id:s,tables:i,publish_insert:n,publish_update:l,publish_delete:c,publish_truncate:d}){let{sql:o}=a.default.publications.update(s,{tables:i,publish_insert:n,publish_update:l,publish_delete:c,publish_truncate:d}),{result:u}=await (0,r.executeSql)({projectRef:e,connectionString:t,sql:o,queryKey:["publication","update",s]});return u}e.s(["useDatabasePublicationUpdateMutation",0,({onSuccess:e,onError:a,...r}={})=>{let c=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>l(e),async onSuccess(a,t,s){let{projectRef:i}=t;await c.invalidateQueries({queryKey:n.databasePublicationsKeys.list(i)}),await e?.(a,t,s)},async onError(e,t,s){void 0===a?i.toast.error(`Failed to update database publication: ${e.message}`):a(e,t,s)},...r})}])},863562,e=>{"use strict";let a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>a])},672296,e=>{"use strict";function a(e){return e.split("#")[0]}function t(e,a={}){let{maxDepth:s=3,redaction:i="[REDACTED]",truncationNotice:r="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=a,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),c=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],d=new WeakMap;function o(e){let a=e;for(let{re:e}of c)a=a.replace(e,i);return a}function u(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(a,t){if(null==a||"number"==typeof a||"boolean"==typeof a||"bigint"==typeof a)return a;if("string"==typeof a)return o(a);if("function"==typeof a)return"[Function]";if(a instanceof Date)return a.toISOString();if(a instanceof RegExp)return a.toString();if(ArrayBuffer.isView(a)&&!(a instanceof DataView))return`[TypedArray byteLength=${a.byteLength}]`;if(a instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${a.byteLength}]`;if(t>=s)return r;if("object"==typeof a){if(d.has(a))return"[Circular]";if(Array.isArray(a)){let s=[];d.set(a,s);for(let i=0;i<a.length;i++)s[i]=e(a[i],t+1);return s}if(function(e){if(null===e||"object"!=typeof e)return!1;let a=Object.getPrototypeOf(e);return a===Object.prototype||null===a}(a)){let s={};for(let[r,n]of(d.set(a,s),Object.entries(a)))u(r)?s[r]=i:s[r]=e(n,t+1);return s}if(a instanceof Map){let s=[];for(let[r,n]of(d.set(a,s),a.entries())){let a=u(r)?i:e(r,t+1),l=u(r)?i:e(n,t+1);s.push([a,l])}return s}if(a instanceof Set){let s=[];for(let i of(d.set(a,s),a.values()))s.push(e(i,t+1));return s}if(a instanceof URL)return a.toString();if(a instanceof Error){let e={name:a.name,message:o(a.message),stack:r};return d.set(a,e),e}try{return o(String(a))}catch{return o(Object.prototype.toString.call(a))}}return o(String(a))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>t,"sanitizeUrlHashParams",()=>a])},533817,e=>{"use strict";var a=e.i(478902),t=e.i(902858),s=e.i(867637),i=e.i(833655),r=e.i(366652),n=e.i(210419),l=e.i(389959),c=e.i(355901);e.i(128328);var d=e.i(158639),o=e.i(567558),u=e.i(102703),h=e.i(418029),m=e.i(321605),p=e.i(587768),f=e.i(2579),x=e.i(635494),b=e.i(837710),j=e.i(627069),g=e.i(290811),y=e.i(492418),v=e.i(613580),N=e.i(746301),P=e.i(466472),k=e.i(108151);let w=({index:e})=>(0,a.jsxs)(y.TableRow,{children:[(0,a.jsx)(y.TableCell,{style:{width:"35%"},children:(0,a.jsx)(k.ShimmeringLoader,{className:"h-4 w-24 my-0.5 p-0",delayIndex:e})}),(0,a.jsx)(y.TableCell,{className:"hidden lg:table-cell",style:{width:"15%"},children:(0,a.jsx)(k.ShimmeringLoader,{className:"h-4 w-14 my-0.5 p-0",delayIndex:e})}),Array.from({length:4}).map((e,t)=>(0,a.jsx)(y.TableCell,{children:(0,a.jsx)(g.Switch,{size:"small",checked:!1,disabled:!0})},t)),(0,a.jsx)(y.TableCell,{className:"px-4 py-3 pr-2",children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(k.ShimmeringLoader,{className:"h-6 w-12 p-0",delayIndex:e})})})]}),_=()=>{let{ref:e}=(0,d.useParams)(),{data:k}=(0,x.useSelectedProjectQuery)(),[_,C]=(0,l.useState)(""),{data:T=[],error:S,isPending:A,isSuccess:E,isError:R}=(0,m.useDatabasePublicationsQuery)({projectRef:k?.ref,connectionString:k?.connectionString}),{mutate:B}=(0,p.useDatabasePublicationUpdateMutation)({onSuccess:()=>{c.toast.success("Successfully updated event"),D(null)}}),{can:L,isSuccess:M}=(0,f.useAsyncCheckPermissions)(t.PermissionAction.TENANT_SQL_ADMIN_WRITE,"publications"),I=[{event:"Insert",key:"publish_insert"},{event:"Update",key:"publish_update"},{event:"Delete",key:"publish_delete"},{event:"Truncate",key:"publish_truncate"}],z=(0===_.length?T:T.filter(e=>e.name.includes(_))).sort((e,a)=>e.id-a.id),[H,D]=(0,l.useState)(null),F=async()=>{if(!H||!k)return;let{publication:e,event:a,currentStatus:t}=H,s={projectRef:k.ref,connectionString:k.connectionString,id:e.id};s[`publish_${a.event.toLowerCase()}`]=!t,B(s)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(N.Input,{size:"tiny",icon:(0,a.jsx)(r.Search,{}),className:"w-48",placeholder:"Search for a publication",value:_,onChange:e=>C(e.target.value)})}),M&&!L&&(0,a.jsx)("div",{className:"w-[500px]",children:(0,a.jsx)(u.default,{icon:(0,a.jsx)(s.AlertCircle,{className:"text-foreground-light",strokeWidth:2}),title:"You need additional permissions to update database publications"})})]})}),(0,a.jsx)("div",{className:"w-full overflow-hidden overflow-x-auto",children:(0,a.jsx)(j.Card,{children:(0,a.jsxs)(y.Table,{children:[(0,a.jsx)(y.TableHeader,{children:(0,a.jsxs)(y.TableRow,{children:[(0,a.jsx)(y.TableHead,{children:"Name"}),(0,a.jsx)(y.TableHead,{children:"System ID"}),(0,a.jsx)(y.TableHead,{children:"Insert"}),(0,a.jsx)(y.TableHead,{children:"Update"}),(0,a.jsx)(y.TableHead,{children:"Delete"}),(0,a.jsx)(y.TableHead,{children:"Truncate"}),(0,a.jsx)(y.TableHead,{})]})}),(0,a.jsxs)(y.TableBody,{children:[A&&Array.from({length:2}).map((e,t)=>(0,a.jsx)(w,{index:t},t)),R&&(0,a.jsx)(y.TableRow,{children:(0,a.jsx)(y.TableCell,{colSpan:7,children:(0,a.jsx)(o.default,{error:S,subject:"Failed to retrieve publications"})})}),E&&z.map(t=>(0,a.jsxs)(y.TableRow,{children:[(0,a.jsx)(y.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-x-2",children:[t.name,["supabase_realtime","supabase_realtime_messages_publication"].includes(t.name)&&(0,a.jsxs)(v.Tooltip,{children:[(0,a.jsx)(v.TooltipTrigger,{children:(0,a.jsx)(i.Info,{size:14,className:"text-foreground-light"})}),(0,a.jsx)(v.TooltipContent,{side:"bottom",children:"supabase_realtime"===t.name?"Managed by Supabase and handles Postgres changes":"supabase_realtime_messages_publication"===t.name?"Managed by Supabase and handles broadcasts from the database":void 0})]})]})}),(0,a.jsx)(y.TableCell,{children:t.id}),I.map(e=>(0,a.jsx)(y.TableCell,{children:(0,a.jsx)(g.Switch,{size:"small",checked:t[e.key],disabled:!L,onClick:()=>{D({publication:t,event:e,currentStatus:t[e.key]})}})},e.key)),(0,a.jsx)(y.TableCell,{children:(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(b.Button,{asChild:!0,type:"default",style:{paddingTop:3,paddingBottom:3},children:(0,a.jsx)(n.default,{href:`/project/${e}/database/publications/${t.id}`,children:null===t.tables?"All tables":`${t.tables.length} ${1===t.tables.length?"table":"tables"}`})})})})]},t.name))]})]})})}),!A&&0===z.length&&(0,a.jsx)(h.NoSearchResults,{searchString:_,onResetFilter:()=>C(""),className:"rounded-t-none border-t-0"}),(0,a.jsx)(P.default,{visible:null!==H,title:`Confirm to toggle sending ${H?.event.event.toLowerCase()} events`,confirmLabel:"Confirm",confirmLabelLoading:"Updating",onCancel:()=>D(null),onConfirm:()=>{F()},children:(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["Are you sure you want to ",H?.currentStatus?"stop":"start"," ","sending ",H?.event.event.toLowerCase()," events for"," ",H?.publication.name,"?"]})})]})};var C=e.i(812136),T=e.i(448710),S=e.i(693241),A=e.i(127739),E=e.i(456050),R=e.i(228027);let B=()=>{let{can:e,isSuccess:s}=(0,f.useAsyncCheckPermissions)(t.PermissionAction.TENANT_SQL_ADMIN_READ,"publications");return s&&!e?(0,a.jsx)(S.default,{isFullPage:!0,resourceText:"view database publications"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(E.PageHeader,{size:"large",children:(0,a.jsx)(E.PageHeaderMeta,{children:(0,a.jsx)(E.PageHeaderSummary,{children:(0,a.jsx)(E.PageHeaderTitle,{children:"Database Publications"})})})}),(0,a.jsx)(A.PageContainer,{size:"large",children:(0,a.jsx)(R.PageSection,{children:(0,a.jsx)(R.PageSectionContent,{children:(0,a.jsx)(_,{})})})})]})};B.getLayout=e=>(0,a.jsx)(T.default,{children:(0,a.jsx)(C.default,{title:"Database",children:e})}),e.s(["default",0,B],533817)},991956,(e,a,t)=>{let s="/project/[ref]/database/publications";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(533817)]),a.hot&&a.hot.dispose(function(){window.__NEXT_P.push([s])})},111410,e=>{e.v(a=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(a=>e.l(a))).then(()=>a(677146)))},883471,e=>{e.v(a=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(a=>e.l(a))).then(()=>a(518769)))},774186,e=>{e.v(a=>Promise.all(["static/chunks/117b4e5883cfc423.js"].map(a=>e.l(a))).then(()=>a(376359)))},981889,e=>{e.v(a=>Promise.all(["static/chunks/e44cabdf5aea9bff.js"].map(a=>e.l(a))).then(()=>a(242525)))},730314,e=>{e.v(a=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/0860ba34f07162db.js","static/chunks/82dddbda1a808189.js","static/chunks/15e50b9d6c55f00a.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(a=>e.l(a))).then(()=>a(686651)))},753940,e=>{e.v(a=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(a=>e.l(a))).then(()=>a(478124)))},724565,e=>{e.v(a=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(a=>e.l(a))).then(()=>a(341546)))},591393,e=>{e.v(a=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(a=>e.l(a))).then(()=>a(217383)))},379416,e=>{e.v(a=>Promise.all(["static/chunks/031b0d6330b6fbae.js"].map(a=>e.l(a))).then(()=>a(931066)))},15732,e=>{e.v(a=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(a=>e.l(a))).then(()=>a(760545)))},957083,e=>{e.v(a=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(a=>e.l(a))).then(()=>a(667558)))},926327,e=>{e.v(a=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(a=>e.l(a))).then(()=>a(72947)))},207969,e=>{e.v(a=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(a=>e.l(a))).then(()=>a(427328)))},992842,e=>{e.v(a=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(a=>e.l(a))).then(()=>a(793794)))},239573,e=>{e.v(a=>Promise.all(["static/chunks/edc5d84148401903.js"].map(a=>e.l(a))).then(()=>a(210246)))},963685,e=>{e.v(a=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(a=>e.l(a))).then(()=>a(983756)))},665811,e=>{e.v(a=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(a=>e.l(a))).then(()=>a(544836)))},369256,e=>{e.v(a=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(a=>e.l(a))).then(()=>a(930239)))},16037,e=>{e.v(a=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(a=>e.l(a))).then(()=>a(397698)))},616788,e=>{e.v(a=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(a=>e.l(a))).then(()=>a(7346)))},315750,e=>{e.v(a=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(a=>e.l(a))).then(()=>a(531289)))},460510,e=>{e.v(a=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(a=>e.l(a))).then(()=>a(276898)))},550265,e=>{e.v(a=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(a=>e.l(a))).then(()=>a(259714)))},830960,e=>{e.v(a=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(a=>e.l(a))).then(()=>a(882885)))},336744,e=>{e.v(a=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(a=>e.l(a))).then(()=>a(955268)))},63631,e=>{e.v(a=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(a=>e.l(a))).then(()=>a(853630)))},396476,e=>{e.v(a=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(a=>e.l(a))).then(()=>a(62943)))},912072,e=>{e.v(a=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(a=>e.l(a))).then(()=>a(311301)))}]);

//# debugId=5fc26a23-b6a8-feb5-9167-7d5d991d0779
//# sourceMappingURL=51b81197f43a65e0.js.map