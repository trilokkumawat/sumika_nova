;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="98cd87fa-6620-7f67-9bc3-14ce4c7bf21b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var t=e.i(478902),s=e.i(710483);let a=({resourceText:e,isFullPage:a=!1})=>{let r=()=>(0,t.jsx)(s.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return a?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-lg",children:(0,t.jsx)(r,{})})}):(0,t.jsx)(r,{})};e.s(["NoPermission",0,a,"default",0,a])},152285,e=>{"use strict";var t=e.i(478902),s=e.i(700856),a=e.i(389959),r=e.i(938933);let i=({defaultActiveId:e,activeId:i,type:l="pills",size:n="tiny",block:o,onChange:c,onClick:d,scrollable:u,wrappable:p,addOnBefore:m,addOnAfter:f,listClassNames:h,baseClassNames:g,refs:x,children:j})=>{let _=a.Children.toArray(j),[b,y]=(0,a.useState)(i??e??_?.[0]?.props?.id);(0,a.useMemo)(()=>{i&&i!==b&&y(i)},[i]);let v=(0,r.default)("tabs");function E(e){d?.(e),e!==b&&(c?.(e),y(e))}let S=[v[l].list];return u&&S.push(v.scrollable),p&&S.push(v.wrappable),h&&S.push(h),(0,t.jsxs)(s.Root,{value:b,className:[v.base,g].join(" "),ref:x?.base,children:[(0,t.jsxs)(s.List,{className:S.join(" "),ref:x?.list,children:[m,_.map(e=>{let a=b===e.props.id,r=[v[l].base,v.size[n]];return a?r.push(v[l].active):r.push(v[l].inactive),o&&r.push(v.block),(0,t.jsxs)(s.Trigger,{onKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),E(e.props.id))},onClick:()=>E(e.props.id),value:e.props.id,className:r.join(" "),children:[e.props.icon,(0,t.jsx)("span",{children:e.props.label}),e.props.iconRight]},`${e.props.id}-tab-button`)}),f]}),_]})};i.Panel=({children:e,id:a,className:i})=>{let l=(0,r.default)("tabs");return(0,t.jsx)(s.Content,{value:a,className:[l.content,i].join(" "),children:e})},e.s(["default",0,i])},200409,e=>{"use strict";var t=e.i(152285);e.s(["Tabs",()=>t.default])},924529,e=>{"use strict";var t=e.i(242882),s=e.i(389959);e.i(128328);var a=e.i(86086),r=e.i(993394),i=e.i(460988),l=e.i(234745),n=e.i(912793),o=e.i(10429);let c=(e,c={},d=!0)=>{let u=(0,r.getDefaultHelper)(r.EXPLORER_DATEPICKER_HELPERS),[p,m]=(0,s.useState)({sql:c?.sql||"",iso_timestamp_start:c.iso_timestamp_start?c.iso_timestamp_start:u.calcFrom(),iso_timestamp_end:c.iso_timestamp_end?c.iso_timestamp_end:u.calcTo()}),{logsMetadata:f}=(0,n.useIsFeatureEnabled)(["logs:metadata"]);(0,s.useEffect)(()=>{m(e=>({...e,...c,sql:c?.sql??e.sql,iso_timestamp_start:c.iso_timestamp_start??e.iso_timestamp_start,iso_timestamp_end:c.iso_timestamp_end??e.iso_timestamp_end}))},[c.sql,c.iso_timestamp_start,c.iso_timestamp_end]);let h=d&&void 0!==e&&!!p.sql,g=(0,i.checkForWithClause)(p.sql||""),x=(0,i.checkForILIKEClause)(p.sql||""),{data:j,error:_,isPending:b,isRefetching:y,refetch:v}=(0,t.useQuery)({queryKey:["projects",e,"logs",p],queryFn:async({signal:t})=>{let{data:s,error:a}=await (0,l.get)("/platform/projects/{ref}/analytics/endpoints/logs.all",{params:{path:{ref:e},query:p},signal:t});if(a)throw a;return s},enabled:h,refetchOnWindowFocus:!1}),E=_?_.message:null;return!E&&j?.error&&(E=j?.error),a.IS_PLATFORM&&(g&&(E={message:"The parser does not yet support WITH and subquery statements.",docs:`${o.DOCS_URL}/guides/platform/advanced-log-filtering#the-with-keyword-and-subqueries-are-not-supported`}),x&&(E={message:"BigQuery does not support ILIKE. Use REGEXP_CONTAINS instead.",docs:`${o.DOCS_URL}/guides/platform/advanced-log-filtering#the-ilike-and-similar-to-keywords-are-not-supported`})),{params:p,isLoading:h&&b||y,logData:(j?.result??[]).map(e=>{if(f)return e;{let{metadata:t,...s}=e;return s}}),error:E,changeQuery:(e="")=>{m(t=>({...t,sql:e}))},runQuery:()=>v(),setParams:m}};e.s(["default",0,c,"useLogsQuery",0,c])},315641,e=>{"use strict";var t=e.i(857054);e.s(["logConstants",()=>t.default])},863562,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function s(e,t={}){let{maxDepth:a=3,redaction:r="[REDACTED]",truncationNotice:i="[REDACTED: max depth reached]",sensitiveKeys:l=[]}=t,n=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...l].map(e=>e.toLowerCase())),o=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function d(e){let t=e;for(let{re:e}of o)t=t.replace(e,r);return t}function u(e){return n.has(String(e).toLowerCase())}return e.map(e=>(function e(t,s){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return d(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(s>=a)return i;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let a=[];c.set(t,a);for(let r=0;r<t.length;r++)a[r]=e(t[r],s+1);return a}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let a={};for(let[i,l]of(c.set(t,a),Object.entries(t)))u(i)?a[i]=r:a[i]=e(l,s+1);return a}if(t instanceof Map){let a=[];for(let[i,l]of(c.set(t,a),t.entries())){let t=u(i)?r:e(i,s+1),n=u(i)?r:e(l,s+1);a.push([t,n])}return a}if(t instanceof Set){let a=[];for(let r of(c.set(t,a),t.values()))a.push(e(r,s+1));return a}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:d(t.message),stack:i};return c.set(t,e),e}try{return d(String(t))}catch{return d(Object.prototype.toString.call(t))}}return d(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>s,"sanitizeUrlHashParams",()=>t])},982760,e=>{"use strict";var t=e.i(478902),s=e.i(156054),a=e.i(202584),r=e.i(55956),i=e.i(271226),l=e.i(389959),n=e.i(355901);e.i(128328);var o=e.i(86086),c=e.i(947748),d=e.i(158639),u=e.i(993394),p=e.i(460988),m=e.i(182074),f=e.i(370410),h=e.i(88816),g=e.i(816467),x=e.i(17203),j=e.i(975924),_=e.i(210419),b=e.i(707843),y=e.i(912793),v=e.i(10429);e.i(287509);var E=e.i(315641),S=e.i(587433),k=e.i(837710),P=e.i(375761),w=e.i(874311),C=e.i(539013),T=e.i(200409),R=e.i(613580),N=e.i(748356);function L({name:e,desc:s}){return(0,t.jsxs)("div",{className:"grid gap-1",children:[(0,t.jsx)("div",{className:"font-mono font-bold",children:e}),s&&(0,t.jsx)("div",{className:"text-foreground-light",children:s})]})}let A=({field:e})=>{let[s,a]=(0,l.useState)(!1);return(0,t.jsxs)(b.default.tr,{children:[(0,t.jsxs)(b.default.td,{className:"font-mono text-xs !p-2 cursor-pointer hover:text-foreground transition flex items-center space-x-2",onClick:()=>(0,P.copyToClipboard)(e.path,()=>{a(!0),setTimeout(()=>a(!1),3e3)}),children:[(0,t.jsx)("span",{children:e.path}),s?(0,t.jsxs)(R.Tooltip,{children:[(0,t.jsx)(R.TooltipTrigger,{children:(0,t.jsx)(f.Check,{size:14,strokeWidth:3,className:"text-brand"})}),(0,t.jsx)(R.TooltipContent,{side:"bottom",children:"Copied"})]}):(0,t.jsxs)(R.Tooltip,{children:[(0,t.jsx)(R.TooltipTrigger,{children:(0,t.jsx)(g.Copy,{size:14,strokeWidth:1.5})}),(0,t.jsx)(R.TooltipContent,{side:"bottom",children:"Copy value"})]})]}),(0,t.jsx)(b.default.td,{className:"font-mono text-xs !p-2",children:e.type})]})},D=({templates:e=[],value:s,warnings:a,onSelectTemplate:r,onSelectSource:i,onDateChange:n})=>{let[c,d]=(0,l.useState)(!1),{logsTemplates:p}=(0,y.useIsFeatureEnabled)(["logs:templates"]),{projectAuthAll:f,projectStorageAll:g,projectEdgeFunctionAll:P}=(0,y.useIsFeatureEnabled)(["project_auth:all","project_storage:all","project_edge_function:all"]),D=Object.entries(u.LogsTableName).filter(([e])=>"AUTH"===e?f:"STORAGE"===e?g:"FN_EDGE"===e?P:"PG_CRON"!==e).map(([,e])=>e),[q,I]=(0,l.useState)(s);return(0,l.useEffect)(()=>{I(s)},[s.from,s.to,s.text,s.isHelper]),(0,t.jsx)("div",{className:"border-b bg-surface-100",children:(0,t.jsx)("div",{className:"flex w-full items-center justify-between px-4 md:px-5 py-2 overflow-x-scroll no-scrollbar",children:(0,t.jsxs)("div",{className:"flex w-full flex-row items-center justify-between gap-x-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(w.DropdownMenu,{children:[(0,t.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(k.Button,{type:"default",iconRight:(0,t.jsx)(h.ChevronDown,{}),children:"Insert source"})}),(0,t.jsx)(w.DropdownMenuContent,{side:"bottom",align:"start",className:"max-h-[390px] overflow-auto",children:D.sort((e,t)=>e.localeCompare(t)).map(e=>(0,t.jsx)(w.DropdownMenuItem,{onClick:()=>i(e),children:(0,t.jsx)(L,{name:e,desc:u.LOGS_SOURCE_DESCRIPTION[e]})},e))})]}),o.IS_PLATFORM&&p&&(0,t.jsxs)(w.DropdownMenu,{children:[(0,t.jsx)(w.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(k.Button,{type:"default",iconRight:(0,t.jsx)(h.ChevronDown,{}),children:"Templates"})}),(0,t.jsx)(w.DropdownMenuContent,{side:"bottom",align:"start",children:e.sort((e,t)=>e.label.localeCompare(t.label)).map(e=>(0,t.jsx)(w.DropdownMenuItem,{onClick:()=>r(e),children:(0,t.jsx)("p",{children:e.label})},e.label))})]}),(0,t.jsx)(N.LogsDatePicker,{value:q,onSubmit:e=>{I(e),n(e)},helpers:u.EXPLORER_DATEPICKER_HELPERS}),(0,t.jsx)("div",{"data-testid":"log-explorer-warnings",className:`transition-all duration-300 h-full ${a.length>0?"opacity-100":"invisible h-0 w-0 opacity-0"}`,children:(0,t.jsx)(R.Tooltip,{children:(0,t.jsxs)(R.TooltipTrigger,{className:"flex items-start",children:[(0,t.jsxs)(S.Badge,{variant:"warning",children:[a.length," ",a.length>1?"warnings":"warning"]}),(0,t.jsx)(R.TooltipContent,{className:"p-0 divide-y max-w-xs",side:"bottom",children:a.map((e,s)=>(0,t.jsxs)("p",{className:"px-3 py-1.5 text-xs text-foreground-light text-left",children:[e.text," ",e.link&&(0,t.jsx)(_.default,{href:e.link,children:e.linkText||"View"})]},s))})]})})})]}),(0,t.jsxs)(C.SidePanel,{size:"large",header:(0,t.jsxs)("div",{className:"flex flex-row justify-between items-center",children:[(0,t.jsx)("h3",{children:"Field Reference"}),(0,t.jsx)(k.Button,{type:"text",className:"px-1",onClick:()=>d(!1),icon:(0,t.jsx)(j.X,{})})]}),visible:c,cancelText:"Close",onCancel:()=>d(!1),hideFooter:!0,triggerElement:(0,t.jsx)(k.Button,{type:"text",onClick:()=>d(!0),icon:(0,t.jsx)(m.BookOpen,{}),className:"px-2",children:(0,t.jsx)("span",{children:"Field Reference"})}),children:[(0,t.jsx)(C.SidePanel.Content,{children:(0,t.jsx)("div",{className:"pt-4 pb-2 space-y-1",children:(0,t.jsxs)("p",{className:"text-sm",children:["The following table shows all the available paths that can be queried from each respective source. Do note that to access nested keys, you would need to perform the necessary"," ",(0,t.jsxs)(_.default,{href:`${v.DOCS_URL}/guides/platform/logs#unnesting-arrays`,target:"_blank",rel:"noreferrer",className:"text-brand",children:["unnesting joins",(0,t.jsx)(x.ExternalLink,{size:"14",className:"ml-1 inline -translate-y-[2px]",strokeWidth:1.5})]})]})})}),(0,t.jsx)(C.SidePanel.Separator,{}),(0,t.jsx)(T.Tabs,{scrollable:!0,size:"small",type:"underlined",defaultActiveId:"edge_logs",listClassNames:"px-2",children:E.logConstants.schemas.map(e=>(0,t.jsx)(T.Tabs.Panel,{id:e.reference,label:e.name,className:"px-4 pb-4",children:(0,t.jsx)(b.default,{head:[(0,t.jsx)(b.default.th,{className:"text-xs !p-2",children:"Path"},"path"),(0,t.jsx)(b.default.th,{className:"text-xs !p-2",children:"Type"},"type")],body:e.fields.sort((e,t)=>e.path-t.path).map(e=>(0,t.jsx)(A,{field:e},e.path))})},e.reference))})]})]})})})};var q=e.i(651068),I=e.i(979377),O=e.i(448710),M=e.i(20318),F=e.i(653961),H=e.i(744244),z=e.i(427432),U=e.i(929461),$=e.i(420985),B=e.i(924529),K=e.i(281192),G=e.i(276093),X=e.i(280590),Q=e.i(169240),W=e.i(48189),Z=e.i(432478),V=u;let Y=(e,t)=>e&&e.length>0?e:t.toISOString(),J=(e,t=V.EXPLORER_DATEPICKER_HELPERS)=>{let s=(0,r.default)();if(e.isHelper){let a=((e,t)=>{if(e.text)return t.find(t=>t.text===e.text)})(e,t)??(0,V.getDefaultHelper)(t);return{from:a?.calcFrom()??e.from??"",to:Y(a?.calcTo()??e.to,s)}}let a=(0,V.getDefaultHelper)(t);return{from:e.from||a.calcFrom(),to:Y(e.to,s)}};var ee=e.i(441345),et=e.i(171997),es=e.i(40892),ea=e.i(725805);let er=()=>{(0,p.useEditorHints)();let e=(0,s.useMonaco)(),m=(0,i.useRouter)(),{profile:f}=(0,Z.useProfile)(),{ref:h,q:g,queryId:x}=(0,d.useParams)(),{logsShowMetadataIpTemplate:j}=(0,y.useIsFeatureEnabled)(["logs:show_metadata_ip_template"]),_=(0,l.useMemo)(()=>j?u.TEMPLATES:u.TEMPLATES.filter(e=>"Metadata IP"!==e.label),[j]),b=(0,l.useRef)(),[v]=(0,l.useState)((0,W.uuidv4)()),{timestampStart:E,timestampEnd:S,setTimeRange:P}=(0,K.useLogsUrlState)(),w=(0,l.useMemo)(()=>(0,u.getDefaultHelper)(u.EXPLORER_DATEPICKER_HELPERS),[]),C=(0,l.useMemo)(()=>E&&S?{from:E,to:S,isHelper:!1}:E?{from:E,to:S||"",isHelper:!1}:{from:w.calcFrom(),to:w.calcTo(),isHelper:!0,text:w.text},[E,S,w]),[T,R]=(0,l.useState)(C),{logsDefaultQuery:N}=(0,G.useCustomContent)(["logs:default_query"]),L=o.IS_PLATFORM?N??"select\n  cast(timestamp as datetime) as timestamp,\n  event_message, metadata \nfrom edge_logs \nlimit 5":"select\n  timestamp, event_message, metadata\n  from edge_logs limit 5",[A,O]=(0,l.useState)(L),[M,Y]=(0,l.useState)(!1),[er,ei]=(0,l.useState)([]),[el,en]=(0,l.useState)(null),[eo,ec]=(0,a.useLocalStorage)(`project-content-${h}-recent-log-sql`,[]),{getEntitlementNumericValue:ed}=(0,X.useCheckEntitlements)("log.retention_days"),eu=ed(),{data:ep}=(0,U.useContentQuery)({projectRef:h,type:"log_sql"}),em=ep?.content.find(e=>e.id===x),ef=(0,l.useMemo)(()=>T.isHelper?J(T):E&&S?{from:E,to:S}:J(T),[E,S,T]),{params:eh,logData:eg,error:ex,isLoading:ej,setParams:e_}=(0,B.default)(h,{iso_timestamp_start:ef.from,iso_timestamp_end:ef.to},!0),{mutate:eb,isPending:ey}=(0,$.useContentUpsertMutation)({onError:e=>{console.error(e),Y(!1),x?n.toast.error(`Failed to update query: ${e.message}`):n.toast.error(`Failed to save query: ${e.message}`)},onSuccess:(e,t)=>{Y(!1),x?n.toast.success(`Updated "${t.payload.name}" log query`):n.toast.success(`Saved "${t.payload.name}" log query`)}}),ev=e=>{ec([...eo,{schema_version:"1",sql:"",content_id:"",...e}])},{showUpgradePrompt:eE,setShowUpgradePrompt:eS}=(0,Q.useUpgradePrompt)(eh.iso_timestamp_start),ek=e=>{let t="string"==typeof e&&e||A,s=((e,t,s=V.EXPLORER_DATEPICKER_HELPERS)=>{let a=J(e,s);return{sql:t,from:a.from,to:a.to}})(T,t);e_(e=>({...e,sql:s.sql,iso_timestamp_start:s.from,iso_timestamp_end:s.to})),T.isHelper?P("",""):P(s.from,s.to);let a={...m.query,q:t};T.isHelper&&(delete a.its,delete a.ite),m.push({pathname:m.pathname,query:a}),ev({sql:t})},eP=async(e,{setSubmitting:t})=>{if(!h)return console.error("Project ref is required");if(!f)return console.error("Profile is required");t(!0);let s=(0,W.uuidv4)();eb({projectRef:h,payload:{id:s,name:e.name,description:e.description||"",type:"log_sql",content:{content_id:v,sql:A,schema_version:"1",favorite:!1},owner_id:f.id,visibility:"user"}},{onSuccess:()=>m.push(`/project/${h}/logs/explorer?queryId=${s}`)})};return(0,l.useEffect)(()=>{g&&O(g)},[g]),(0,l.useEffect)(()=>{C.isHelper||R(C)},[C]),(0,l.useEffect)(()=>{let e=[],t=E?(0,r.default)(E):(0,r.default)(),s=S?(0,r.default)(S):(0,r.default)();Math.abs(t.diff(s,"days"))>=u.LOGS_LARGE_DATE_RANGE_DAYS_THRESHOLD&&e.push({text:"Querying large date ranges can be slow. Consider selecting a smaller date range."}),A&&!A.toLowerCase().includes("limit")&&e.push({text:"When querying large date ranges, include a LIMIT clause."}),ei(e)},[A,E,S]),(0,l.useEffect)(()=>{E&&(0,p.maybeShowUpgradePromptIfNotEntitled)(E,eu)&&eS(!0)},[E,eu,eS]),(0,t.jsxs)("div",{className:"w-full h-full mx-auto",children:[(0,t.jsxs)(ea.ResizablePanelGroup,{className:"w-full h-full max-h-screen",direction:"vertical",autoSaveId:c.LOCAL_STORAGE_KEYS.LOG_EXPLORER_SPLIT_SIZE,children:[(0,t.jsxs)(ea.ResizablePanel,{collapsible:!0,minSize:5,children:[(0,t.jsx)(D,{value:T,onDateChange:e=>{R(e);let t=J(e);(0,p.maybeShowUpgradePromptIfNotEntitled)(t.from,eu)?eS(!0):(e.isHelper?P("",""):P(t.from||"",t.to||""),e_(e=>({...e,iso_timestamp_start:t.from,iso_timestamp_end:t.to})))},onSelectSource:t=>{if(b.current&&e){let s=b.current?.getModel(),a=b.current.getValue(),r=a.indexOf("from"),i=r<0?`${a}${t}`:`${a.substring(0,r+4)} ${t} ${a.substring(r+5)}`;b.current.pushUndoStop(),b.current.executeEdits("insert-identifier",[{text:i,range:s?.getFullModelRange()??new e.Range(1,1,1,1)}]),b.current.pushUndoStop(),b.current.focus()}},templates:_.filter(e=>"custom"===e.mode),onSelectTemplate:t=>{if(b.current&&e){let s=b.current?.getModel();b.current.pushUndoStop(),b.current.executeEdits("insert-identifier",[{text:t.searchString,range:s?.getFullModelRange()??new e.Range(1,1,1,1)}]),b.current.pushUndoStop(),b.current.focus()}ev({sql:t.searchString})},warnings:er}),(0,t.jsx)(z.default,{active:ej}),(0,t.jsx)(F.default,{id:v,editorRef:b,language:"pgsql",defaultValue:A,onInputChange:e=>O(e||""),actions:{runQuery:{enabled:!0,callback:ek}}})]}),(0,t.jsx)(ea.ResizableHandle,{withHandle:!0}),(0,t.jsx)(ea.ResizablePanel,{collapsible:!0,minSize:5,className:"overflow-auto",children:(0,t.jsxs)(H.default,{active:ej,children:[(0,t.jsx)(q.default,{isSaving:ey,showHistogramToggle:!1,onRun:ek,onSave:function(){return h?x&&em?void eb({projectRef:h,payload:{...em,content:{...em.content,sql:A}}}):void Y(!M):console.error("Project ref is required")},hasEditorValue:!!A,data:eg,error:ex,projectRef:h,onSelectedLogChange:en,selectedLog:el||void 0}),(0,t.jsx)("div",{className:"flex flex-row justify-end mt-2",children:(0,t.jsx)(I.default,{show:eE,setShowUpgradePrompt:eS})})]})})]}),(0,t.jsx)(es.Modal,{size:"medium",onCancel:()=>Y(!M),header:"Save log query",visible:M,hideFooter:!0,children:(0,t.jsx)(ee.Form,{initialValues:{name:"",description:""},onSubmit:eP,children:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(es.Modal.Content,{className:"space-y-6",children:[(0,t.jsx)(et.Input,{layout:"horizontal",label:"Name",id:"name"}),(0,t.jsx)("div",{className:"text-area-text-sm",children:(0,t.jsx)(et.Input.TextArea,{layout:"horizontal",labelOptional:"Optional",label:"Description",id:"description",rows:2})})]}),(0,t.jsx)(es.Modal.Separator,{}),(0,t.jsxs)(es.Modal.Content,{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(k.Button,{size:"tiny",type:"default",onClick:()=>Y(!M),children:"Cancel"}),(0,t.jsx)(k.Button,{size:"tiny",loading:ey,disabled:ey,htmlType:"submit",children:"Save"})]})]})})})]})};er.getLayout=e=>(0,t.jsx)(O.default,{children:(0,t.jsx)(M.default,{children:e})}),e.s(["LogsExplorerPage",0,er,"default",0,er],982760)},394264,(e,t,s)=>{let a="/project/[ref]/logs/explorer";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(982760)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},774186,e=>{e.v(t=>Promise.all(["static/chunks/117b4e5883cfc423.js"].map(t=>e.l(t))).then(()=>t(376359)))},981889,e=>{e.v(t=>Promise.all(["static/chunks/e44cabdf5aea9bff.js"].map(t=>e.l(t))).then(()=>t(242525)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/0734037b67c1024e.js","static/chunks/82dddbda1a808189.js","static/chunks/15e50b9d6c55f00a.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},753940,e=>{e.v(t=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(t=>e.l(t))).then(()=>t(478124)))},724565,e=>{e.v(t=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(t=>e.l(t))).then(()=>t(341546)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/031b0d6330b6fbae.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},926327,e=>{e.v(t=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(t=>e.l(t))).then(()=>t(72947)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},396476,e=>{e.v(t=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(t=>e.l(t))).then(()=>t(62943)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))}]);

//# debugId=98cd87fa-6620-7f67-9bc3-14ce4c7bf21b
//# sourceMappingURL=d31d6ecf79648d48.js.map