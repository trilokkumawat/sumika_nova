;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="322d878d-6cce-f016-c6a7-382acaf7ee1a")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,201683,813088,e=>{"use strict";var t=e.i(242882),r=e.i(356003),i=e.i(389959),a=e.i(714403),s=e.i(21150);let o=`
SELECT id, name, file_size_limit
FROM storage.buckets
WHERE file_size_limit IS NOT NULL
ORDER BY file_size_limit DESC
LIMIT 51;
`.trim(),n=e=>s.sqlKeys.query(e,["buckets-with-largest-size-limit"]);e.s(["LARGEST_SIZE_LIMIT_BUCKETS_COUNT",0,50,"getLargestSizeLimitBucketsKey",0,n,"getLargestSizeLimitBucketsSqlUnoptimized",0,o],813088);var l=e.i(918117);let c=e=>(0,l.getLiveTupleEstimateKey)(e,"buckets","storage"),u=async({projectRef:e,connectionString:t})=>{if(!e)throw Error("Project reference is required");let r=c(e);try{let i=(0,l.getLiveTupleEstimate)("buckets","storage"),{result:s}=await (0,a.executeSql)({projectRef:e,connectionString:t,queryKey:r,sql:i});return s[0]?.live_tuple_estimate}catch{return}},d=async({projectRef:e,connectionString:t})=>{if(!e)throw Error("Project reference is required");if(!t)throw Error("Connection string is required");let r=n(e),{result:i}=await (0,a.executeSql)({projectRef:e,connectionString:t,queryKey:r,sql:o});return i};e.s(["THRESHOLD_FOR_AUTO_QUERYING_BUCKET_LIMITS",0,1e4,"getBucketNumberEstimate",0,u,"getBucketNumberEstimateKey",0,c,"useLargestBucketSizeLimitsCheck",0,({projectRef:e,connectionString:a})=>{let s=(0,r.useQueryClient)(),o=c(e),{data:l,isPending:p}=(0,t.useQuery)({queryKey:o,queryFn:()=>u({projectRef:e,connectionString:a}),enabled:!!e&&!!a}),m=n(e);return{runCondition:void 0!==l&&l<=1e4?"auto":"confirm",runQuery:(0,i.useCallback)(()=>s.fetchQuery({queryKey:m,queryFn:()=>d({projectRef:e,connectionString:a})}),[s,e,a,m]),isEstimatePending:p}}],201683)},937163,e=>{"use strict";e.s(["storageKeys",0,{bucket:(e,t)=>["projects",e,"buckets",t],buckets:e=>["projects",e,"buckets"],bucketsList:(e,t={})=>["projects",e,"buckets","list",{limit:t.limit,search:t.search,sortColumn:t.sortColumn,sortOrder:t.sortOrder}],analyticsBuckets:e=>["projects",e,"analytics-buckets"],vectorBuckets:e=>["projects",e,"vector-buckets"],vectorBucket:(e,t)=>["projects",e,"vector-bucket",t],vectorBucketsIndexes:(e,t)=>["projects",e,"vector-buckets",t,"indexes"],archive:e=>["projects",e,"archive"],icebergNamespaces:({projectRef:e,warehouse:t})=>[e,"warehouse",t,"namespaces"],icebergNamespace:({projectRef:e,warehouse:t,namespace:r})=>[e,"warehouse",t,"namespaces",r],icebergNamespaceTables:({projectRef:e,warehouse:t,namespace:r})=>[e,"warehouse",t,"namespaces",r,"tables"]}])},34231,e=>{"use strict";var t=e.i(201844),r=e.i(867088),i=e.i(242882),a=e.i(356003),s=e.i(389959),o=e.i(234745),n=e.i(741391),l=e.i(635494);e.i(10429);var c=e.i(837508);e.i(56031);var u=e.i(237948),d=e.i(201683),p=e.i(937163);async function m({projectRef:e,bucketId:t},r){if(!e)throw Error("projectRef is required");if(!t)throw Error("bucketId is required");let{data:i,error:a}=await (0,o.get)("/platform/storage/{ref}/buckets/{id}",{params:{path:{ref:e,id:t}},signal:r});return a&&(0,o.handleError)(a),i}let h=100,g="created_at",y="desc",f=async({projectRef:e,page:t=0,limit:r=h,sortColumn:i=g,sortOrder:a=y,search:s},n)=>{if(!e)throw Error("projectRef is required");let l=s?.trim(),c=l&&l.length>0?l:void 0,{data:u,error:d}=await (0,o.get)("/platform/storage/{ref}/buckets",{params:{path:{ref:e},query:{limit:r,offset:t*r,sortColumn:i,sortOrder:a,search:c}},signal:n});return d&&(0,o.handleError)(d),u},b=({projectRef:e,bucketId:t},{enabled:r=!0,...a})=>{let{data:s}=(0,l.useSelectedProjectQuery)(),o=s?.status===c.PROJECT_STATUS.ACTIVE_HEALTHY;return(0,i.useQuery)({queryKey:p.storageKeys.bucket(e,t),queryFn:({signal:r})=>m({projectRef:e,bucketId:t},r),enabled:r&&!!t&&o,...a,retry:x})},x=(e,t)=>!(t instanceof u.ResponseError&&(t.message.includes("Missing tenant config")||t.message.includes("Project has no active API keys")))&&e<n.MAX_RETRY_FAILURE_COUNT;e.s(["useBucketInfoQueryPreferCached",0,(e,t)=>{let r=(0,a.useQueryClient)(),i=(0,s.useMemo)(()=>{if(!e)return;let i=r.getQueryData(p.storageKeys.bucketsList(t));return(i?.pages.flatMap(e=>e)??[]).find(t=>t.name===e)},[e,t,r]),o=!!e&&!i,{data:n}=b({projectRef:t,bucketId:e},{enabled:o});if(e)return i??n},"useBucketNumberEstimateQuery",0,({projectRef:e},{enabled:t=!0,...r}={})=>{let{data:a}=(0,l.useSelectedProjectQuery)(),s=a?.connectionString;return(0,i.useQuery)({queryKey:(0,d.getBucketNumberEstimateKey)(e),queryFn:()=>(0,d.getBucketNumberEstimate)({projectRef:e,connectionString:s}),enabled:t&&!!e,...r})},"useBucketQuery",0,b,"usePaginatedBucketsQuery",0,({projectRef:e,...i},{enabled:a=!0,...s}={})=>{let{data:o}=(0,l.useSelectedProjectQuery)(),n=o?.status===c.PROJECT_STATUS.ACTIVE_HEALTHY,{placeholderData:u,...d}=s,m=u??t.keepPreviousData;return(0,r.useInfiniteQuery)({queryKey:p.storageKeys.bucketsList(e,i),queryFn:({signal:t,pageParam:r})=>f({projectRef:e,page:r,...i},t),enabled:a&&void 0!==e&&n,initialPageParam:0,getNextPageParam:(e,t)=>{let r=t.length,a=i.limit??h;if(!(e.length<a))return r},...d,placeholderData:m,retry:x})}])},918117,e=>{"use strict";var t=e.i(479084),r=e.i(21150);e.s(["getLiveTupleEstimate",0,(e,r="public")=>`
SELECT n_live_tup AS live_tuple_estimate
FROM pg_stat_user_tables
WHERE schemaname = ${(0,t.literal)(r)}
AND relname = ${(0,t.literal)(e)};
`.trim(),"getLiveTupleEstimateKey",0,(e,t,i="public")=>r.sqlKeys.query(e,["live-tuple-estimate",i,t])])},240788,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(68205);async function a({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:i,error:a}=await (0,r.get)("/v1/projects/{ref}/functions",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useEdgeFunctionsQuery",0,({projectRef:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.edgeFunctionsKeys.list(e),queryFn:({signal:t})=>a({projectRef:e},t),enabled:r&&void 0!==e,...s})])},471998,e=>{"use strict";let t=(0,e.i(388019).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>t],471998)},170149,e=>{"use strict";var t=e.i(478902);e.i(128328);var r=e.i(657588),i=e.i(532728),a=e.i(370410),s=e.i(816467),o=e.i(389959),n=e.i(408891),l=e.i(837710),c=e.i(843778),u=e.i(375761),d=e.i(253214),p=e.i(428353),m=e.i(24315),h=e.i(215317),g=e.i(61863),y=e.i(191209),f=e.i(837243),b=e.i(846887),x=e.i(378277),S=e.i(97429),v=e.i(710483);let _=(0,o.forwardRef)(({title:e,size:r="small",onConfirm:_,visible:j,onCancel:R,loading:C,cancelLabel:P="Cancel",confirmLabel:E="Submit",confirmPlaceholder:w,confirmString:I,alert:k,input:O,label:N,description:A,formMessage:D,text:z,children:T,blockDeleteButton:L=!0,variant:M="default",errorMessage:q="Value entered does not match",enableCopy:B=!1,...V},F)=>{let[W,K]=(0,o.useState)(!1),U=S.z.object({confirmValue:S.z.preprocess(e=>"string"==typeof e?e.trim():e,S.z.literal(I.trim(),{errorMap:()=>({message:q})}))}),Q=(0,n.useForm)({resolver:(0,i.zodResolver)(U),reValidateMode:"onChange",defaultValues:{confirmValue:""}}),$=Q.formState.isValid;return(0,o.useEffect)(()=>{I&&Q.reset()},[I]),(0,o.useEffect)(()=>{if(!W)return;let e=setTimeout(()=>K(!1),2e3);return()=>clearTimeout(e)},[W]),(0,t.jsx)(d.Dialog,{open:j,...V,onOpenChange:()=>{j&&R()},children:(0,t.jsxs)(d.DialogContent,{ref:F,className:"p-0 gap-0 pb-5 !block",size:r,children:[(0,t.jsx)(d.DialogHeader,{className:(0,c.cn)("border-b"),padding:"small",children:(0,t.jsx)(d.DialogTitle,{className:"",children:e})}),k&&(0,t.jsx)(v.Admonition,{type:M,label:k.title,description:k.description,className:"border-x-0 rounded-none -mt-px",...k?.base}),T&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.DialogSection,{padding:"small",children:T}),(0,t.jsx)(d.DialogSectionSeparator,{})]}),void 0!==z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.DialogSection,{className:"p-5",padding:"small",children:(0,t.jsx)("p",{className:"text-foreground-light text-sm",children:z})}),(0,t.jsx)(d.DialogSectionSeparator,{})]}),(0,t.jsx)(p.Form_Shadcn_,{...Q,children:(0,t.jsxs)("form",{autoComplete:"off",onSubmit:Q.handleSubmit(function(e){_()}),className:"px-5 flex flex-col gap-y-3 pt-3",children:[(0,t.jsx)(g.FormField_Shadcn_,{control:Q.control,name:"confirmValue",render:({field:e})=>(0,t.jsxs)(y.FormItem_Shadcn_,{className:"flex flex-col gap-y-2",children:[(0,t.jsxs)(f.FormLabel_Shadcn_,{...N,enableSelection:!B,children:["Type"," ",B?(0,t.jsx)(l.Button,{type:"default",className:"h-[23px] px-1.5 py-0 border-muted text-sm whitespace-pre break-all",iconRight:W?(0,t.jsx)(a.Check,{strokeWidth:2,className:"text-brand"}):(0,t.jsx)(s.Copy,{}),onClick:()=>{K(!0),(0,u.copyToClipboard)(I)},children:I}):(0,t.jsx)("span",{className:"text-foreground break-all whitespace-pre",children:I})," ","to confirm."]}),(0,t.jsx)(m.FormControl_Shadcn_,{children:(0,t.jsx)(x.Input_Shadcn_,{autoComplete:"off",placeholder:w,...O,...e})}),!!A&&(0,t.jsx)(h.FormDescription_Shadcn_,{...A}),(0,t.jsx)(b.FormMessage_Shadcn_,{...D})]})}),(0,t.jsxs)("div",{className:"flex gap-2",children:[!L&&(0,t.jsx)(l.Button,{size:"medium",block:!0,type:"default",disabled:C,onClick:R,children:P}),(0,t.jsx)(l.Button,{block:!0,size:"medium",type:"destructive"===M?"danger":"warning"===M?"warning":"primary",htmlType:"submit",loading:C,disabled:!$||C,className:"truncate",children:E})]})]})})]})})});_.displayName="TextConfirmModal",e.s(["TextConfirmModal",0,e=>{let i=(0,r.useFlag)("textConfirmationModalClickToCopy");return(0,t.jsx)(_,{...e,enableCopy:i})}],170149)},382710,e=>{"use strict";let t=(0,e.i(388019).default)("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);e.s(["Monitor",()=>t],382710)},489084,e=>{"use strict";let t=(0,e.i(388019).default)("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);e.s(["default",()=>t])},940750,e=>{"use strict";var t=e.i(478902),r=e.i(389959);let i=(0,r.createContext)(null),a=(0,r.createContext)(()=>{});e.s(["MainScrollContainerProvider",0,({children:e})=>{let[s,o]=(0,r.useState)(null);return(0,t.jsx)(i.Provider,{value:s,children:(0,t.jsx)(a.Provider,{value:o,children:e})})},"useMainScrollContainer",0,()=>(0,r.useContext)(i),"useSetMainScrollContainer",0,()=>(0,r.useContext)(a)])},872646,e=>{"use strict";let t=(0,e.i(388019).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],872646)},786741,e=>{"use strict";let t=(0,e.i(388019).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],786741)},31563,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(711950);async function a({slug:e},t){if(!e)throw Error("slug is required");let{data:i,error:a}=await (0,r.get)("/platform/organizations/{slug}/members/reached-free-project-limit",{params:{path:{slug:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useFreeProjectLimitCheckQuery",0,({slug:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.organizationKeys.freeProjectLimitCheck(e),queryFn:({signal:t})=>a({slug:e},t),enabled:r&&void 0!==e,...s})])},423782,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(874311),a=e.i(613580),s=e.i(843778);let o=(0,r.forwardRef)(({...e},r)=>(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(i.DropdownMenuItem,{ref:r,...e,className:(0,s.cn)(e.className,"!pointer-events-auto"),onClick:t=>{!e.disabled&&e.onClick&&e.onClick(t)},children:e.children})}),e.disabled&&void 0!==e.tooltip.content.text&&(0,t.jsx)(a.TooltipContent,{...e.tooltip.content,children:e.tooltip.content.text})]}));o.displayName="DropdownMenuItemTooltip",e.s(["DropdownMenuItemTooltip",0,o])},710377,e=>{"use strict";let t=(0,e.i(388019).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);e.s(["ArrowRight",()=>t],710377)},427432,e=>{"use strict";var t=e.i(478902);e.s(["default",0,({active:e})=>e?(0,t.jsx)("div",{className:"logs-shimmering-loader w-full h-0.5"}):null])},677436,e=>{"use strict";var t=e.i(38429),r=e.i(356003),i=e.i(355901),a=e.i(234745),s=e.i(522525);async function o({projectRef:e,is_default:t,branchName:r,gitBranch:i,region:s,withData:o,desired_instance_size:n}){let{data:l,error:c}=await (0,a.post)("/v1/projects/{ref}/branches",{params:{path:{ref:e}},body:{is_default:t,branch_name:r,git_branch:i,region:s,with_data:o,desired_instance_size:n}});return c&&(0,a.handleError)(c),l}e.s(["useBranchCreateMutation",0,({onSuccess:e,onError:a,...n}={})=>{let l=(0,r.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>o(e),async onSuccess(t,r,i){let{projectRef:a}=r;await l.invalidateQueries({queryKey:s.branchKeys.list(a)}),await e?.(t,r,i)},async onError(e,t,r){void 0===a?i.toast.error(`Failed to create branch: ${e.message}`):a(e,t,r)},...n})}])},362784,e=>{"use strict";var t=e.i(38429),r=e.i(355901),i=e.i(234745);async function a({repositoryId:e,branchName:t},r){let{data:a,error:s}=await (0,i.get)("/platform/integrations/github/repositories/{repository_id}/branches/{branch_name}",{params:{path:{repository_id:e,branch_name:t}},signal:r});return s&&(0,i.handleError)(s),a}e.s(["useCheckGithubBranchValidity",0,({onSuccess:e,onError:i,...s}={})=>(0,t.useMutation)({mutationFn:e=>a(e),async onSuccess(t,r,i){await e?.(t,r,i)},async onError(e,t,a){void 0===i?r.toast.error(`Failed to check GitHub branch: ${e.message}`):i(e,t,a)},...s})])},462142,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(78162);async function a({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:i,error:a}=await (0,r.get)("/platform/projects/{ref}/config/postgrest",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["parseDbSchemaString",0,e=>e.split(",").map(e=>e.trim()).filter(e=>e.length>0),"useProjectPostgrestConfigQuery",0,({projectRef:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.configKeys.postgrest(e),queryFn:({signal:t})=>a({projectRef:e},t),enabled:r&&void 0!==e,...s})])},148210,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(224649);async function a({organizationId:e},t){if(!e)throw Error("organizationId is required");let{data:i,error:a}=await (0,r.get)("/platform/integrations/github/connections",{params:{query:{organization_id:e}},signal:t});return a&&(0,r.handleError)(a),i.connections}e.s(["useGitHubConnectionsQuery",0,({organizationId:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.integrationKeys.githubConnectionsList(e),queryFn:({signal:t})=>a({organizationId:e},t),enabled:r&&void 0!==e,staleTime:18e5,...s})])},1606,136764,e=>{"use strict";let t=(0,e.i(388019).default)("CirclePause",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);e.s(["default",()=>t],136764),e.s(["PauseCircle",()=>t],1606)},981682,e=>{"use strict";var t=e.i(38429),r=e.i(355901),i=e.i(234745);async function a({projectRef:e,orgSlug:t,reasons:r,message:a,exitAction:s}){let{data:o,error:n}=await (0,i.post)("/platform/feedback/downgrade",{body:{...void 0!==e&&{projectRef:e},...void 0!==t&&{orgSlug:t},reasons:r,additionalFeedback:a,exitAction:s}});return n&&(0,i.handleError)(n),o}e.s(["useSendDowngradeFeedbackMutation",0,({onError:e,...i}={})=>(0,t.useMutation)({mutationFn:e=>a(e),async onError(t,i,a){void 0===e?r.toast.error(`Failed to submit exit survey: ${t.message}`):e(t,i,a)},...i})])},585915,e=>{"use strict";let t=(0,e.i(388019).default)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);e.s(["Loader",()=>t],585915)},776578,e=>{"use strict";e.s(["CANCELLATION_REASONS",0,[{value:"I was just exploring, or it was a hobby/student project."},{value:"I was not satisfied with the customer support I received.",label:"Could you tell us more about your experience with our support team?"},{value:"Supabase is missing a specific feature I need.",label:"What specific feature(s) are we missing?"},{value:"I found it difficult to use or build with.",label:"What specific parts of Supabase did you find difficult or frustrating?"},{value:"Performance or reliability insufficient.",label:"Could you tell us more about the specific issues you encountered (e.g., UI bugs, API latency, downtime)?"},{value:"My project was cancelled or put on hold."},{value:"Too expensive",label:"We appreciate your perspective on our pricing, what aspects of the cost felt too high?"},{value:"The pricing is unpredictable and hard to budget for.",label:"Which aspects of our pricing model made it difficult for you to predict your monthly costs?"},{value:"My company went out of business or was acquired."},{value:"I lost trust in the company or its future direction.",label:"Building and maintaining your trust is our highest priority, could you please share the specific event or reason that led to this loss of trust?"}],"USAGE_APPROACHING_THRESHOLD",0,.8])},589314,e=>{"use strict";var t=e.i(242882);e.i(128328);var r=e.i(86086),i=e.i(234745),a=e.i(557282);async function s(e,t){let{data:r,error:a}=await (0,i.get)("/platform/projects-resource-warnings",{params:{query:{ref:e?.ref,slug:e?.slug}},signal:t});return a&&(0,i.handleError)(a),r}e.s(["useResourceWarningsQuery",0,(e,{enabled:i=!0,...o}={})=>(0,t.useQuery)({queryKey:a.usageKeys.resourceWarnings(e.slug,e.ref),queryFn:({signal:t})=>s(e,t),enabled:r.IS_PLATFORM&&i&&(void 0!==e.ref||void 0!==e.slug),staleTime:36e5,...o})])},598952,210942,e=>{"use strict";var t=e.i(10429);let r={is_readonly_mode_enabled:{bannerContent:{warning:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"},critical:{title:"Your project is currently in read-only mode and is no longer accepting write requests",description:"You will need to manually override read-only mode and reduce the disk size to below 95%"}},cardContent:{warning:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."},critical:{title:"Project is in read-only mode",description:"Database is no longer accepting write requests."}},docsUrl:`${t.DOCS_URL}/guides/platform/database-size#disabling-read-only-mode`,buttonText:"Learn more",metric:"read_only"},disk_io_exhaustion:{bannerContent:{warning:{title:"Your project is about to deplete its Disk IO Budget, and may become unresponsive once fully exhausted",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project has depleted its Disk IO Budget, and may become unresponsive",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project is depleting its Disk IO Budget",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has depleted its Disk IO Budget",description:"It may become unresponsive"}},docsUrl:`${t.DOCS_URL}/guides/troubleshooting/exhaust-disk-io`,buttonText:"Learn more",metric:"disk_io"},disk_space_exhaustion:{bannerContent:{warning:{title:"Your project is about to exhaust its available disk space, and may become unresponsive once fully exhausted",description:"You can opt to increase your disk size up to 200GB on the Database Settings page."},critical:{title:"Your project has exhausted its available disk space, and may become unresponsive",description:"You can opt to increase your disk size up to 200GB on the Database Settings page."}},cardContent:{warning:{title:"Project is exhausting its available disk space",description:"It may become unresponsive if fully exhausted"},critical:{title:"Project has exhausted its available disk space",description:"It may become unresponsive"}},docsUrl:`${t.DOCS_URL}/guides/platform/database-size#disk-management`,buttonText:void 0,metric:"disk_space"},cpu_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high CPU usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's CPU usage is at 100% and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high CPU usage",description:"Performance is affected"},critical:{title:"Project CPU usage is at 100%",description:"Performance is affected"}},docsUrl:`${t.DOCS_URL}/guides/troubleshooting/high-cpu-usage`,buttonText:"Learn more",metric:"cpu"},memory_and_swap_exhaustion:{bannerContent:{warning:{title:"Your project is currently facing high memory usage, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."},critical:{title:"Your project's memory usage is at 100%, and its performance is affected",description:"You will need to optimize your performance or upgrade your compute. Check the usage page for more recent and detailed statistics."}},cardContent:{warning:{title:"Project has high memory usage",description:"Performance is affected"},critical:{title:"Project memory usage is at 100%",description:"Performance is affected"}},docsUrl:`${t.DOCS_URL}/guides/troubleshooting/exhaust-ram`,buttonText:"Learn more",metric:"ram"},auth_rate_limit_exhaustion:{bannerContent:{warning:{title:"Your project has exceeded email rate limits in the past 24 hours and may not reliably send auth related emails to users",description:"Set up a custom SMTP and adjust rate limits where necessary to ensure that emails are sent out reliably."},critical:{title:void 0,description:void 0}},cardContent:{warning:{title:"Your project has exceeded email rate limits",description:"You will need to set up a custom SMTP provider and adjust rate limits where necessary"},critical:{title:void 0,description:void 0}},docsUrl:`${t.DOCS_URL}/guides/platform/going-into-prod#auth-rate-limits`,buttonText:"Enable custom SMTP",metric:"auth_email_rate_limit"},multiple_resource_warnings:{bannerContent:{warning:{title:"Your project is currently exhausting multiple resources, and its performance is affected",description:"Check which resources are reaching their threshold on your project's usage page."},critical:{title:"Your project has exhausted multiple resources, and its performance is affected",description:"Check which resources have reached their threshold on your project's usage page."}},cardContent:{warning:{title:"Project is exhausting multiple resources",description:"Performance is affected."},critical:{title:"Project has exhausted multiple resources",description:"Performance is affected."}},docsUrl:void 0,buttonText:"Check usage",metric:null}};e.s(["RESOURCE_WARNING_MESSAGES",0,r],598952),e.s(["getWarningContent",0,(e,t,i)=>{if("is_readonly_mode_enabled"===t)return r.is_readonly_mode_enabled.cardContent.warning;let a=e[t];if("string"==typeof a)return r[t]?.[i]?.[a]}],210942)},152622,e=>{"use strict";var t=e.i(478902),r=e.i(271226),i=e.i(389959),a=e.i(355901);e.i(128328);var s=e.i(947748),o=e.i(776578),n=e.i(170149),l=e.i(981682),c=e.i(38429),u=e.i(356003),d=e.i(234745),p=e.i(711950),m=e.i(47302),h=e.i(722740);async function g({projectRef:e}){let{data:t,error:r}=await (0,d.del)("/platform/projects/{ref}",{params:{path:{ref:e}}});return r&&(0,d.handleError)(r),t}var y=e.i(540203),f=e.i(124416),b=e.i(265735),x=e.i(635494),S=e.i(171997);e.s(["DeleteProjectModal",0,({visible:e,onClose:d,project:v,organization:_})=>{var j;let R,C=(0,r.useRouter)(),{data:P}=(0,x.useSelectedProjectQuery)(),{data:E}=(0,b.useSelectedOrganizationQuery)(),w=v||P,I=_||E,[k]=(0,f.useLocalStorageQuery)(s.LOCAL_STORAGE_KEYS.LAST_VISITED_ORGANIZATION,""),O=w?.ref,{data:N}=(0,y.useOrgSubscriptionQuery)({orgSlug:I?.slug}),A="free"===(N?.plan?.id??"free"),[D,z]=(0,i.useState)(""),[T,L]=(0,i.useState)([]),M=(j=T[0],R=o.CANCELLATION_REASONS.find(e=>e.value===j),R?.label||"What can we improve on?"),[q]=(0,i.useState)(()=>[...o.CANCELLATION_REASONS.sort(()=>Math.random()-.5),{value:"None of the above"}]),{mutate:B,isPending:V}=(({onSuccess:e,onError:t,...r}={})=>{let i=(0,u.useQueryClient)(),{invalidateProjectsQuery:s}=(0,h.useInvalidateProjectsInfiniteQuery)();return(0,c.useMutation)({mutationFn:e=>g(e),async onSuccess(t,r,a){await Promise.all([i.invalidateQueries({queryKey:m.projectKeys.detail(t.ref)})]),r.organizationSlug&&await Promise.all([s(),i.invalidateQueries({queryKey:p.organizationKeys.detail(r.organizationSlug)}),i.invalidateQueries({queryKey:p.organizationKeys.freeProjectLimitCheck(r.organizationSlug)})]),await e?.(t,r,a)},async onError(e,r,i){void 0===t?a.toast.error(`Failed to delete project: ${e.message}`):t(e,r,i)},...r})})({onSuccess:async()=>{if(!A)try{await F({orgSlug:I?.slug,projectRef:O,message:D,reasons:T.reduce((e,t)=>`${e}- ${t}
`,""),exitAction:"delete"})}catch(e){}a.toast.success(`Successfully deleted ${w?.name}`),k?C.push(`/org/${k}`):C.push("/organizations")}}),{mutateAsync:F,isPending:W}=(0,l.useSendDowngradeFeedbackMutation)(),K=V||W;async function U(){if(void 0!==w){if(!A&&0===T.length)return a.toast.error("Please select a reason for deleting your project");B({projectRef:w.ref,organizationSlug:I?.slug})}}return(0,i.useEffect)(()=>{e&&(L([]),z(""))},[e]),(0,t.jsx)(n.TextConfirmModal,{visible:e,loading:K,size:A?"small":"xlarge",title:`Confirm deletion of ${w?.name}`,variant:"destructive",alert:{title:A?"This action cannot be undone.":`This will permanently delete the ${w?.name}`,description:A?"":"All project data will be lost, and cannot be undone"},text:A?`This will permanently delete the ${w?.name} project and all of its data.`:void 0,confirmPlaceholder:"Type the project name in here",confirmString:w?.name||"",confirmLabel:"I understand, delete this project",onConfirm:U,onCancel:()=>{K||d()},children:!A&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"space-y-1",children:(0,t.jsx)("h4",{className:"text-base",children:"Help us improve by sharing why you're deleting your project."})}),(0,t.jsxs)("div",{className:"space-y-4 pt-4",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2","data-toggle":"buttons",children:q.map(e=>{let r=T[0]===e.value;return(0,t.jsxs)("label",{className:`flex cursor-pointer items-center space-x-2 rounded-md py-1 pl-2 pr-3 text-center text-sm shadow-sm transition-all duration-100 ${r?" bg-foreground text-background opacity-100 hover:bg-opacity-75":" bg-border-strong text-foreground opacity-50 hover:opacity-75"}`,children:[(0,t.jsx)("input",{type:"radio",name:"options",value:e.value,className:"hidden",checked:r,onChange:()=>{L([e.value])}}),(0,t.jsx)("div",{children:e.value})]},e.value)})}),(0,t.jsxs)("div",{className:"text-area-text-sm flex flex-col gap-y-2",children:[(0,t.jsx)("label",{className:"text-sm whitespace-pre-line break-words",children:M}),(0,t.jsx)(S.Input.TextArea,{name:"message",rows:3,value:D,onChange:e=>z(e.target.value)})]})]})]})})}],152622)},699879,e=>{"use strict";let t=(0,e.i(388019).default)("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);e.s(["Minimize2",()=>t],699879)},295057,e=>{"use strict";e.i(10429);var t=e.i(837508);let r={micro:{label:"Micro",ram:"1 GB",cpu:"2-core",priceHourly:.01344,priceMonthly:10,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},small:{label:"Small",ram:"2 GB",cpu:"2-core",priceHourly:.0206,priceMonthly:15,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},medium:{label:"Medium",ram:"4 GB",cpu:"2-core",priceHourly:.0822,priceMonthly:60,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},large:{label:"Large",ram:"8 GB",cpu:"2-core",priceHourly:.1517,priceMonthly:110,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},xlarge:{label:"XL",ram:"16 GB",cpu:"4-core",priceHourly:.2877,priceMonthly:210,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"2xlarge":{label:"2XL",ram:"32 GB",cpu:"8-core",priceHourly:.562,priceMonthly:410,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"4xlarge":{label:"4XL",ram:"64 GB",cpu:"16-core",priceHourly:1.32,priceMonthly:960,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id,t.PROVIDERS.FLY.id]},"8xlarge":{label:"8XL",ram:"128 GB",cpu:"32-core",priceHourly:2.562,priceMonthly:1870,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"12xlarge":{label:"12XL",ram:"192 GB",cpu:"48-core",priceHourly:3.836,priceMonthly:2800,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"16xlarge":{label:"16XL",ram:"256 GB",cpu:"64-core",priceHourly:5.12,priceMonthly:3730,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge":{label:"24XL",ram:"384 GB",cpu:"96-core",priceHourly:9.73,priceMonthly:7100,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_optimized_cpu":{label:"24XL - Optimized CPU",ram:"192 GB",cpu:"96-core",priceHourly:8.9,priceMonthly:6500,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_optimized_memory":{label:"24XL - Optimized Memory",ram:"768 GB",cpu:"96-core",priceHourly:13.84,priceMonthly:10100,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"24xlarge_high_memory":{label:"24XL - High Memory",ram:"1536 GB",cpu:"96-core",priceHourly:21.91,priceMonthly:16e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge":{label:"48XL",ram:"768 GB",cpu:"192-core",priceHourly:19.47,priceMonthly:14200,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_optimized_cpu":{label:"48XL - Optimized CPU",ram:"384 GB",cpu:"192-core",priceHourly:17.8,priceMonthly:13e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_optimized_memory":{label:"48XL - Optimized Memory",ram:"1536 GB",cpu:"192-core",priceHourly:27.68,priceMonthly:20200,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]},"48xlarge_high_memory":{label:"48XL - High Memory",ram:"3072 GB",cpu:"192-core",priceHourly:43.84,priceMonthly:32e3,cloud_providers:[t.PROVIDERS.AWS.id,t.PROVIDERS.AWS_K8S.id,t.PROVIDERS.AWS_NIMBUS.id]}};e.s(["instanceSizeSpecs",0,r])},467619,219187,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(78162);async function a({cloudProvider:e,dbRegion:t,organizationSlug:i},a){if(!i)throw Error("organizationSlug is required");let{data:s,error:o}=await (0,r.post)("/platform/organizations/{slug}/available-versions",{params:{path:{slug:i}},body:{provider:e,region:t},signal:a});return o&&(0,r.handleError)(o),s}let s=({cloudProvider:e,dbRegion:r,organizationSlug:s},{enabled:o=!0,...n}={})=>(0,t.useQuery)({queryKey:i.configKeys.projectCreationPostgresVersions(s,e,r),queryFn:({signal:t})=>a({organizationSlug:s,cloudProvider:e,dbRegion:r},t),enabled:o&&void 0!==s&&"_"!==s&&void 0!==r,...n});async function o({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:i,error:a}=await (0,r.get)("/platform/projects/{ref}/restore/versions",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useAvailableOrioleImageVersion",0,({cloudProvider:e,dbRegion:t,organizationSlug:r},{enabled:i=!0}={})=>{let{data:a}=s({cloudProvider:e,dbRegion:t,organizationSlug:r},{enabled:i,select:e=>(e?.available_versions??[]).find(e=>"17-oriole"===e.postgres_engine)});return a},"useProjectCreationPostgresVersionsQuery",0,s],467619),e.s(["useProjectUnpausePostgresVersionsQuery",0,({projectRef:e},{enabled:r=!0,...a}={})=>(0,t.useQuery)({queryKey:i.configKeys.projectUnpausePostgresVersions(e),queryFn:({signal:t})=>o({projectRef:e},t),enabled:r&&void 0!==e,...a})],219187)},372598,715801,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(467619),a=e.i(219187),s=e.i(635494),o=e.i(587433),n=e.i(451031),l=e.i(57492),c=e.i(831927),u=e.i(156722),d=e.i(719754),p=e.i(449123),m=e.i(538482);e.i(869176);var h=e.i(295057);e.i(287509);var g=e.i(434934);function y(e){return g.SMART_REGION_TO_EXACT_REGION_MAP.get(e)??e}function f(e){switch(e){case"AWS":case"AWS_K8S":return g.AWS_REGIONS;case"AWS_NIMBUS":return{EAST_US:g.AWS_REGIONS.EAST_US};case"FLY":return g.FLY_REGIONS;default:throw Error("Invalid cloud provider")}}e.s(["getAvailableRegions",()=>f,"instanceLabel",0,e=>h.instanceSizeSpecs[e]?.label||"Micro","monthlyInstancePrice",0,e=>h.instanceSizeSpecs[e]?.priceMonthly||10,"smartRegionToExactRegion",()=>y],715801);let b=({postgres_engine:e,release_channel:t})=>`${e}|${t}`;e.s(["PostgresVersionSelector",0,({cloudProvider:e,dbRegion:h,organizationSlug:g,field:f,form:x,type:S="create",layout:v="horizontal",label:_="Postgres version"})=>{let{data:j}=(0,s.useSelectedProjectQuery)(),R=y(h),{data:C,isPending:P,isSuccess:E}=(0,i.useProjectCreationPostgresVersionsQuery)({cloudProvider:e,dbRegion:R,organizationSlug:g},{enabled:"create"===S}),{data:w,isPending:I}=(0,a.useProjectUnpausePostgresVersionsQuery)({projectRef:j?.ref},{enabled:"unpause"===S}),k=("create"===S?C?.available_versions??[]:w?.available_versions??[]).sort((e,t)=>e.version.localeCompare(t.version)).reverse(),{postgresVersionSelection:O}=x.watch();return(0,r.useEffect)(()=>{if(k.length>0){let e=k.find(e=>"ga"===e.release_channel),t=e?b(e):b(k[0]);x.setValue("postgresVersionSelection",t)}},[E,k,x]),(0,t.jsx)(m.FormItemLayout,{label:_,layout:v,children:(0,t.jsxs)(p.Select_Shadcn_,{value:O,onValueChange:f.onChange,disabled:0===k.length||"create"===S&&P||"unpause"===S&&I,children:[(0,t.jsx)(u.SelectTrigger_Shadcn_,{className:"[&>:nth-child(1)]:w-full [&>:nth-child(1)]:flex [&>:nth-child(1)]:items-start",children:(0,t.jsx)(d.SelectValue_Shadcn_,{placeholder:"Select a Postgres version for your project"})}),(0,t.jsx)(n.SelectContent_Shadcn_,{children:(0,t.jsx)(l.SelectGroup_Shadcn_,{children:k.map(e=>{let r=e.version.split("supabase-postgres-")[1].replace("-orioledb","");return(0,t.jsx)(c.SelectItem_Shadcn_,{value:b(e),className:"w-full [&>:nth-child(2)]:w-full",children:(0,t.jsxs)("div",{className:"flex flex-row items-center justify-between w-full",children:[(0,t.jsx)("span",{className:"text-foreground",children:r}),(0,t.jsxs)("div",{className:"flex flex-row gap-x-2",children:["ga"!==e.release_channel&&(0,t.jsx)(o.Badge,{variant:"warning",children:e.release_channel}),e.postgres_engine.includes("oriole")&&(0,t.jsx)(o.Badge,{variant:"default",children:"OrioleDB"})]})]})},b(e))})})})]})})},"extractPostgresVersionDetails",0,e=>{if(!e)return{postgresEngine:void 0,releaseChannel:void 0};let[t,r]=e.split("|");return{postgresEngine:t,releaseChannel:r}}],372598)},140449,e=>{"use strict";var t=e.i(478902),r=e.i(389959);let i=(0,r.createContext)({formContextOnChange:null,values:null,errors:null,handleBlur:null,touched:null,fieldLevelValidation:null});e.s(["FormContextProvider",0,e=>{let{formContextOnChange:r,values:a,errors:s,handleBlur:o,touched:n,fieldLevelValidation:l}=e;return(0,t.jsx)(i.Provider,{value:{formContextOnChange:r,values:a,errors:s,handleBlur:o,touched:n,fieldLevelValidation:l},children:e.children})},"useFormContext",0,()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("useFormContextOnChange must be used within a FormContextProvider.");return e}])},753515,e=>{"use strict";var t=e.i(478902),r=e.i(305551),i=e.i(843778);function a({align:e="left",children:a,className:s,descriptionText:o,error:n,id:l,label:c,labelOptional:u,layout:d="vertical",style:p,labelLayout:m,responsive:h=!0,size:g="medium",beforeLabel:y,afterLabel:f,nonBoxInput:b=!c}){let x=r.default.form_layout,S="flex"===d,v=[];v.push(x.size[g]);let _=[],j=[];"horizontal"===d||m||S?"horizontal"===m?_.push(x.labels_horizontal_layout):_.push(x.labels_vertical_layout):_.push(x.labels_horizontal_layout),"horizontal"!==d?j.push(x.data_input_horizontal_layout):(j.push(x.data_input_vertical_layout),"right"===e&&j.push(x.data_input_vertical_layout__align_right)),S?(v.push(x.flex[e].base),"left"===e&&(_.push(x.flex.left.labels),j.push(x.flex.left.data_input)),"right"===e&&(_.push(x.flex.right.labels),j.push(x.flex.right.data_input))):v.push(x.container,h?x.responsive:x.non_responsive),s&&v.push(s);let R=!!(c||y||f),C=n&&(0,t.jsx)("p",{"data-state":n?"show":"hide",className:[x.error.base,x.error.size[g]].join(" "),children:n}),P=o&&(0,t.jsx)("div",{className:[x.description.base,x.description.size[g]].join(" "),id:l+"-description",children:o});return(0,t.jsxs)("div",{className:v.join(" "),children:[S&&(0,t.jsx)("div",{className:x.flex[e].content,children:a}),R||u||"horizontal"===d?(0,t.jsxs)("div",{className:_.join(" "),children:[R&&(0,t.jsxs)("label",{className:(0,i.cn)(x.label.base,x.label.size[g],"break-all"),htmlFor:l,children:[y&&(0,t.jsx)("span",{className:[x.label_before.base,x.label_before.size[g]].join(" "),id:l+"-before",children:y}),c,f&&(0,t.jsx)("span",{className:[x.label_after.base,x.label_after.size[g]].join(" "),id:l+"-after",children:f})]}),u&&(0,t.jsx)("span",{className:[x.label_optional.base,x.label_optional.size[g]].join(" "),id:l+"-optional",children:u}),S&&(0,t.jsxs)(t.Fragment,{children:[P,C]})]}):null,!S&&(0,t.jsx)("div",{className:j.join(" "),style:p,children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:b&&c&&"vertical"===d?x.non_box_data_input_spacing_vertical:b&&c&&"horizontal"===d?x.non_box_data_input_spacing_horizontal:"",children:a}),C,P]})})]})}e.s(["FormLayout",()=>a])},440401,701823,e=>{"use strict";var t=e.i(478902),r=e.i(867637),i=e.i(938933);let a={tiny:14,small:16,medium:20,large:24,xlarge:32};function s({style:e,size:s="medium"}){let o=(0,i.default)("inputErrorIcon");return(0,t.jsx)("div",{className:o.base,style:e,children:(0,t.jsx)(r.AlertCircle,{size:a[s],strokeWidth:2})})}e.s(["default",()=>s],440401);var o=e.i(843778);function n({icon:e,className:r,size:a}){let s=(0,i.default)("inputIconContainer");return(0,t.jsx)("div",{className:(0,o.cn)(s.base,s.size[a],r),children:e})}e.s(["default",()=>n],701823)},440523,e=>{"use strict";var t=e.i(478902),r=e.i(816467),i=e.i(389959),a=e.i(282410),s=e.i(753515),o=e.i(440401),n=e.i(701823),l=e.i(938933),c=e.i(375761),u=e.i(843778),d=e.i(837710),p=e.i(140449);function m({autoComplete:e,autoFocus:m,className:h,inputClassName:g,iconContainerClassName:y,copy:f,defaultValue:b,descriptionText:x,disabled:S,error:v,icon:_,id:j="",name:R="",inputRef:C,label:P,afterLabel:E,beforeLabel:w,labelOptional:I,layout:k,onChange:O,onBlur:N,onCopy:A,placeholder:D,type:z="text",value:T,style:L,reveal:M=!1,actions:q,size:B="medium",borderless:V=!1,validation:F,...W}){let[K,U]=(0,i.useState)("Copy"),[Q,$]=(0,i.useState)(!0),Y=(0,l.default)("input"),{formContextOnChange:H,values:G,errors:X,handleBlur:J,touched:Z,fieldLevelValidation:ee}=(0,p.useFormContext)();G&&!T&&(T=G[j||R]),v||(X&&!v&&(v=X[j||R]),v=Z&&Z[j]?v:void 0),(0,i.useEffect)(()=>{F&&ee(j,F(T))},[]);let et=["peer/input",Y.base];return v&&et.push(Y.variants.error),v||et.push(Y.variants.standard),B&&et.push(Y.size[B]),_&&et.push(Y.with_icon[B]),S&&et.push(Y.disabled),g&&et.push(g),(0,t.jsx)(s.FormLayout,{label:P,afterLabel:E,beforeLabel:w,labelOptional:I,layout:k,id:j,error:v,descriptionText:x,style:L,size:B,className:h,children:(0,t.jsxs)("div",{className:Y.container,children:[(0,t.jsx)("input",{"data-size":B,autoComplete:e,autoFocus:m,defaultValue:b,disabled:S,id:j,name:R,onChange:function(e){O&&O(e),H&&H(e),F&&ee(j,F(e.target.value))},onBlur:function(e){J&&setTimeout(()=>{J(e)},100),N&&N(e)},onCopy:A,placeholder:D,ref:C,type:z,value:M&&Q?a.HIDDEN_PLACEHOLDER:T,className:(0,u.cn)(et),...W}),_&&(0,t.jsx)(n.default,{size:B,icon:_,className:y}),f||v||q?(0,t.jsxs)("div",{className:Y.actions_container,children:[v&&(0,t.jsx)(o.default,{size:B}),f&&!(M&&Q)?(0,t.jsx)(d.Button,{size:"tiny",type:"default",icon:(0,t.jsx)(r.Copy,{}),onClick:()=>{var e;return e=T,void(0,c.copyToClipboard)(e,()=>{U("Copied"),setTimeout(()=>{U("Copy")},3e3),A?.()})},children:K}):null,M&&Q?(0,t.jsx)(d.Button,{size:"tiny",type:"default",onClick:function(){$(!1)},children:"Reveal"}):null,q&&q]}):null]})})}m.TextArea=function({className:e,textAreaClassName:a,descriptionText:n,disabled:u,error:m,icon:h,id:g="",name:y="",label:f,afterLabel:b,beforeLabel:x,labelOptional:S,layout:v,onChange:_,onBlur:j,placeholder:R,value:C,style:P,rows:E=4,limit:w,size:I="medium",borderless:k=!1,validation:O,copy:N=!1,onCopy:A,actions:D,...z}){let[T,L]=(0,i.useState)(0),[M,q]=(0,i.useState)("Copy"),{formContextOnChange:B,values:V,errors:F,handleBlur:W,touched:K,fieldLevelValidation:U}=(0,p.useFormContext)();V&&!C&&(C=V[g||y]),m||(F&&!m&&(m=F[g||y]),m=K&&K[g||y]?m:void 0),(0,i.useEffect)(()=>{O&&U(g,O(C))},[]);let Q=(0,l.default)("input"),$=[Q.base];return m&&$.push(Q.variants.error),m||$.push(Q.variants.standard),h&&$.push(Q.with_icon[I]),I&&$.push(Q.size[I]),u&&$.push(Q.disabled),a&&$.push(a),(0,t.jsx)(s.FormLayout,{className:e,label:f,afterLabel:b,beforeLabel:x,labelOptional:S,layout:v,id:g,error:m,descriptionText:n,style:P,size:I,children:(0,t.jsxs)("div",{className:Q.container,children:[(0,t.jsx)("textarea",{disabled:u,id:g,name:y,rows:E,cols:100,placeholder:R,onChange:function(e){L(e.target.value.length),_&&_(e),B&&B(e),O&&U(g,O(e.target.value))},onBlur:function(e){W&&setTimeout(()=>{W(e)},100),j&&j(e)},onCopy:A,value:C,className:$.join(" "),maxLength:w,...z}),N||m||D?(0,t.jsx)("div",{className:Q.textarea_actions_container,children:(0,t.jsxs)("div",{className:Q.textarea_actions_container_items,children:[m&&(0,t.jsx)(o.default,{size:I}),N&&(0,t.jsx)(d.Button,{size:"tiny",type:"default",onClick:()=>{var e;return e=C,void(0,c.copyToClipboard)(e,()=>{q("Copied"),setTimeout(()=>{q("Copy")},3e3),A?.()})},icon:(0,t.jsx)(r.Copy,{}),children:M}),D&&D]})}):null]})})},e.s(["default",0,m])},171997,e=>{"use strict";var t=e.i(440523);e.s(["Input",()=>t.default])},236134,e=>{"use strict";var t=e.i(478902),r=e.i(217027),i=e.i(837710),a=e.i(613580),s=e.i(938933);let o=({id:e,disabled:o,className:n,children:l,header:c,visible:u,open:d,size:p="medium",loading:m,align:h="right",hideFooter:g=!1,customFooter:y,onConfirm:f,onCancel:b,confirmText:x="Confirm",cancelText:S="Cancel",triggerElement:v,defaultOpen:_,tooltip:j,...R})=>{let C=(0,s.default)("sidepanel"),P=y||(0,t.jsxs)("div",{className:C.footer,children:[(0,t.jsx)("div",{children:(0,t.jsx)(i.Button,{disabled:m,type:"default",onClick:()=>b?b():null,children:S})}),!!f&&(0,t.jsxs)(a.Tooltip,{children:[(0,t.jsx)(a.TooltipTrigger,{asChild:!0,children:(0,t.jsx)("span",{className:"inline-block",children:(0,t.jsx)(i.Button,{htmlType:"submit",disabled:o||m,loading:m,onClick:f,children:x})})}),void 0!==j&&(0,t.jsx)(a.TooltipContent,{side:"bottom",children:j})]})]});d=d||u;let{onOpenAutoFocus:E,onCloseAutoFocus:w,onEscapeKeyDown:I,onPointerDownOutside:k,onInteractOutside:O}=R;return(0,t.jsxs)(r.Root,{open:d,onOpenChange:function(e){void 0!==u&&!e&&b&&b()},defaultOpen:_,children:[v&&(0,t.jsx)(r.Trigger,{asChild:!0,children:v}),(0,t.jsxs)(r.Portal,{children:[(0,t.jsx)(r.Overlay,{className:C.overlay}),(0,t.jsxs)(r.Content,{className:[C.base,C.size[p],C.align[h],n&&n].join(" "),onOpenAutoFocus:E,onCloseAutoFocus:w,onEscapeKeyDown:I,onPointerDownOutside:k,onInteractOutside:e=>{e.target?.closest("#toast")&&e.preventDefault(),O&&O(e)},...R,children:[c&&(0,t.jsx)("header",{className:C.header,children:c}),(0,t.jsx)("div",{className:C.contents,children:l}),!g&&P]})]})]})};o.Content=function({children:e,className:r}){let i=(0,s.default)("sidepanel");return(0,t.jsx)("div",{className:[i.content,r].join(" ").trim(),children:e})},o.Separator=function(){let e=(0,s.default)("sidepanel");return(0,t.jsx)("div",{className:e.separator})},e.s(["default",0,o])},539013,e=>{"use strict";var t=e.i(236134);e.s(["SidePanel",()=>t.default])},707843,e=>{"use strict";var t=e.i(478902);function r({body:e,head:r,className:i,containerClassName:a,borderless:s,headTrClasses:o,bodyClassName:n,style:l}){let c=["table-container"];a&&c.push(a),s&&c.push("table-container--borderless");let u=["table"];return i&&u.push(i),(0,t.jsx)("div",{className:c.join(" "),children:(0,t.jsxs)("table",{className:u.join(" "),style:l,children:[(0,t.jsx)("thead",{children:(0,t.jsx)("tr",{className:o,children:r})}),(0,t.jsx)("tbody",{className:n,children:e})]})})}r.th=({children:e,className:r,style:i})=>{let a=["p-3 px-4 text-left"];return r&&a.push(r),(0,t.jsx)("th",{className:a.join(" "),style:i,children:e})},r.td=({children:e,colSpan:r,className:i,style:a,...s})=>(0,t.jsx)("td",{className:i,colSpan:r,style:a,...s,children:e}),r.tr=({children:e,className:r,onClick:i,style:a,hoverable:s})=>{let o=[r];return(i||s)&&o.push("tr--link"),(0,t.jsx)("tr",{className:o.join(" "),onClick:i,style:a,children:e})},e.s(["default",0,r])},417403,e=>{"use strict";var t=e.i(907019);e.s(["default",0,t])},617976,e=>{"use strict";e.s(["organizationKeys",0,{rolesV2:e=>["organization-members",e,"roles-v2"],invitations:e=>["organization-members",e,"invitations"],invitation:(e,t)=>["organization-members",e,"invitations",t],token:(e,t)=>["organization-members",e,"token",t]}])},793595,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(711950);async function a({slug:e},t){if(!e)throw Error("slug is required");let[i,a]=await Promise.all([(0,r.get)("/platform/organizations/{slug}/members",{params:{path:{slug:e}},signal:t}),(0,r.get)("/platform/organizations/{slug}/members/invitations",{params:{path:{slug:e}},signal:t})]),{data:s,error:o}=i,{data:n,error:l}=a;return o&&(0,r.handleError)(o),l&&(0,r.handleError)(l),[...s,...n.invitations.map(e=>({...{invited_at:e.invited_at,invited_id:e.id,mfa_enabled:!1,username:e.invited_email.slice(0,1),primary_email:e.invited_email},role_ids:[e.role_id]}))]}e.s(["useOrganizationMembersQuery",0,({slug:e},{enabled:r=!0,...s}={})=>(0,t.useQuery)({queryKey:i.organizationKeys.members(e),queryFn:({signal:t})=>a({slug:e},t),enabled:r&&void 0!==e,...s})])},781894,388531,e=>{"use strict";var t=e.i(478902),r=e.i(532728),i=e.i(389959),a=e.i(408891),s=e.i(355901),o=e.i(417403),n=e.i(242882),l=e.i(234745),c=e.i(617976);let u=["Owner","Administrator","Developer","Read-only"];async function d({slug:e},t){if(!e)throw Error("slug is required");let{data:r,error:i}=await (0,l.get)("/platform/organizations/{slug}/roles",{params:{path:{slug:e}},headers:{Version:2},signal:t});return i&&(0,l.handleError)(i),r}let p=({slug:e},{enabled:t=!0,...r}={})=>(0,n.useQuery)({queryKey:c.organizationKeys.rolesV2(e),queryFn:({signal:t})=>d({slug:e},t),enabled:t&&void 0!==e,select:e=>({...e,org_scoped_roles:e.org_scoped_roles.sort((e,t)=>u.indexOf(e.name)-u.indexOf(t.name))}),...r});e.s(["useOrganizationRolesV2Query",0,p],388531);var m=e.i(793595),h=e.i(38429);async function g({slug:e,plan:t,note:r}){if(!e)throw Error("Slug is required");let{data:i,error:a}=await (0,l.post)("/platform/organizations/{slug}/billing/upgrade-request",{params:{path:{slug:e}},body:{requested_plan:t,note:r}});return a&&(0,l.handleError)(a),i}var y=e.i(265735),f=e.i(635494),b=e.i(967052),x=e.i(587433),S=e.i(837710),v=e.i(253214),_=e.i(428353),j=e.i(24315),R=e.i(61863),C=e.i(398876),P=e.i(613580),E=e.i(538482);let w=o.default.object({note:o.default.string().optional()}),I="request-upgrade-form";e.s(["RequestUpgradeToBillingOwners",0,({block:e=!1,plan:o="Pro",addon:n,featureProposition:l,children:c,className:u})=>{let[d,k]=(0,i.useState)(!1),O=(0,b.useTrack)(),{data:N}=(0,f.useSelectedProjectQuery)(),{data:A}=(0,y.useSelectedOrganizationQuery)(),D=A?.slug,z=A?.plan?.id,T="free"===z,{data:L=[]}=(0,m.useOrganizationMembersQuery)({slug:A?.slug}),{data:M}=p({slug:A?.slug}),q=M?.org_scoped_roles??[],{mutate:B,isPending:V}=(({onSuccess:e,onError:t,...r}={})=>(0,h.useMutation)({mutationFn:e=>g(e),async onSuccess(t,r,i){await e?.(t,r,i)},async onError(e,r,i){void 0===t?s.toast.error(`Failed to send upgrade request: ${e.message}`):t(e,r,i)},...r}))({onSuccess:()=>{O("request_upgrade_submitted",{requestedPlan:o,addon:n,currentPlan:z}),s.toast.success("Successfully sent request to billing owners!"),k(!1)}}),F="pitr"===n?"PITR":"customDomain"===n?"Custom Domain":"",W=N?`for the project "${N?.name}"`:A?`for the organization "${A.name}"`:"",K="spendCap"===n?"disable spend cap":"computeSize"===n?"change the compute size":`enable the ${F} add-on`,U=n?"spendCap"===n?"Request to disable spend cap":"computeSize"===n?"Request to change compute size":`Request to enable the ${F} add-on`:`Request an upgrade for the ${o} Plan`,Q=c||(n?"spendCap"===n?"Request to disable spend cap":"computeSize"===n?"Request to change compute":"Request to enable addon":`Request upgrade to ${o}`),$={note:n?`We'd like to ${T?"upgrade to Pro and ":""}${K} ${W} so that we can ${l}`:`We'd like to upgrade to the ${o} plan ${l?` to ${l} `:""}${W}`},Y=(0,a.useForm)({resolver:(0,r.zodResolver)(w),defaultValues:$,values:$}),H=L.filter(e=>{let t=e.role_ids.map(e=>q.find(t=>t.id===e)?.name).filter(Boolean);return!e.invited_id&&(t.includes("Owner")||t.includes("Administrator"))}),G=async e=>{if(!D)return console.error("Slug is required");B({slug:D,plan:o,note:e.note})};return(0,t.jsxs)(v.Dialog,{open:d,onOpenChange:e=>{e&&O("request_upgrade_modal_opened",{requestedPlan:o,addon:n,currentPlan:z,featureProposition:l}),k(e)},children:[(0,t.jsx)(v.DialogTrigger,{asChild:!0,children:(0,t.jsx)(S.Button,{block:e,type:"primary",className:u,children:Q})}),(0,t.jsx)(v.DialogContent,{children:(0,t.jsx)(_.Form_Shadcn_,{...Y,children:(0,t.jsxs)("form",{id:I,onSubmit:Y.handleSubmit(G),children:[(0,t.jsxs)(v.DialogHeader,{children:[(0,t.jsx)(v.DialogTitle,{children:U}),(0,t.jsx)(v.DialogDescription,{children:"Let your organization's billing owners know your interest in this"})]}),(0,t.jsx)(v.DialogSectionSeparator,{}),(0,t.jsxs)(v.DialogSection,{className:"flex flex-col gap-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,t.jsx)("p",{className:"text-sm",children:"Your request will be sent to the following emails, who are billing owners of your organization:"}),(0,t.jsxs)("div",{className:"text-sm flex gap-x-2",children:[(0,t.jsx)("p",{children:H.slice(0,2).map(e=>e.primary_email).join(", ")}),H.length>2&&(0,t.jsxs)(P.Tooltip,{children:[(0,t.jsx)(P.TooltipTrigger,{tabIndex:-1,children:(0,t.jsx)(x.Badge,{children:"+1 others"})}),(0,t.jsx)(P.TooltipContent,{side:"bottom",children:(0,t.jsx)("ul",{className:"",children:H.slice(2).map(e=>(0,t.jsx)("li",{children:e.primary_email},e.gotrue_id))})})]})]})]}),(0,t.jsx)(R.FormField_Shadcn_,{control:Y.control,name:"note",render:({field:e})=>(0,t.jsx)(E.FormItemLayout,{name:"note",label:"Add a note to your request (optional)",layout:"vertical",children:(0,t.jsx)(j.FormControl_Shadcn_,{children:(0,t.jsx)(C.TextArea_Shadcn_,{id:"note",...e,rows:3,placeholder:n?"spendCap"===n?"e.g. We need to disabled spend cap on this project to do something":"e.g. We need to enable this add-on to do something with the project":"e.g. We need to upgrade to the Pro plan to use this feature"})})})})]}),(0,t.jsxs)(v.DialogFooter,{children:[(0,t.jsx)(S.Button,{type:"default",disabled:V,onClick:()=>k(!1),children:"Cancel"}),(0,t.jsx)(S.Button,{htmlType:"submit",form:I,loading:V,children:"Submit request"})]})]})})})]})}],781894)},794231,e=>{"use strict";var t=e.i(478902),r=e.i(902858),i=e.i(210419);e.i(128328);var a=e.i(657588),s=e.i(158639),o=e.i(196621),n=e.i(2579),l=e.i(912793),c=e.i(265735),u=e.i(837710),d=e.i(215312),p=e.i(781894);let m="<Specify which plan to upgrade to: Pro | Team | Enterprise>";e.s(["PLAN_REQUEST_EMPTY_PLACEHOLDER",0,m,"UpgradePlanButton",0,({source:e,variant:h="primary",plan:g="Pro",addon:y,featureProposition:f,disabled:b,children:x,className:S})=>{let{ref:v}=(0,s.useParams)(),{data:_}=(0,c.useSelectedOrganizationQuery)(),j=_?.plan?.id==="free",R=_?.slug??"_",C=(0,a.useFlag)("disableProjectCreationAndUpdate"),{billingAll:P}=(0,l.useIsFeatureEnabled)(["billing:all"]),{can:E}=(0,n.useAsyncCheckPermissions)(r.PermissionAction.BILLING_WRITE,"stripe.subscriptions"),w=`Enquiry to upgrade ${g?`to ${g} `:""}plan for organization`,I=`Name: ${_?.name}
Slug: ${R}
Requested plan: ${g??m}`,k="spendCap"===y,O=!j&&!!y,N=k?`/org/${R??"_"}/billing?panel=costControl&source=${e}`:O?"computeSize"===y?`/project/${v??"_"}/settings/compute-and-disk`:`/project/${v??"_"}/settings/addons?panel=${y}&source=${e}`:`/org/${R??"_"}/billing?panel=subscriptionPlan&source=${e}`,A=x||(y?"Enable add-on":`Upgrade to ${g}`),D=P?(0,t.jsx)(i.default,{href:N,children:A}):(0,t.jsx)(o.SupportLink,{queryParams:{orgSlug:R,category:"Plan_upgrade",subject:w,message:I},children:A});return E?C?(0,t.jsx)(d.ButtonTooltip,{disabled:!0,type:h,className:S,tooltip:{content:{side:"bottom",text:"Plan changes are currently disabled, our engineers are working on a fix"}},children:A}):(0,t.jsx)(u.Button,{asChild:!0,type:h,disabled:b,className:S,children:D}):(0,t.jsx)(p.RequestUpgradeToBillingOwners,{plan:g,addon:y,featureProposition:f,className:S,children:x})}])},235458,e=>{"use strict";var t=e.i(478902),r=e.i(843778),i=e.i(710483),a=e.i(794231);e.s(["UpgradeToPro",0,({icon:e,primaryText:s,secondaryText:o,plan:n="Pro",addon:l,featureProposition:c,buttonText:u,source:d="upgrade",disabled:p=!1,fullWidth:m=!1,layout:h="horizontal",variant:g="primary",className:y})=>(0,t.jsx)(i.Admonition,{type:"default",icon:e,layout:h,title:s,description:o,className:(0,r.cn)(m&&"border-0 rounded-none border-b",y),actions:(0,t.jsx)(a.UpgradePlanButton,{plan:n,addon:l,source:d,featureProposition:c,disabled:p,variant:g,children:u})})])}]);

//# debugId=322d878d-6cce-f016-c6a7-382acaf7ee1a
//# sourceMappingURL=678762bdd80b94be.js.map