;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="238adcd8-c58f-a636-df5b-6091b481b4cc")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,856798,(e,t,a)=>{var n=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,r=/\n/g,s=/^\s*/,o=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,i=/^:\s*/,c=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,d=/^[;\s]*/,l=/^\s+|\s+$/g;function u(e){return e?e.replace(l,""):""}t.exports=function(e,t){if("string"!=typeof e)throw TypeError("First argument must be a string");if(!e)return[];t=t||{};var a=1,l=1;function p(e){var t=e.match(r);t&&(a+=t.length);var n=e.lastIndexOf("\n");l=~n?e.length-n:l+e.length}function m(){var e={line:a,column:l};return function(t){return t.position=new h(e),y(s),t}}function h(e){this.start=e,this.end={line:a,column:l},this.source=t.source}h.prototype.content=e;var g=[];function f(n){var r=Error(t.source+":"+a+":"+l+": "+n);if(r.reason=n,r.filename=t.source,r.line=a,r.column=l,r.source=e,t.silent)g.push(r);else throw r}function y(t){var a=t.exec(e);if(a){var n=a[0];return p(n),e=e.slice(n.length),a}}function x(e){var t;for(e=e||[];t=b();)!1!==t&&e.push(t);return e}function b(){var t=m();if("/"==e.charAt(0)&&"*"==e.charAt(1)){for(var a=2;""!=e.charAt(a)&&("*"!=e.charAt(a)||"/"!=e.charAt(a+1));)++a;if(a+=2,""===e.charAt(a-1))return f("End of comment missing");var n=e.slice(2,a-2);return l+=2,p(n),e=e.slice(a),l+=2,t({type:"comment",comment:n})}}y(s);var j,v=[];for(x(v);j=function(){var e=m(),t=y(o);if(t){if(b(),!y(i))return f("property missing ':'");var a=y(c),r=e({type:"declaration",property:u(t[0].replace(n,"")),value:a?u(a[0].replace(n,"")):""});return y(d),r}}();)!1!==j&&(v.push(j),x(v));return v}},703093,(e,t,a)=>{"use strict";var n=e.e&&e.e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(a,"__esModule",{value:!0});var r=n(e.r(856798));a.default=function(e,t){var a=null;if(!e||"string"!=typeof e)return a;var n=(0,r.default)(e),s="function"==typeof t;return n.forEach(function(e){if("declaration"===e.type){var n=e.property,r=e.value;s?t(n,r,e):r&&((a=a||{})[n]=r)}}),a}},236823,e=>{"use strict";var t,a,n=e.i(478902);e.i(128328);var r=e.i(86086),s=e.i(388019);let o=(0,s.default)("Forward",[["polyline",{points:"15 17 20 12 15 7",key:"1w3sku"}],["path",{d:"M4 18v-2a4 4 0 0 1 4-4h12",key:"jmiej9"}]]);var i=e.i(300906),c=e.i(109),d=e.i(635494),l=e.i(312048),u=e.i(822574),p=e.i(389959),m=e.i(416785),h=e.i(104645),g=e.i(383873);let f=(e,t,a={})=>{let{commandsState:n}=(0,h.useCommandContext)(),{registerSection:r}=(0,m.useSnapshot)(n),s=(0,p.useRef)(a?.deps);a.enabled??=!0;let o=(0,p.useRef)(a.enabled),i=(0,p.useRef)();(0,p.useMemo)(()=>{(0,u.default)(s.current,a.deps)&&o.current===a.enabled||(i.current?.(),i.current=a.enabled?r(e,t,a):void 0,s.current=a.deps,o.current=a.enabled)},[r,e,t,a]),(0,p.useEffect)(()=>(i.current=a.enabled?r(e,t,a):void 0,()=>i.current?.()),[])},y="Actions",x="Navigate",b="Queries",j="Table Editor",v="SQL Editor";function S(e){return e.slice().sort((e,t)=>(e.meta?.priority??10)-(t.meta?.priority??10))}let w="Switch branch",k=[];var C=e.i(217444),_=e.i(454370),E=e.i(774803),N=e.i(219195),I=e.i(742251),$=e.i(902858),A=e.i(158639),P=e.i(369459),R=e.i(738196),M=e.i(2579),T=e.i(392491),H=e.i(432478),L=e.i(843778),D=e.i(672044),O=e.i(703526),F=e.i(917007),q=e.i(549815),z=e.i(911509),B=e.i(720887),V=e.i(920474);function Q({children:e}){let{handleTouchStart:t,handleTouchMove:a,handleTouchEnd:r}=(0,V.useCommandMenuTouchGestures)();return(0,n.jsx)("div",{onTouchStart:t,onTouchMove:a,onTouchEnd:r,children:e})}var U=e.i(232107),G=e.i(667938),K=e.i(920432),W=e.i(650118),J=e.i(879148);let X=(0,p.forwardRef)(({className:e,...t},a)=>{let r,s,o,i=(r=(0,U.useBreakpoint)("sm"),(s=(0,p.useRef)(r)).current=r,o=(0,p.useRef)(),(0,p.useEffect)(()=>{setTimeout(()=>{s.current||o.current?.focus()})},[]),e=>{a instanceof Function?a(e):a&&(a.current=e),o.current=e}),c=(0,W.useQuery)(),d=(0,W.useSetQuery)(),[l,u]=(0,p.useState)(c);(0,p.useEffect)(()=>{u(c),h.current=c},[c]);let m=(0,J.useCommandMenuTelemetryContext)(),h=(0,p.useRef)(l),g=(0,p.useCallback)(e=>{if(m?.onTelemetry){let t={action:"command_menu_search_submitted",properties:{value:e,app:m.app},groups:{}};m.onTelemetry(t)}},[m]),f=(0,G.useDebounce)((0,p.useCallback)(()=>{g(l),h.current=l},[g,l]),2e3),y=(0,p.useCallback)(e=>{if(u(e),!(e.length>h.current.length)){h.current=e;return}f()},[f]),[x,b]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{x||d(l)},[l,x]),(0,n.jsx)("div",{className:"relative w-full","cmdk-input-wrapper":"",children:(0,n.jsx)(K.CommandInput_Shadcn_,{autoFocus:!1,ref:i,value:l,onValueChange:y,placeholder:"Run a command or search...",onCompositionStart:()=>b(!0),onCompositionEnd:()=>b(!1),className:(0,L.cn)("flex h-11 w-full rounded-md bg-transparent px-2 py-7 outline-none","focus:shadow-none focus:ring-transparent","text-base text-foreground-light placeholder:text-foreground-muted disabled:cursor-not-allowed disabled:opacity-50 border-0",e),...t})})});X.displayName=K.CommandInput_Shadcn_.displayName;var Z=e.i(293586);let Y=e.i(399413).useCommandState,ee="Snippets";function et(){let{ref:e}=(0,A.useParams)(),{data:t,isPending:a,isError:r,isSuccess:s}=(0,P.useSqlSnippetsQuery)({projectRef:e}),o=t?.pages.flatMap(e=>e.contents),{profile:i}=(0,H.useProfile)(),{can:c}=(0,M.useAsyncCheckPermissions)($.PermissionAction.CREATE,"user_content",{resource:{type:"sql",owner_id:i?.id},subject:{id:i?.id}});return(0,V.useSetCommandMenuSize)("xlarge"),(0,n.jsxs)(B.CommandWrapper,{children:[(0,n.jsxs)(Q,{children:[(0,n.jsx)(B.Breadcrumb,{}),(0,n.jsx)(X,{autoFocus:!0})]}),a&&(0,n.jsx)(ea,{}),r&&(0,n.jsx)(en,{}),s&&(!o||0===o.length)&&(0,n.jsx)(er,{projectRef:e,canCreateNew:c}),s&&!!o&&o.length>0&&(0,n.jsx)(es,{projectRef:e,canCreateNew:c,snippets:o})]})}function ea(){return(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)(E.Loader2,{className:"inline-block mr-2 animate-spin"}),"Loading..."]})})}function en(){return(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("p",{className:"text-center",children:[(0,n.jsx)(C.AlertTriangle,{className:"inline-block mr-2"}),"Couldn't load snippets"]})})}function er({projectRef:e,canCreateNew:t}){let a=(0,I.useRouter)();return(0,n.jsxs)("div",{className:"p-6",children:[(0,n.jsx)("p",{className:"mb-2 text-center",children:"No snippets found."}),(0,n.jsx)(z.CommandList_Shadcn_,{className:"py-2",children:(0,n.jsx)(F.CommandGroup_Shadcn_,{children:(0,n.jsx)(q.CommandItem_Shadcn_,{id:"create-snippet",className:(0,Z.generateCommandClassNames)(!1),onSelect:()=>a.push(`/project/${e??"_"}/sql/new`),children:t?"Create new snippet":"Run new SQL"})})})]})}function es({projectRef:e,snippets:t,canCreateNew:a}){let r=(0,I.useRouter)(),s=Y(e=>e.value),o=t?.find(e=>eo(e)===s),i=o?.type==="sql";return(0,n.jsxs)("div",{className:"w-full flex-grow min-h-0 grid gap-4 md:grid-cols-2",children:[(0,n.jsxs)(z.CommandList_Shadcn_,{className:(0,L.cn)("!h-full min-h-0 max-h-[unset] py-2 overflow-hidden","[&>[cmdk-list-sizer]]:h-full [&>[cmdk-list-sizer]]:flex [&>[cmdk-list-sizer]]:flex-col"),children:[!!t&&t.length>0&&(0,n.jsx)(F.CommandGroup_Shadcn_,{className:"flex-grow min-h-0 overflow-auto",children:t.map(t=>(0,n.jsx)(q.CommandItem_Shadcn_,{id:`${t.id}-${t.name}`,className:(0,Z.generateCommandClassNames)(!1),value:eo(t),onSelect:()=>void r.push(`/project/${e??"_"}/sql/${t.id}`),children:t.name}))}),a&&(0,n.jsxs)("div",{className:"min-h-fit flex-grow-0",children:[(0,n.jsx)("hr",{className:"mt-4 mb-2 mx-2"}),(0,n.jsx)(F.CommandGroup_Shadcn_,{forceMount:!0,children:(0,n.jsx)(q.CommandItem_Shadcn_,{id:"create-snippet",className:(0,Z.generateCommandClassNames)(!1),onSelect:()=>r.push(`/project/${e??"_"}/sql/new`),forceMount:!0,children:"Create new snippet"})})]})]}),(0,n.jsx)(D.CodeBlock,{language:"sql",value:i?o?.content?.sql:"",wrapperClassName:"hidden md:block",className:"w-full h-full border-0 [&>code]:overflow-scroll [&>code]:block [&>code]:w-full [&>code]:h-full",hideCopy:!0})]})}function eo(e){return"sql"!==e.type?"":encodeURIComponent(`${e.id}-${e.name}-${e?.content?.sql.slice(0,30)}`).toLowerCase()}let ei="Query a table";function ec(){let e=(0,I.useRouter)(),{data:t}=(0,d.useSelectedProjectQuery)(),{data:a}=(0,T.useProtectedSchemas)(),{data:r,isPending:s,isError:o,isSuccess:i}=(0,R.useTablesQuery)({projectRef:t?.ref,connectionString:t?.connectionString,includeColumns:!0}),c=(0,p.useMemo)(()=>r?.filter(e=>!a.find(t=>t.name===e.schema)),[r,a]);return(0,n.jsxs)(B.CommandWrapper,{children:[(0,n.jsxs)(Q,{children:[(0,n.jsx)(B.Breadcrumb,{}),(0,n.jsx)(X,{autoFocus:!0})]}),(0,n.jsxs)(z.CommandList_Shadcn_,{children:[s&&(0,n.jsx)(ea,{}),o&&(0,n.jsx)(en,{}),i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(O.CommandEmpty_Shadcn_,{}),(0,n.jsx)(F.CommandGroup_Shadcn_,{children:c?.map(a=>(0,n.jsx)(q.CommandItem_Shadcn_,{className:(0,Z.generateCommandClassNames)(!1),value:encodeURIComponent(`${a.schema}.${a.name}`),onSelect:()=>{var n,r;let s,o;e.push(`/project/${t?.ref??"_"}/sql/new?content=${encodeURIComponent((n=a,`
select ${!n.columns?"*":`
${n.columns.map((e,t,a)=>`	${e.name}`).join(",\n")}`}
from ${s=ed.test((r=n).schema)?r.schema:`"${r.schema}"`,o=ed.test(r.name)?r.name:`"${r.name}"`,`${s}.${o}`}
-- where
-- order by
-- limit
;
  `.trim()))}`)},children:`${a.schema}.${a.name}`},a.id))})]})]})]})}let ed=/^[a-z_][a-z0-9_$]*$/;var el=e.i(704206),eu=e.i(912793),ep=e.i(482602),em=e.i(667042),eh=e.i(595127),eh=eh,eg=e.i(366652),ef=e.i(933275),ey=e.i(271226),ex=e.i(169949);let eb="nav-reports-query-performance",ej=({children:e,className:t,listRef:a,...r})=>{let s=(0,W.useQuery)(),[o,i]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{if(!s)return i(!1);i(!a?.current?.querySelector("[cmdk-item]"))},[s]),o&&(0,n.jsx)("div",{className:(0,L.cn)("py-6 text-center text-sm text-foreground-muted",t),...r,children:e})};var ev=e.i(308634),eS=e.i(322409);let ew=(0,p.forwardRef)(({className:e,...t},a)=>{let r=(()=>{let{commandsState:e}=(0,h.useCommandContext)(),{commandSections:t}=(0,m.useSnapshot)(e),a=(0,g.useCurrentPage)();return a&&(0,l.isCommandsPage)(a)?a.sections:t})(),s=(0,W.useQuery)(),o=(0,p.useRef)(void 0);return(0,n.jsxs)(z.CommandList_Shadcn_,{ref:e=>{a&&("function"==typeof a?a(e):a.current=e),o.current=e},className:(0,L.cn)("max-h-[initial] overflow-y-auto overflow-x-hidden bg-transparent",e),...t,children:[(0,n.jsx)(ej,{listRef:o,children:"No results found."}),r.map(e=>e.commands.every(e=>e.defaultHidden)&&!s?null:(0,n.jsx)(ev.CommandGroup,{heading:e.name,forceMount:e.forceMount,children:e.commands.filter(e=>!e.defaultHidden||s).map(e=>(0,n.jsx)(Z.CommandItem,{command:e,children:(0,n.jsx)(eS.TextHighlighter,{children:e.name})},e.id))},e.id))]})});ew.displayName=z.CommandList_Shadcn_.displayName;var ek=e.i(968675);e.i(869176);let eC="/dashboard";var e_=e.i(602089),eE=e.i(659016),eN=e.i(130568),eI=e.i(358403),e$=e.i(512291),eA=e.i(767955),eP=e.i(657541),eR=e.i(520307),eM=e.i(782303),eT=e.i(54764),eH=e.i(703093);let eL=eH.default.default||eH.default;var eD=e.i(714407),eO=e.i(102312);let eF={}.hasOwnProperty,eq=new Map,ez=/[A-Z]/g,eB=/-([a-z])/g,eV=new Set(["table","tbody","thead","tfoot","tr"]),eQ=new Set(["td","th"]),eU="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function eG(e,t,a){var n,r,s,o,i,c,d,l,u;let p,m,h,g,f,y,x,b,j,v,S;return"element"===t.type?(n=e,r=t,s=a,m=p=n.schema,"svg"===r.tagName.toLowerCase()&&"html"===p.space&&(n.schema=eM.svg),n.ancestors.push(r),h=eX(n,r.tagName,!1),g=function(e,t){let a,n,r={};for(n in t.properties)if("children"!==n&&eF.call(t.properties,n)){let s=function(e,t,a){let n=(0,eP.find)(e.schema,t);if(!(null==a||"number"==typeof a&&Number.isNaN(a))){if(Array.isArray(a)&&(a=n.commaSeparated?(0,eI.stringify)(a):(0,eT.stringify)(a)),"style"===n.property){let t="object"==typeof a?a:function(e,t){let a={};try{eL(t,function(e,t){let n=e;"--"!==n.slice(0,2)&&("-ms-"===n.slice(0,4)&&(n="ms-"+n.slice(4)),n=n.replace(eB,eY)),a[n]=t})}catch(t){if(!e.ignoreInvalidStyle){let a=new eO.VFileMessage("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:t,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=eU+"#cannot-parse-style-attribute",a}}return a}(e,String(a));return"css"===e.stylePropertyNameCase&&(t=function(e){let t,a={};for(t in e)eF.call(e,t)&&(a[function(e){let t=e.replace(ez,e0);return"ms-"===t.slice(0,3)&&(t="-"+t),t}(t)]=e[t]);return a}(t)),["style",t]}return["react"===e.elementAttributeNameCase&&n.space?eR.hastToReact[n.property]||n.property:n.attribute,a]}}(e,n,t.properties[n]);if(s){let[n,o]=s;e.tableCellAlignToStyle&&"align"===n&&"string"==typeof o&&eQ.has(t.tagName)?a=o:r[n]=o}}return a&&((r.style||(r.style={}))["css"===e.stylePropertyNameCase?"text-align":"textAlign"]=a),r}(n,r),f=eJ(n,r),eV.has(r.tagName)&&(f=f.filter(function(e){return"string"!=typeof e||!(0,eA.whitespace)(e)})),eK(n,g,h,r),eW(g,f),n.ancestors.pop(),n.schema=p,n.create(r,h,g,s)):"mdxFlowExpression"===t.type||"mdxTextExpression"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater){let a=t.data.estree.body[0];return(0,eN.ok)("ExpressionStatement"===a.type),e.evaluater.evaluateExpression(a.expression)}eZ(e,t.position)}(e,t):"mdxJsxFlowElement"===t.type||"mdxJsxTextElement"===t.type?(o=e,i=t,c=a,x=y=o.schema,"svg"===i.name&&"html"===y.space&&(o.schema=eM.svg),o.ancestors.push(i),b=null===i.name?o.Fragment:eX(o,i.name,!0),j=function(e,t){let a={};for(let n of t.attributes)if("mdxJsxExpressionAttribute"===n.type)if(n.data&&n.data.estree&&e.evaluater){let t=n.data.estree.body[0];(0,eN.ok)("ExpressionStatement"===t.type);let r=t.expression;(0,eN.ok)("ObjectExpression"===r.type);let s=r.properties[0];(0,eN.ok)("SpreadElement"===s.type),Object.assign(a,e.evaluater.evaluateExpression(s.argument))}else eZ(e,t.position);else{let r,s=n.name;if(n.value&&"object"==typeof n.value)if(n.value.data&&n.value.data.estree&&e.evaluater){let t=n.value.data.estree.body[0];(0,eN.ok)("ExpressionStatement"===t.type),r=e.evaluater.evaluateExpression(t.expression)}else eZ(e,t.position);else r=null===n.value||n.value;a[s]=r}return a}(o,i),v=eJ(o,i),eK(o,j,b,i),eW(j,v),o.ancestors.pop(),o.schema=y,o.create(i,b,j,c)):"mdxjsEsm"===t.type?function(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);eZ(e,t.position)}(e,t):"root"===t.type?(d=e,l=t,u=a,eW(S={},eJ(d,l)),d.create(l,d.Fragment,S,u)):"text"===t.type?t.value:void 0}function eK(e,t,a,n){"string"!=typeof a&&a!==e.Fragment&&e.passNode&&(t.node=n)}function eW(e,t){if(t.length>0){let a=t.length>1?t:t[0];a&&(e.children=a)}}function eJ(e,t){let a=[],n=-1,r=e.passKeys?new Map:eq;for(;++n<t.children.length;){let s,o=t.children[n];if(e.passKeys){let e="element"===o.type?o.tagName:"mdxJsxFlowElement"===o.type||"mdxJsxTextElement"===o.type?o.name:void 0;if(e){let t=r.get(e)||0;s=e+"-"+t,r.set(e,t+1)}}let i=eG(e,o,s);void 0!==i&&a.push(i)}return a}function eX(e,t,a){let n;if(a)if(t.includes(".")){let e,a=t.split("."),r=-1;for(;++r<a.length;){let t=(0,e$.name)(a[r])?{type:"Identifier",name:a[r]}:{type:"Literal",value:a[r]};e=e?{type:"MemberExpression",object:e,property:t,computed:!!(r&&"Literal"===t.type),optional:!1}:t}(0,eN.ok)(e,"always a result"),n=e}else n=(0,e$.name)(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};else n={type:"Literal",value:t};if("Literal"===n.type){let t=n.value;return eF.call(e.components,t)?e.components[t]:t}if(e.evaluater)return e.evaluater.evaluateExpression(n);eZ(e)}function eZ(e,t){let a=new eO.VFileMessage("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw a.file=e.filePath||void 0,a.url=eU+"#cannot-handle-mdx-estrees-without-createevaluater",a}function eY(e,t){return t.toUpperCase()}function e0(e){return"-"+e.toLowerCase()}var e1=e.i(295337),e2=e.i(795561),e4=e.i(556074),e6=e.i(61418),e3=e.i(321665),e5=e.i(805253);let e8=[],e9={allowDangerousHtml:!0},e7=/^(https?|ircs?|mailto|xmpp)$/i,te=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function tt(e){let t=e.allowedElements,a=e.allowElement,r=e.children||"",s=e.className,o=e.components,i=e.disallowedElements,c=e.rehypePlugins||e8,d=e.remarkPlugins||e8,l=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...e9}:e9,u=e.skipHtml,p=e.unwrapDisallowed,m=e.urlTransform||ta,h=(0,e6.unified)().use(e2.default).use(d).use(e4.default,l).use(c),g=new e5.VFile;for(let a of("string"==typeof r?g.value=r:(0,eN.unreachable)("Unexpected value `"+r+"` for `children` prop, expected `string`"),t&&i&&(0,eN.unreachable)("Unexpected combined `allowedElements` and `disallowedElements`, expected one or the other"),te))Object.hasOwn(e,a.from)&&(0,eN.unreachable)("Unexpected `"+a.from+"` prop, "+(a.to?"use `"+a.to+"` instead":"remove it")+" (see <https://github.com/remarkjs/react-markdown/blob/main/changelog.md#"+a.id+"> for more info)");let f=h.parse(g),y=h.runSync(f,g);return s&&(y={type:"element",tagName:"div",properties:{className:s},children:"root"===y.type?y.children:[y]}),(0,e3.visit)(y,function(e,n,r){if("raw"===e.type&&r&&"number"==typeof n)return u?r.children.splice(n,1):r.children[n]={type:"text",value:e.value},n;if("element"===e.type){let t;for(t in e1.urlAttributes)if(Object.hasOwn(e1.urlAttributes,t)&&Object.hasOwn(e.properties,t)){let a=e.properties[t],n=e1.urlAttributes[t];(null===n||n.includes(e.tagName))&&(e.properties[t]=m(String(a||""),t,e))}}if("element"===e.type){let s=t?!t.includes(e.tagName):!!i&&i.includes(e.tagName);if(!s&&a&&"number"==typeof n&&(s=!a(e,n,r)),s&&r&&"number"==typeof n)return p&&e.children?r.children.splice(n,1,...e.children):r.children.splice(n,1),n}}),function(e,t){var a,n,r,s;let o;if(!t||void 0===t.Fragment)throw TypeError("Expected `Fragment` in options");let i=t.filePath||void 0;if(t.development){if("function"!=typeof t.jsxDEV)throw TypeError("Expected `jsxDEV` in options when `development: true`");a=i,n=t.jsxDEV,o=function(e,t,r,s){let o=Array.isArray(r.children),i=(0,eD.pointStart)(e);return n(t,r,s,o,{columnNumber:i?i.column-1:void 0,fileName:a,lineNumber:i?i.line:void 0},void 0)}}else{if("function"!=typeof t.jsx)throw TypeError("Expected `jsx` in production options");if("function"!=typeof t.jsxs)throw TypeError("Expected `jsxs` in production options");r=t.jsx,s=t.jsxs,o=function(e,t,a,n){let o=Array.isArray(a.children)?s:r;return n?o(t,a,n):o(t,a)}}let c={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:o,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:i,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:!1!==t.passKeys,passNode:t.passNode||!1,schema:"svg"===t.space?eM.svg:eM.html,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:!1!==t.tableCellAlignToStyle},d=eG(c,e,void 0);return d&&"string"!=typeof d?d:c.create(e,c.Fragment,{children:d||void 0},void 0)}(y,{Fragment:n.Fragment,components:o,ignoreInvalidStyle:!0,jsx:n.jsx,jsxs:n.jsxs,passKeys:!0,passNode:!0})}function ta(e){let t=e.indexOf(":"),a=e.indexOf("?"),n=e.indexOf("#"),r=e.indexOf("/");return t<0||r>-1&&t>r||a>-1&&t>a||n>-1&&t>n||e7.test(e.slice(0,t))?e:""}var tn=e.i(72645),tr=e.i(631206);let ts={};function to(e){let t=e||ts,a=this.data(),n=a.micromarkExtensions||(a.micromarkExtensions=[]),r=a.fromMarkdownExtensions||(a.fromMarkdownExtensions=[]),s=a.toMarkdownExtensions||(a.toMarkdownExtensions=[]);n.push((0,tr.gfm)(t)),r.push((0,tn.gfmFromMarkdown)()),s.push((0,tn.gfmToMarkdown)(t))}var ti=e.i(837710),tc=e.i(532532),td=e.i(877555);let tl=(0,s.default)("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);var tu=e.i(178527),tp=e.i(206413),tm=e.i(592360);let th=({className:e})=>(0,n.jsxs)(tu.Alert_Shadcn_,{className:(0,L.cn)("!m-0",e),variant:"warning",children:[(0,n.jsx)(tl,{strokeWidth:1.5,size:18,className:"text-foreground-muted"}),(0,n.jsx)(tm.AlertTitle_Shadcn_,{children:"Supabase AI is experimental and may produce incorrect answers."}),(0,n.jsx)(tp.AlertDescription_Shadcn_,{children:(0,n.jsx)("p",{children:"Always verify the output before executing."})})]});var tg=((t=tg||{}).User="user",t.Assistant="assistant",t),tf=((a=tf||{}).Pending="pending",a.InProgress="in-progress",a.Complete="complete",a),ty=function(e,t){if(!(this instanceof ty))return new ty(e,t);this.INITIALIZING=-1,this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,this.url=e,t=t||{},this.headers=t.headers||{},this.payload=void 0!==t.payload?t.payload:"",this.method=t.method||this.payload&&"POST"||"GET",this.withCredentials=!!t.withCredentials,this.debug=!!t.debug,this.FIELD_SEPARATOR=":",this.listeners={},this.xhr=null,this.readyState=this.INITIALIZING,this.progress=0,this.chunk="",this.addEventListener=function(e,t){void 0===this.listeners[e]&&(this.listeners[e]=[]),-1===this.listeners[e].indexOf(t)&&this.listeners[e].push(t)},this.removeEventListener=function(e,t){if(void 0!==this.listeners[e]){var a=[];this.listeners[e].forEach(function(e){e!==t&&a.push(e)}),0===a.length?delete this.listeners[e]:this.listeners[e]=a}},this.dispatchEvent=function(e){if(!e)return!0;this.debug&&console.debug(e),e.source=this;var t="on"+e.type;return(!this.hasOwnProperty(t)||(this[t].call(this,e),!e.defaultPrevented))&&(!this.listeners[e.type]||this.listeners[e.type].every(function(t){return t(e),!e.defaultPrevented}))},this._setReadyState=function(e){var t=new CustomEvent("readystatechange");t.readyState=e,this.readyState=e,this.dispatchEvent(t)},this._onStreamFailure=function(e){var t=new CustomEvent("error");t.data=e.currentTarget.response,this.dispatchEvent(t),this.close()},this._onStreamAbort=function(e){this.dispatchEvent(new CustomEvent("abort")),this.close()},this._onStreamProgress=function(e){if(this.xhr){if(200!==this.xhr.status)return void this._onStreamFailure(e);this.readyState==this.CONNECTING&&(this.dispatchEvent(new CustomEvent("open")),this._setReadyState(this.OPEN));var t=this.xhr.responseText.substring(this.progress);this.progress+=t.length;var a=(this.chunk+t).split(/(\r\n\r\n|\r\r|\n\n)/g),n=a.pop();a.forEach((function(e){e.trim().length>0&&this.dispatchEvent(this._parseEventChunk(e))}).bind(this)),this.chunk=n}},this._onStreamLoaded=function(e){this._onStreamProgress(e),this.dispatchEvent(this._parseEventChunk(this.chunk)),this.chunk=""},this._parseEventChunk=function(e){if(!e||0===e.length)return null;this.debug&&console.debug(e);var t={id:null,retry:null,data:null,event:null};e.split(/\n|\r\n|\r/).forEach((function(e){var a,n,r=e.indexOf(this.FIELD_SEPARATOR);if(r>0){var s=" "===e[r+1]?2:1;a=e.substring(0,r),n=e.substring(r+s)}else{if(!(r<0))return;a=e,n=""}a in t&&("data"===a&&null!==t[a]?t.data+="\n"+n:t[a]=n)}).bind(this));var a=new CustomEvent(t.event||"message");return a.data=t.data||"",a.id=t.id,a},this._checkStreamClosed=function(){this.xhr&&this.xhr.readyState===XMLHttpRequest.DONE&&this._setReadyState(this.CLOSED)},this.stream=function(){if(!this.xhr){for(var e in this._setReadyState(this.CONNECTING),this.xhr=new XMLHttpRequest,this.xhr.addEventListener("progress",this._onStreamProgress.bind(this)),this.xhr.addEventListener("load",this._onStreamLoaded.bind(this)),this.xhr.addEventListener("readystatechange",this._checkStreamClosed.bind(this)),this.xhr.addEventListener("error",this._onStreamFailure.bind(this)),this.xhr.addEventListener("abort",this._onStreamAbort.bind(this)),this.xhr.open(this.method,this.url),this.headers)this.xhr.setRequestHeader(e,this.headers[e]);this.xhr.withCredentials=this.withCredentials,this.xhr.send(this.payload)}},this.close=function(){this.readyState!==this.CLOSED&&(this.xhr.abort(),this.xhr=null,this._setReadyState(this.CLOSED))},(void 0===t.start||t.start)&&this.stream()};let tx=(e,t)=>{let a=[...e],{type:n}=t;switch(n){case"new":{let{message:e}=t;a.push(e);break}case"update":{let{index:e,message:n}=t;a[e]&&(a[e]=Object.assign({},a[e],n));break}case"append-content":{let{index:e,content:n,idempotencyKey:r}=t,s=a[e];if(!s||s.idempotencyKey===r)break;s.idempotencyKey=r,a[e]=Object.assign({},s,{content:s.content+=n});break}case"finalize-with-sources":{let{index:e}=t,n=a[e];if(n&&n.content){let{cleanedContent:t,sources:r}=function(e){let t=e.match(/### Sources\s*(?:\n((?:- [^\n]+\n?)*))?\s*$/),a=e,n=[];if(t){for(let e of(t[1]||"").split("\n").filter(e=>e.trim().startsWith("- "))){let t=e.replace(/^- /,"").trim();t&&t.startsWith("/")&&n.push({path:t,url:`https://supabase.com/docs${t}`})}let r=e.lastIndexOf("### Sources");-1!==r&&(a=e.substring(0,r).trim())}return{cleanedContent:a,sources:n}}(n.content);a[e]=Object.assign({},n,{status:tf.Complete,content:t,sources:r.length>0?r:void 0})}else a[e]=Object.assign({},n,{status:tf.Complete});break}case"reset":a=[];break;default:throw Error(`Unknown message action '${n}'`)}return a},tb=["How do I get started with Supabase?","How do I run Supabase locally?","How do I connect to my database?","How do I run migrations? ","How do I listen to changes in a table?","How do I set up authentication?"],tj=()=>{let e=(0,W.useSetQuery)(),t=(0,U.useBreakpoint)("sm");(0,V.useSetCommandMenuSize)("xlarge");let[a,r]=(0,p.useState)(!1),{submit:s,reset:o,messages:i,isResponding:c,hasError:d}=(({messageTemplate:e=e=>e,setIsLoading:t})=>{let a=(0,p.useRef)(),n=(0,p.useRef)(0),[r,s]=(0,p.useState)(!1),[o,i]=(0,p.useState)(!1),[c,d]=(0,p.useState)(1),[l,u]=(0,p.useReducer)(tx,[]);return{submit:(0,p.useCallback)(async r=>{u({type:"new",message:{status:tf.Complete,role:tg.User,content:r}}),u({type:"new",message:{status:tf.Pending,role:tg.Assistant,content:""}}),s(!1),i(!1),t?.(!0);let o=new ty(`${eC}/api/ai/docs`,{headers:{apikey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhndWloeHV6cWlid3hqbmlteGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgzNzc1MTgsImV4cCI6MjAzMzk1MzUxOH0.aIqjQ9V7djMxYit-DT1fYNV_VWMHSqldh_18XfX2_BE",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhndWloeHV6cWlid3hqbmlteGV2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTgzNzc1MTgsImV4cCI6MjAzMzk1MzUxOH0.aIqjQ9V7djMxYit-DT1fYNV_VWMHSqldh_18XfX2_BE","Content-Type":"application/json"},payload:JSON.stringify({messages:l.filter(({status:e})=>e===tf.Complete).map(({role:e,content:t})=>({role:e,content:t})).concat({role:tg.User,content:e(r)})})});function p(e){t?.(!1),s(!1),i(!0),console.error(e)}o.addEventListener("error",p),o.addEventListener("message",function(e){try{if(t?.(!1),"[DONE]"===e.data){s(!1),u({type:"finalize-with-sources",index:c}),d(e=>e+2);return}u({type:"update",index:c,message:{status:tf.InProgress}}),s(!0);let[{delta:{content:a}}]=JSON.parse(e.data).choices;a&&u({type:"append-content",index:c,idempotencyKey:n.current++,content:a})}catch(e){p(e)}}),o.stream(),a.current=o,t?.(!0)},[c,l,e]),reset:function(){a.current?.close(),a.current=void 0,s(!1),i(!1),d(1),u({type:"reset"})},messages:l,isResponding:r,hasError:o}})({setIsLoading:r}),l=(0,p.useCallback)(t=>{e(""),s(t)},[s]),u=(0,p.useCallback)(()=>{e(""),o()},[o]);return(0,n.jsxs)(B.CommandWrapper,{className:(0,L.cn)("flex flex-col",!t&&"[&_[cmdk-input-wrapper]]:border-b-0 [&_[cmdk-input-wrapper]]:border-t [&_[cmdk-input-wrapper]]:border-solid [&_[cmdk-input-wrapper]]:border-bg-control"),children:[(0,n.jsxs)(Q,{children:[(0,n.jsx)(B.Breadcrumb,{}),t&&(0,n.jsx)(tv,{submit:l,reset:u,messages:i,isLoading:a,isResponding:c})]}),(0,n.jsxs)("div",{className:(0,L.cn)("flex-grow min-h-0 overflow-auto"),children:[!d&&i.length>0&&(0,n.jsx)(tS,{messages:i}),!d&&0===i.length&&(0,n.jsx)(tw,{handleSubmit:l}),d&&(0,n.jsx)(tk,{handleReset:u})]}),!t&&(0,n.jsx)(tv,{submit:l,reset:u,messages:i,isLoading:a,isResponding:c}),i.length>0&&!d&&(0,n.jsx)(th,{className:t?"rounded-b-none":"rounded-t-none"})]})};function tv({submit:e,reset:t,messages:a,isLoading:r,isResponding:s,className:o}){let i=(0,W.useQuery)(),c=(0,p.useRef)(i),d=(0,W.useSetQuery)();(0,p.useEffect)(()=>(i&&e(i),t),[]);let[l,u]=(0,p.useState)(""),[m,h]=(0,p.useState)(!1);return(0,p.useEffect)(()=>{i!==c.current?(u(i),c.current=i):m||(d(l),c.current=l)},[l,i,m]),!function({stack:e,enable:t=!0}){let[a,n]=(0,p.useState)(0),r=(0,W.useSetQuery)(),s=(0,p.useCallback)(a=>{t&&(r(e[a]??""),n(a))},[]);(0,p.useEffect)(()=>{function t(t){switch(t.key){case"ArrowUp":return s(Math.max(a-1,0));case"ArrowDown":return s(Math.min(a+1,e.length-1));default:return}}return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[s,e])}({enable:!s,stack:a.filter(({role:e})=>e===tg.User).map(({content:e})=>e)}),(0,n.jsx)(X,{className:(0,L.cn)("w-full h-11","border-none outline-none bg-transparent rounded-none rounded-t-md px-4 py-7","flex","text-base text-foreground-light","focus:ring-0 focus:shadow-none focus:ring-transparent","focus-visible:ring-0 focus-visible:shadow-none focus-visible:ring-transparent","placeholder:text-foreground-muted","disabled:cursor-not-allowed disabled:opacity-50",o),placeholder:r||s?"Waiting on an answer...":"Ask Supabase AI a question...",value:l,onValueChange:u,onCompositionStart:()=>h(!0),onCompositionEnd:()=>h(!1),onKeyDown:t=>{if("Enter"===t.key&&i&&!r&&!s&&!m)return e(i)}})}function tS({messages:e}){return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(z.CommandList_Shadcn_,{}),(0,n.jsx)("div",{className:(0,L.cn)("flex-grow min-h-0 overflow-auto p-4","grid gap-6 md:grid-cols-[max-content,1fr] grid-rows-[max-content]"),children:e.map((e,t)=>{switch(e.role){case tg.User:return(0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsx)("div",{className:(0,L.cn)("w-7 h-7","border border-muted bg-background shadow-sm rounded-full","flex items-center justify-center","text-foreground-lighter"),children:(0,n.jsx)(eE.User,{strokeWidth:1.5,size:16})}),(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-muted uppercase tracking-widest md:hidden",children:"You"})]}),(0,n.jsx)("div",{className:"prose text-foreground-lighter",children:e.content})]},t);case tg.Assistant:return(0,n.jsxs)(p.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center md:items-start gap-4",children:[(0,n.jsx)(e_.AiIconAnimation,{className:"ml-0.5",loading:e.status===tf.Pending||e.status===tf.InProgress,allowHoverEffect:!0}),(0,n.jsx)("span",{className:"font-mono text-sm text-foreground-muted uppercase tracking-widest md:hidden",children:"Supabase AI"})]}),(0,n.jsxs)("div",{children:[e.status===tf.Pending&&(0,n.jsx)("span",{className:"inline-block h-[1lh] w-[0.8lh] mt-1 bg-border-strong animate-bounce"}),(0,n.jsx)(tt,{remarkPlugins:[to],components:{...tc.markdownComponents,a:e=>(0,n.jsx)("a",{...e,target:"_blank",rel:"noopener noreferrer"})},className:"prose dark:prose-dark break-words",children:e.content}),e.sources&&e.sources.length>0&&(0,n.jsxs)("div",{className:"mt-4 pt-4 border-t border-border-muted",children:[(0,n.jsx)("p",{className:"text-sm text-foreground-muted mb-2",children:"Sources:"}),(0,n.jsx)("ul",{className:"space-y-1",children:e.sources.map((e,t)=>(0,n.jsx)("li",{children:(0,n.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-brand hover:underline",children:e.url})},t))})]})]})]},t)}})})]})}function tw({handleSubmit:e}){let t=(0,W.useQuery)();return(0,n.jsx)(z.CommandList_Shadcn_,{className:"max-h-[unset]",children:(0,n.jsx)(F.CommandGroup_Shadcn_,{heading:"Examples",className:(0,L.cn)("text-border-strong","[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5","[&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted"),children:tb.map(a=>{let r=a.replace(/\s+/g,"_");return(0,n.jsxs)(q.CommandItem_Shadcn_,{className:(0,Z.generateCommandClassNames)(!1),onSelect:()=>{t||e(a)},children:[(0,n.jsx)(e_.AiIconAnimation,{}),a]},r)})})})}function tk({handleReset:e}){return(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-2 mt-4",children:[(0,n.jsx)(td.StatusIcon,{variant:"warning"}),(0,n.jsx)("p",{className:"text-sm text-foreground text-center",children:"Sorry, looks like Supabase AI is having a hard time!"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter text-center",children:"Please try again in a bit."}),(0,n.jsx)(ti.Button,{size:"tiny",type:"default",onClick:e,children:"Try again?"})]})}let tC="Ask Supabase AI",t_=e=>e;var tE=e.i(636900),tN=e.i(727095),tI=e.i(416050),t$=e.i(398696),tA=e.i(116746),tP=e.i(543064),tR=e.i(430174);let tM=["How do I get started with Supabase?","How do I run Supabase locally?","How do I connect to my database?","How do I run migrations? ","How do I listen to changes in a table?","How do I set up authentication?"],tT=()=>(0,n.jsx)(tI.ChevronRight,{strokeWidth:1.5,className:(0,L.cn)("-left-4","opacity-0","text-foreground-muted","group-aria-selected:scale-[101%] group-aria-selected:opacity-100 group-aria-selected:left-0","transition")}),tH=e=>(0,n.jsx)("div",{className:(0,L.cn)("w-6 h-6","bg-surface-100 border rounded","flex items-center justify-center","text-foreground-muted","group-aria-selected:bg-surface-200 group-aria-selected:text-foreground-lighter group-aria-selected:[&_svg]:scale-[103%]","transition"),...e}),tL=()=>{let{searchState:e,handleDocsSearch:t,handleDocsSearchDebounced:a,resetSearch:r}=(0,tN.useDocsSearch)(),s=(0,V.useSetCommandMenuOpen)(),o=(0,W.useSetQuery)(),i=(0,W.useQuery)(),c=(0,p.useRef)(!0),d=(0,p.useRef)(null),l=(0,tR.useCrossCompatRouter)();async function u(e,t){switch(e){case tN.DocsSearchResultType.Markdown:case tN.DocsSearchResultType.Reference:eC?window.open(`https://supabase.com/docs${t}`,"_blank","noreferrer,noopener"):l.push(`/docs${t}`),s(!1);break;case tN.DocsSearchResultType.Integration:eC?window.open(`https://supabase.com${t}`,"_blank","noreferrer,noopener"):l.push(t),s(!1);break;case tN.DocsSearchResultType.GithubDiscussion:window.open(t,"_blank","noreferrer,noopener"),s(!1);break;default:throw Error(`Unknown page type '${e}'`)}}let m="fullResults"===e.status||"partialResults"===e.status||"loading"===e.status&&e.staleResults.length>0;function h(){o(""),r()}return(0,p.useEffect)(()=>{c.current?(i&&t(i),c.current=!1):i?a(i):r()},[i,t,a]),(0,p.useEffect)(()=>{let e=e=>{"Enter"===e.key&&document.activeElement===d.current&&i&&!m&&(e.preventDefault(),a.cancel(),t(i))};return d.current?.addEventListener("keydown",e),()=>d.current?.removeEventListener("keydown",e)},[i,m]),(0,n.jsxs)(B.CommandWrapper,{children:[(0,n.jsxs)(Q,{children:[(0,n.jsx)(B.Breadcrumb,{}),(0,n.jsx)(X,{placeholder:"Search...",ref:d})]}),(0,n.jsxs)(z.CommandList_Shadcn_,{className:"max-h-[initial]",children:[m&&("results"in e?e.results:e.staleResults).map((e,t)=>(0,n.jsxs)(F.CommandGroup_Shadcn_,{heading:"",value:`${encodeURIComponent(e.title)}-group-index-${t}`,forceMount:!0,className:"overflow-hidden py-3 px-2 text-border-strong [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted",children:[(0,n.jsxs)(q.CommandItem_Shadcn_,{value:`${encodeURIComponent(e.title)}-item-index-${t}`,onSelect:()=>{u(e.type,e.path)},forceMount:!0,className:(0,L.cn)((0,Z.generateCommandClassNames)(!0),"border border-overlay/90"),children:[(0,n.jsxs)("div",{className:"grow flex gap-3 items-center",children:[(0,n.jsx)(tH,{children:function(e){switch(e.type){case tN.DocsSearchResultType.Markdown:case tN.DocsSearchResultType.Reference:case tN.DocsSearchResultType.Integration:return(0,n.jsx)(tE.Book,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});case tN.DocsSearchResultType.GithubDiscussion:return(0,n.jsx)(t$.Github,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});default:throw Error(`Unknown page type '${e.type}'`)}}(e)}),(0,n.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,n.jsx)(eS.TextHighlighter,{children:e.title}),(e.description||e.subtitle)&&(0,n.jsx)("div",{className:"text-xs text-foreground-muted",children:e.description||e.subtitle})]})]}),(0,n.jsx)(tT,{})]},`${e.path}-item`),e.sections.length>0&&(0,n.jsx)("div",{className:"border-l border-muted ml-3 pt-3",children:e.sections.map((t,a)=>(0,n.jsxs)(q.CommandItem_Shadcn_,{className:(0,L.cn)((0,Z.generateCommandClassNames)(!0),"border border-overlay/90","ml-3 mb-3"),onSelect:()=>{u(e.type,function(e,t){switch(e.type){case tN.DocsSearchResultType.Markdown:case tN.DocsSearchResultType.GithubDiscussion:return`${e.path}#${t.slug??""}`;case tN.DocsSearchResultType.Reference:return`${e.path}/${t.slug??""}`;case tN.DocsSearchResultType.Integration:return e.path;default:throw Error(`Unknown page type '${e.type}'`)}}(e,t))},value:`${encodeURIComponent(e.title)}__${encodeURIComponent(t.heading)}-item-index-${a}`,forceMount:!0,children:[(0,n.jsxs)("div",{className:"grow flex gap-3 items-center",children:[(0,n.jsx)(tH,{children:function(e){switch(e.type){case tN.DocsSearchResultType.Markdown:case tN.DocsSearchResultType.Reference:case tN.DocsSearchResultType.Integration:return(0,n.jsx)(tA.Hash,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});case tN.DocsSearchResultType.GithubDiscussion:return(0,n.jsx)(tP.MessageSquare,{strokeWidth:1.5,className:"!mr-0 !w-4 !h-4"});default:throw Error(`Unknown page type '${e.type}'`)}}(e)}),(0,n.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,n.jsx)("cite",{children:(0,n.jsx)(eS.TextHighlighter,{className:"not-italic text-[10px] rounded-full px-2 py-1 bg-surface-300 text-foreground-muted",children:e.title})}),t.heading&&(0,n.jsx)(eS.TextHighlighter,{children:t.heading})]})]}),(0,n.jsx)(tT,{})]},`${e.path}__${t.heading}-item`))})]},`${e.path}-group`)),"initial"===e.status&&(0,n.jsx)(F.CommandGroup_Shadcn_,{className:"overflow-hidden py-3 px-2 text-border-strong [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:pb-1.5 [&_[cmdk-group-heading]]:text-sm [&_[cmdk-group-heading]]:font-normal [&_[cmdk-group-heading]]:text-foreground-muted",children:tM.map(e=>{let a=e.replace(/\s+/g,"_");return(0,n.jsxs)(q.CommandItem_Shadcn_,{className:(0,Z.generateCommandClassNames)(!1),disabled:m,onSelect:()=>{i||(t(e),o(e))},children:[(0,n.jsx)(eg.Search,{}),e]},a)})}),"loading"===e.status&&0===e.staleResults.length&&(0,n.jsxs)("div",{className:"flex items-center gap-3 my-4 justify-center",children:[(0,n.jsx)(E.Loader2,{className:"animate animate-spin text-foreground-muted",size:14}),(0,n.jsx)("p",{className:"text-sm text-foreground-muted text-center",children:"Searching for results"})]}),"noResults"===e.status&&(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-6 mt-4 text-foreground-light",children:[(0,n.jsx)(td.StatusIcon,{variant:"default"}),(0,n.jsx)("p",{className:"text-sm text-foreground-light text-center",children:"No results found."}),(0,n.jsx)(ti.Button,{size:"tiny",type:"default",onClick:h,children:"Try again?"})]}),"error"===e.status&&(0,n.jsxs)("div",{className:"p-6 flex flex-col items-center gap-6 mt-4",children:[(0,n.jsx)(td.StatusIcon,{variant:"warning"}),(0,n.jsx)("p",{className:"text-lg text-foreground-light",children:"Sorry, looks like we're having some issues with search!"}),(0,n.jsx)("p",{className:"text-sm text-foreground-lighter",children:"Please try again in a bit."}),(0,n.jsx)(ti.Button,{size:"tiny",type:"default",onClick:h,children:"Try again?"})]})]})]})},tD="Docs search",tO=e=>e;var tF=e.i(382710);let tq=(0,s.default)("MonitorDot",[["circle",{cx:"19",cy:"6",r:"3",key:"108a5v"}],["path",{d:"M22 12v3a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h9",key:"1fet9y"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]),tz=(0,s.default)("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),tB=(0,s.default)("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);var tV=e.i(896975),tQ=e.i(460898);let tU="Switch theme";var tG=e.i(108892),tK=e.i(546024),tW=e.i(355901),tJ=e.i(587433),tX=e.i(375761);let tZ="API Keys";var tY=e.i(377451),t0=e.i(819993);e.i(481541);var t1=e.i(755191),t2=e.i(114970),t4=e.i(499536),t6=e.i(679152),t3=e.i(829901);let t5=(0,t6.default)(()=>e.A(134805).then(e=>({default:e.TableSearchResults})),{loadableGenerated:{modules:[664336]},loading:()=>(0,n.jsx)(t3.SkeletonResults,{}),ssr:!1}),t8=(0,t6.default)(()=>e.A(597523).then(e=>({default:e.PolicySearchResults})),{loadableGenerated:{modules:[245099]},loading:()=>(0,n.jsx)(t3.SkeletonResults,{}),ssr:!1}),t9=(0,t6.default)(()=>e.A(678679).then(e=>({default:e.EdgeFunctionSearchResults})),{loadableGenerated:{modules:[404154]},loading:()=>(0,n.jsx)(t3.SkeletonResults,{}),ssr:!1}),t7=(0,t6.default)(()=>e.A(73751).then(e=>({default:e.StorageSearchResults})),{loadableGenerated:{modules:[31724]},loading:()=>(0,n.jsx)(t3.SkeletonResults,{}),ssr:!1}),ae={"database-tables":{icon:em.Database,label:"Database Tables",requiresInput:!1},"auth-policies":{icon:t1.Auth,label:"RLS Policies",requiresInput:!1},"edge-functions":{icon:t2.EdgeFunctions,label:"Edge Functions",requiresInput:!1},storage:{icon:t4.Storage,label:"Storage",requiresInput:!1}};function at({context:e,query:t}){let a=ae[e];return"database-tables"===e?(0,n.jsx)("div",{className:"flex-1 min-h-0 flex flex-col",children:(0,n.jsx)(t5,{query:t})}):"auth-policies"===e?(0,n.jsx)("div",{className:"flex-1 min-h-0 flex flex-col",children:(0,n.jsx)(t8,{query:t})}):"edge-functions"===e?(0,n.jsx)("div",{className:"flex-1 min-h-0 flex flex-col",children:(0,n.jsx)(t9,{query:t})}):"storage"===e?(0,n.jsx)("div",{className:"flex-1 min-h-0 flex flex-col",children:(0,n.jsx)(t7,{query:t})}):(0,n.jsx)("div",{className:"flex-1 min-h-0 flex flex-col",children:(0,n.jsx)(t3.EmptyState,{icon:a.icon,label:a.label,query:t})})}var aa=e.i(657588);let an=[{value:"database-tables",label:"Database Tables",pageName:"Search Database Tables",placeholder:"Search database tables...",icon:em.Database},{value:"auth-policies",label:"RLS Policies",pageName:"Search RLS Policies",placeholder:"Search rls policies...",icon:t1.Auth},{value:"edge-functions",label:"Edge Functions",pageName:"Search Edge Functions",placeholder:"Search edge functions...",icon:t2.EdgeFunctions},{value:"storage",label:"Storage",pageName:"Search Storage",placeholder:"Search buckets...",icon:t4.Storage}];function ar({context:e,placeholder:t}){let a=(0,W.useQuery)();return(0,n.jsxs)(B.CommandWrapper,{children:[(0,n.jsx)(Q,{children:(0,n.jsx)(X,{placeholder:t})}),(0,n.jsx)(at,{context:e,query:a})]})}let as=(0,s.default)("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]),ao=(0,s.default)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]),ai=(0,s.default)("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),ac=(0,s.default)("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]);var ad=e.i(479232),al=e.i(505909),al=al,au=e.i(829298);let ap=(0,s.default)("ShieldPlus",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9 12h6",key:"1c52cq"}],["path",{d:"M12 9v6",key:"199k2o"}]]),am=(0,s.default)("UserCog",[["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m21.7 16.4-.9-.3",key:"12j9ji"}],["path",{d:"m15.2 13.9-.9-.3",key:"1fdjdi"}],["path",{d:"m16.6 18.7.3-.9",key:"heedtr"}],["path",{d:"m19.1 12.2.3-.9",key:"1af3ki"}],["path",{d:"m19.6 18.7-.4-1",key:"1x9vze"}],["path",{d:"m16.8 12.3-.4-1",key:"vqeiwj"}],["path",{d:"m14.3 16.6 1-.4",key:"1qlj63"}],["path",{d:"m20.7 13.8 1-.4",key:"1v5t8k"}]]);var ah=e.i(432639),ag=e.i(880791),af=e.i(661739),ay=e.i(469157),ax=e.i(906346),ab=e.i(250503),aj=e.i(376510),av=e.i(722310),aS=e.i(796238),aw=e.i(215618),ak=e.i(556684),aC=e.i(868118),a_=e.i(400104),aE=e.i(14703),aN=e.i(25862),aI=e.i(280590),a$=e.i(265735),aA=e.i(317040),aP=e.i(441081);let aR=(0,t6.default)(()=>e.A(429186).then(e=>e.AiIconAnimation),{loadableGenerated:{modules:[818996]}}),aM=(0,t6.default)(()=>e.A(429186).then(e=>e.Badge),{loadableGenerated:{modules:[818996]}}),aT=(0,t6.default)(()=>e.A(488584).then(e=>e.EdgeFunctions),{loadableGenerated:{modules:[851420]}}),aH=(0,t6.default)(()=>e.A(488584).then(e=>e.AnalyticsBucket),{loadableGenerated:{modules:[851420]}}),aL=(0,t6.default)(()=>e.A(488584).then(e=>e.FilesBucket),{loadableGenerated:{modules:[851420]}}),aD=(0,t6.default)(()=>e.A(488584).then(e=>e.VectorBucket),{loadableGenerated:{modules:[851420]}}),aO=(0,t6.default)(()=>e.A(488584).then(e=>e.Graphql),{loadableGenerated:{modules:[851420]}}),aF="Create Studio Entity",aq=(0,s.default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var az=e.i(953197),aB=e.i(811025),aV=e.i(467461);let aQ="Switch project",aU="Configure organization";var aG=e.i(787845),aK=e.i(690679);e.i(10429);var aW=e.i(837508),aJ=e.i(980283),aX=e.i(533488);function aZ(){let e;return!function(){let e=(0,V.useSetCommandMenuOpen)(),t=(0,V.useResetCommandMenu)(),a=(0,g.useSetPage)(),{data:r}=(0,d.useSelectedProjectQuery)(),s=r?.ref||"_",{can:o,isLoading:i}=(0,M.useAsyncCheckPermissions)($.PermissionAction.SECRETS_READ,"*"),{data:c}=(0,tG.useAPIKeysQuery)({projectRef:r?.ref,reveal:!0},{enabled:o}),u=(0,p.useMemo)(()=>{let{anonKey:a,serviceKey:i,publishableKey:d,allSecretKeys:l}=o?(0,tG.getKeys)(c):{};return[r&&d&&{id:"publishable-key",name:"Copy publishable key",action:()=>{(0,tX.copyToClipboard)(d.api_key??"",()=>{tW.toast.success("Publishable key copied to clipboard")}),e(!1),t()},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tJ.Badge,{children:["Project: ",r?.name]}),(0,n.jsx)(tJ.Badge,{children:d.type})]}),icon:()=>(0,n.jsx)(tK.Key,{})},...r&&l?l.map(a=>({id:a.id,name:`Copy secret key (${a.name})`,action:()=>{(0,tX.copyToClipboard)(a.api_key??"",()=>{tW.toast.success("Secret key copied to clipboard")}),e(!1),t()},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tJ.Badge,{children:["Project: ",r?.name]}),(0,n.jsx)(tJ.Badge,{children:a.type})]}),icon:()=>(0,n.jsx)(tK.Key,{})})):[],r&&a&&{id:"anon-key",name:"Copy anonymous API key",action:()=>{(0,tX.copyToClipboard)(a.api_key??"",()=>{tW.toast.success("Anonymous API key copied to clipboard")}),e(!1),t()},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tJ.Badge,{children:["Project: ",r?.name]}),(0,n.jsx)(tJ.Badge,{children:"Public"}),(0,n.jsx)(tJ.Badge,{children:a.type})]}),icon:()=>(0,n.jsx)(tK.Key,{})},r&&i&&{id:"service-key",name:"Copy service API key",action:()=>{(0,tX.copyToClipboard)(i.api_key??"",()=>{tW.toast.success("Service key copied to clipboard")}),e(!1),t()},badge:()=>(0,n.jsxs)("span",{className:"flex items-center gap-x-1",children:[(0,n.jsxs)(tJ.Badge,{children:["Project: ",r?.name]}),(0,n.jsx)(tJ.Badge,{variant:"destructive",children:"Secret"}),(0,n.jsx)(tJ.Badge,{children:i.type})]}),icon:()=>(0,n.jsx)(tK.Key,{})},!(a||i)&&{id:"api-keys-project-settings",name:"See API keys in Project Settings",route:`/project/${s}/settings/api-keys`,icon:()=>(0,n.jsx)(tK.Key,{})}].filter(Boolean)},[c,o,r,s,t,e]);(0,g.useRegisterPage)(tZ,{type:l.PageType.Commands,sections:[{id:"api-keys",name:"API keys",commands:u}]},{deps:[u],enabled:!!r&&u.length>0}),f(y,[{id:"api-keys",name:"Get API keys...",action:()=>a(tZ),icon:()=>(0,n.jsx)(tK.Key,{})}],{enabled:!!r&&u.length>0,orderSection:S,sectionMeta:{priority:3}})}(),function(){let e=(0,V.useSetCommandMenuOpen)(),t=(0,V.useResetCommandMenu)(),{data:a}=(0,d.useSelectedProjectQuery)(),{data:r}=(0,tY.useProjectSettingsV2Query)({projectRef:a?.ref},{enabled:!!a}),s=r?.app_config?.protocol??"https",o=r?.app_config?.endpoint,i=o?`${s}://${o}`:void 0;f(y,[{id:"api-url",name:"Copy API URL",action:()=>{(0,tX.copyToClipboard)(i??"",()=>{tW.toast.success("API URL copied to clipboard")}),e(!1),t()},icon:()=>(0,n.jsx)(t0.Link,{}),badge:()=>(0,n.jsxs)(tJ.Badge,{children:["Project: ",a?.name]})}],{enabled:!!a,deps:[i,a],orderSection:S,sectionMeta:{priority:3}})}(),function(){let e=(0,V.useSetCommandMenuOpen)(),{data:t}=(0,d.useSelectedProjectQuery)(),a=t?.status===aW.PROJECT_STATUS.ACTIVE_HEALTHY,[r,s]=(0,aX.useQueryState)("showConnect",aX.parseAsBoolean.withDefault(!1)),[o,i]=(0,aX.useQueryState)("connectTab",aX.parseAsString);f(y,[{id:"connect-to-project",name:"Connect to your project",action:()=>{s(!0),e(!1)},icon:()=>(0,n.jsx)(aJ.Plug,{className:"rotate-90"})},{id:"connect-mcp",name:"Connect via MCP",action:()=>{s(!0),i("mcp"),e(!1)},icon:()=>(0,n.jsx)(aJ.Plug,{className:"rotate-90"})}],{enabled:!!t&&a,orderSection:S,sectionMeta:{priority:2}})}(),function(){let{data:e}=(0,d.useSelectedProjectQuery)(),t=e?.ref||"_";f(j,[{id:"create-table",name:"Create new table",route:`/project/${t}/editor?create=table`,icon:()=>(0,n.jsx)(N.Table2,{})}],{...void 0,deps:[t],enabled:((void 0)??!0)&&!!e,orderSection:S,sectionMeta:{priority:3}})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,aV.useProjectsInfiniteQuery)({},{enabled:r.IS_PLATFORM}),a=(0,p.useMemo)(()=>t?.pages.flatMap(e=>e.projects),[t?.pages])||[];(0,g.useRegisterPage)(aQ,{type:l.PageType.Commands,sections:[{id:"switch-project",name:"Switch project",commands:a.map(({name:e,ref:t})=>({id:`project-${t}`,name:e,value:`${e} (${t})`,route:`/project/${t}`,icon:()=>(0,n.jsx)(o,{})}))}]},{deps:[a],enabled:!!a&&a.length>0}),f(y,[{id:"switch-project",name:"Switch project...",value:"Switch project, Change project, Select project",action:()=>e(aQ),icon:()=>(0,n.jsx)(az.Wrench,{})}],{enabled:!!a&&a.length>0})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,aB.useOrganizationsQuery)({enabled:r.IS_PLATFORM});(0,g.useRegisterPage)(aU,{type:l.PageType.Commands,sections:[{id:"configure-organization",name:"Configure organization",commands:t?.map(({name:e,slug:t})=>({id:`organization-${t}`,name:e,value:`${e} (${t})`,route:`/org/${t}/general`,icon:()=>(0,n.jsx)(aq,{})}))??[]}]},{deps:[t],enabled:!!t&&t.length>0}),f(y,[{id:"configure-organization",name:"Configure organization...",value:"Configure organization, Change organization, Select organization",action:()=>e(aU),icon:()=>(0,n.jsx)(aq,{})}],{enabled:!!t&&t.length>0})}(),function(){let{data:e}=(0,d.useSelectedProjectQuery)(),t=(0,g.useSetPage)(),a=(0,V.useCommandMenuOpen)(),r=(0,p.useRef)(a),s=a&&!r.current;r.current=a;let o=(0,R.usePrefetchTables)({projectRef:e?.ref,connectionString:e?.connectionString});(0,p.useEffect)(()=>{e&&s&&o(void 0,!0)},[e,o,s]),(0,g.useRegisterPage)(ei,{type:l.PageType.Component,component:ec},{enabled:!!e}),f(v,[{id:"query-table",name:"Query a table...",icon:()=>(0,n.jsx)(N.Table2,{}),action:()=>t(ei)}],{...void 0,enabled:((void 0)??!0)&&!!e})}(),function(){let e=(0,g.useSetPage)(),{data:t}=(0,d.useSelectedProjectQuery)(),a=t?.is_branch_enabled===!0,{data:r}=(0,c.useBranchesQuery)({projectRef:t?.parent_project_ref||t?.ref},{enabled:a});r??=k,(0,g.useRegisterPage)(w,{type:l.PageType.Commands,sections:[{id:"switch-branch",name:"Switch branch",commands:r.map(e=>({id:`branch-${e.id}`,name:e.name,route:`/project/${e.project_ref}`,icon:()=>(0,n.jsx)(o,{})}))}]},{enabled:a&&r.length>0,deps:[r]}),f(y,[{id:"switch-branch",name:"Switch branch",value:"Switch branch, Change branch, Select branch",action:()=>e(w),icon:()=>(0,n.jsx)(i.GitBranch,{})}],{enabled:a&&r.length>0,orderSection:S,sectionMeta:{priority:3}})}(),function(){let{data:e}=(0,d.useSelectedProjectQuery)(),t=(0,g.useSetPage)();(0,g.useRegisterPage)(ee,{type:l.PageType.Component,component:()=>(0,n.jsx)(et,{})},{enabled:!!e}),f(v,[{id:"run-snippet",name:"Run snippet...",icon:()=>(0,n.jsx)(_.Code,{}),action:()=>t(ee)}],{enabled:!!e,orderSection:S,sectionMeta:{priority:3}})}(),!function(e){let{ref:t}=(0,A.useParams)();t||="_",f(j,[{id:"view-tables",name:"View your tables",route:`/project/${t}/editor`,icon:()=>(0,n.jsx)(N.Table2,{})}],{...e,deps:[t],orderSection:S,sectionMeta:{priority:3}}),f(x,[{id:"nav-table-editor",name:"Table Editor",route:`/project/${t}/editor`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e=(0,el.useIsLoggedIn)()}),function(e){let{ref:t}=(0,A.useParams)();t||="_",f(x,[{id:"nav-sql-editor",name:"SQL Editor",route:`/project/${t}/sql`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_";let{databaseReplication:a,databaseRoles:r,integrationsWrappers:s}=(0,eu.useIsFeatureEnabled)(["database:replication","database:roles","integrations:wrappers"]);f(b,[{id:"run-sql",name:"Run SQL",route:`/project/${t}/sql/new`,icon:()=>(0,n.jsx)(_.Code,{})}],{...e,deps:[t],orderSection:S,sectionMeta:{priority:2}}),f(x,[{id:"nav-database-tables",name:"Tables",value:"Database: Tables",route:`/project/${t}/database/tables`,defaultHidden:!0},{id:"nav-database-triggers",name:"Triggers",value:"Database: Triggers",route:`/project/${t}/database/triggers`,defaultHidden:!0},{id:"nav-database-functions",name:"Functions",value:"Database: Functions",route:`/project/${t}/database/functions`,defaultHidden:!0},{id:"nav-database-extensions",name:"Extensions",value:"Database: Extensions",route:`/project/${t}/database/extensions`,defaultHidden:!0},...r?[{id:"nav-database-roles",name:"Roles",value:"Database: Roles",route:`/project/${t}/database/roles`,defaultHidden:!0}]:[],...a?[{id:"nav-database-replication",name:"Replication",value:"Database: Replication",route:`/project/${t}/database/replication`,defaultHidden:!0}]:[],{id:"nav-database-hooks",name:"Webhooks",value:"Database: Webhooks",route:`/project/${t}/integrations/webhooks`,defaultHidden:!0},{id:"nav-database-backups",name:"Backups",value:"Database: Backups",route:`/project/${t}/database/backups/scheduled`,defaultHidden:!0},...s?[{id:"nav-database-wrappers",name:"Wrappers",value:"Database: Wrappers",route:`/project/${t}/integrations?category=wrappers`,defaultHidden:!0}]:[],{id:"nav-database-migrations",name:"Migrations",value:"Database: Migrations",route:`/project/${t}/database/migrations`,defaultHidden:!0}],{...e,deps:[t]}),f("Database",[{id:"run-schema-visualizer",name:"View your schemas",route:`/project/${t}/database/schemas`,icon:()=>(0,n.jsx)(eg.Search,{})},{id:"run-view-database-functions",name:"View and create functions",route:`/project/${t}/database/functions`,icon:()=>(0,n.jsx)(em.Database,{})},{id:"run-view-database-triggers",name:"View and create triggers",route:`/project/${t}/database/triggers`,icon:()=>(0,n.jsx)(em.Database,{})},{id:"run-view-database-enumerated-types",name:"View and create enumerated types",route:`/project/${t}/database/types`,icon:()=>(0,n.jsx)(em.Database,{})},{id:"run-view-database-extensions",name:"View your extensions",route:`/project/${t}/database/extensions`,icon:()=>(0,n.jsx)(ep.Blocks,{})},{id:"run-view-database-indexes",name:"View and create indexes",route:`/project/${t}/database/indexes`,icon:()=>(0,n.jsx)(em.Database,{})},...r?[{id:"run-view-database-roles",name:"View your roles",route:`/project/${t}/database/roles`,icon:()=>(0,n.jsx)(em.Database,{})}]:[],{id:"run-view-database-backups",name:"View your backups",route:`/project/${t}/database/backups/scheduled`,icon:()=>(0,n.jsx)(em.Database,{})},{id:"run-view-database-migrations",name:"View your migrations",route:`/project/${t}/database/migrations`,icon:()=>(0,n.jsx)(eh.default,{})}],{...e,deps:[t],orderSection:S,sectionMeta:{priority:3}})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_";let{authenticationSignInProviders:a,authenticationThirdPartyAuth:n,authenticationRateLimits:r,authenticationEmails:s,authenticationMultiFactor:o,authenticationAttackProtection:i,authenticationPerformance:c}=(0,eu.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:third_party_auth","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:performance"]);f(x,[{id:"nav-auth-users",name:"Users",value:"Auth: Users",route:`/project/${t}/auth/users`,defaultHidden:!0},{id:"nav-auth-policies",name:"Policies",value:"Auth: Policies (RLS)",route:`/project/${t}/auth/policies`,defaultHidden:!0},...a?[{id:"nav-auth-providers",name:"Providers",value:"Auth: Providers (Social Login, SSO)",route:`/project/${t}/auth/providers`,defaultHidden:!0}]:[],...n?[{id:"nav-auth-providers",name:"Providers (Third Party)",value:"Auth: Providers (Third Party)",route:`/project/${t}/auth/third-party`,defaultHidden:!0}]:[],{id:"nav-auth-sessions",name:"Sessions",value:"Auth: Sessions (User Sessions)",route:`/project/${t}/auth/sessions`,defaultHidden:!0},...r?[{id:"nav-auth-rate-limits",name:"Rate Limits",value:"Auth: Rate Limits",route:`/project/${t}/auth/rate-limits`,defaultHidden:!0}]:[],...s?[{id:"nav-auth-templates",name:"Email Templates",value:"Auth: Email Templates",route:`/project/${t}/auth/templates`,defaultHidden:!0},{id:"nav-auth-smtp",name:"SMTP Settings",value:"Auth: SMTP Settings (Email Configuration)",route:`/project/${t}/auth/smtp`,defaultHidden:!0}]:[],...o?[{id:"nav-auth-mfa",name:"Multi Factor Authentication (MFA)",value:"Auth: Multi Factor Authenticaiton (MFA)",route:`/project/${t}/auth/mfa`,defaultHidden:!0}]:[],{id:"nav-auth-url-configuration",name:"URL Configuration",value:"Auth: URL Configuration (Site URL, Redirect URLs)",route:`/project/${t}/auth/url-configuration`,defaultHidden:!0},...i?[{id:"nav-auth-attack-protection",name:"Attack Protection",value:"Auth: Attack Protection",route:`/project/${t}/auth/protection`,defaultHidden:!0}]:[],{id:"nav-auth-auth-hooks",name:"Auth Hooks",value:"Auth: Auth Hooks",route:`/project/${t}/auth/hooks`,defaultHidden:!0},...c?[{id:"nav-auth-performance-settings",name:"Auth Performance Settings",value:"Auth: Performance Settings",route:`/project/${t}/auth/performance`,defaultHidden:!0}]:[]],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_",f(x,[{id:"nav-advisors-security",name:"Security Advisor",route:`/project/${t}/advisors/security`,defaultHidden:!0},{id:"nav-advisors-performance",name:"Performance Advisor",route:`/project/${t}/advisors/performance`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_",f(x,[{id:"nav-storage",name:"Storage",route:`/project/${t}/storage`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_",f(x,[{id:"nav-functions",name:"Edge Functions",route:`/project/${t}/functions`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_";let{logsCollections:a}=(0,eu.useIsFeatureEnabled)(["logs:collections"]);f(x,[{id:"nav-logs-explorer",name:"Logs Explorer",route:`/project/${t}/logs/explorer`,defaultHidden:!0},...a?[{id:"nav-logs-postgres",name:"Postgres Logs",route:`/project/${t}/logs/postgres-logs`,defaultHidden:!0},{id:"nav-logs-postgrest",name:"PostgREST Logs",route:`/project/${t}/logs/postgrest-logs`,defaultHidden:!0},{id:"nav-logs-pooler",name:"Pooler Logs",route:`/project/${t}/logs/pooler-logs`,defaultHidden:!0},{id:"nav-logs-auth",name:"Auth Logs",route:`/project/${t}/logs/auth-logs`,defaultHidden:!0},{id:"nav-logs-storage",name:"Storage Logs",route:`/project/${t}/logs/storage-logs`,defaultHidden:!0},{id:"nav-logs-realtime",name:"Realtime Logs",route:`/project/${t}/logs/realtime-logs`,defaultHidden:!0}]:[]],{...e,deps:[t]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_";let{reportsAll:a}=(0,eu.useIsFeatureEnabled)(["reports:all"]),n=((0,W.useQuery)()?.toLowerCase()??"").includes("query"),r=(0,p.useMemo)(()=>{if(n)return(e,t)=>[...t,...e.filter(e=>e.id!==eb)]},[n]),s=(0,p.useMemo)(()=>n?ex.orderSectionFirst:e?.orderSection,[e?.orderSection,n]);f(x,a?[{id:"nav-reports",name:"Reports",route:`/project/${t}/reports`,defaultHidden:!0},{id:"nav-reports-api",name:"API Reports",route:`/project/${t}/reports/api-overview`,defaultHidden:!0},{id:"nav-reports-storage",name:"Storage Reports",route:`/project/${t}/reports/storage`,defaultHidden:!0},{id:"nav-reports-database",name:"Database Reports",route:`/project/${t}/reports/database`,defaultHidden:!0}]:[],{...e,orderSection:s,deps:[t,s,...e?.deps??[]]}),f(x,a?[{id:eb,name:"Query Performance Reports",route:`/project/${t}/reports/query-performance`,defaultHidden:!0}]:[],{...e,orderCommands:r??e?.orderCommands,orderSection:s,deps:[t,r,s,...e?.deps??[]]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_",f(x,[{id:"nav-api",name:"Project API Docs",route:`/project/${t}/api`,defaultHidden:!0},{id:"nav-api-auth",name:"Auth Docs",route:`/project/${t}/api?page=auth`,defaultHidden:!0},{id:"nav-api-user-management",name:"User Management Docs",route:`/project/${t}/api?page=users-management`,defaultHidden:!0},{id:"nav-api-graphql",name:"GraphQL Docs",route:`/project/${t}/api/graphiql`,defaultHidden:!0}],{...e,deps:[t]})}({enabled:e}),function(e){let t=(0,ey.useRouter)(),a=(0,V.useSetCommandMenuOpen)(),{ref:n}=(0,A.useParams)();n||="_";let{projectSettingsLogDrains:r,projectSettingsCustomDomains:s,authenticationSignInProviders:o}=(0,eu.useIsFeatureEnabled)(["project_settings:log_drains","project_settings:custom_domains","authentication:sign_in_providers"]);f(x,[{id:"nav-project-settings-general",name:"General Settings",route:`/project/${n}/settings/general`,defaultHidden:!0},{id:"nav-project-settings-database",name:"Database Settings",route:`/project/${n}/database/settings`,defaultHidden:!0},{id:"nav-project-settings-auth",name:"Auth Settings",route:o?`/project/${n}/auth/providers`:`/project/${n}/auth/policies`,defaultHidden:!0},{id:"nav-project-settings-api",name:"API Settings",route:`/project/${n}/settings/api`,defaultHidden:!0},{id:"nav-project-settings-storage",name:"Storage Settings",route:`/project/${n}/storage/settings`,defaultHidden:!0},...s?[{id:"nav-project-settings-custom-domains",name:"Custom Domains",route:`/project/${n}/settings/general#custom-domains`,defaultHidden:!0}]:[],{id:"nav-project-settings-restart-project",name:"Restart project",route:`/project/${n}/settings/general#restart-project`,defaultHidden:!0},{id:"nav-project-settings-pause-project",name:"Pause project",route:`/project/${n}/settings/general#pause-project`,defaultHidden:!0},{id:"nav-project-settings-transfer-project",name:"Transfer project",route:`/project/${n}/settings/general#transfer-project`,defaultHidden:!0},{id:"nav-project-settings-delete-project",name:"Delete project",route:`/project/${n}/settings/general#delete-project`,defaultHidden:!0},{id:"nav-project-settings-database-password",name:"Database password",route:`/project/${n}/database/settings#database-password`,defaultHidden:!0},{id:"nav-project-settings-connection-string",name:"Connection string",action:()=>{t.push({pathname:t.pathname,query:{...t.query,showConnect:"true"}},void 0,{shallow:!0}),a(!1)},defaultHidden:!0},{id:"nav-project-settings-connection-pooling",name:"Connection pooling",route:`/project/${n}/database/settings#connection-pooler`,defaultHidden:!0},{id:"nav-project-settings-ssl-configuration",name:"SSL configuration",route:`/project/${n}/database/settings#ssl-configuration`,defaultHidden:!0},{id:"nav-project-settings-network-restrictions",name:"Network restrictions",route:`/project/${n}/database/settings#network-restrictions`,defaultHidden:!0},{id:"nav-project-settings-banned-ips",name:"Banned IPs",route:`/project/${n}/database/settings#banned-ips`,defaultHidden:!0},...r?[{id:"nav-project-settings-log-drains",name:"Log drains",route:`/project/${n}/settings/log-drains`,defaultHidden:!0}]:[]],{...e,deps:[n]})}({enabled:e}),function(e){let{ref:t}=(0,A.useParams)();t||="_";let{integrationsWrappers:a}=(0,eu.useIsFeatureEnabled)(["integrations:wrappers"]),r=a?ef.INTEGRATIONS:ef.INTEGRATIONS.filter(e=>!e.id.endsWith("_wrapper"));f(x,r.map(e=>({id:`nav-integrations-${e.id}`,name:e.name,value:`Integrations: ${e.name}`,route:`/project/${t}/integrations/${e.id}/overview`,defaultHidden:!0})),{...e,deps:[t]}),f("Integrations",r.map(e=>({id:`manage-${e.id}`,name:(e=>{switch(e.id){case"cron":return"View and manage your Cron Jobs";case"graphiql":return"Query database using GraphQL";case"vault":return"View and manage your keys and secrets via Vault";default:return`View and manage your ${e.name}${"wrapper"===e.type?"s":""}`}})(e),route:`/project/${t}/integrations/${e.id}/overview`,icon:()=>(0,n.jsx)("div",{className:"w-6 h-6 relative bg-white border rounded-md flex items-center justify-center [&>img]:!p-1 [&>svg]:!p-1",children:e.icon()})})),{...e,deps:[t],orderSection:S,sectionMeta:{priority:3}})}({enabled:e}),(({modify:e=tO,options:t}={})=>{let a=(0,g.useSetPage)();(0,g.useRegisterPage)(tD,{type:l.PageType.Component,component:tL}),f("Docs",[{id:"search-docs",name:"Search the docs",action:()=>{a(tD,!0)},icon:()=>(0,n.jsx)(tE.Book,{})}].map(e),t)})({options:{orderSection:S,sectionMeta:{priority:3}}}),(({modify:e=t_,options:t}={})=>{let a=(0,g.useSetPage)();(0,g.useRegisterPage)(tC,{type:l.PageType.Component,component:tj}),f("Docs",[{id:"ai-docs",name:"Ask Supabase AI",action:()=>{a(tC,!0)},icon:()=>(0,n.jsx)(e_.AiIconAnimation,{})}].map(e),t)})({options:{orderSection:S,sectionMeta:{priority:3}}}),f("Support",(0,p.useMemo)(()=>[{id:"system-status",name:"View system status",value:"Support: View system status",route:"https://status.supabase.com",icon:()=>(0,n.jsx)(aG.Activity,{})},{id:"discord-community",name:"Ask Discord community",value:"Support: Ask Discord community",route:"https://discord.supabase.com",icon:()=>(0,n.jsx)(aK.LifeBuoy,{})},{id:"support-team",name:"Contact support",value:"Support: Contact support",route:"https://www.supabase.com/support",icon:()=>(0,n.jsx)(aK.LifeBuoy,{})}],[]),{enabled:r.IS_PLATFORM}),(({enabled:e=!0}={})=>{f("Updates",[{id:"changelog",name:"View changelog",route:eC?"https://supabase.com/changelog":"/changelog",icon:()=>(0,n.jsx)(ek.Inbox,{})}],{enabled:e})})({enabled:r.IS_PLATFORM}),(({options:e}={})=>{let t=(0,V.useSetCommandMenuOpen)(),a=(0,g.useSetPage)(),{setTheme:r}=(0,tV.useTheme)();(0,g.useRegisterPage)(tU,{type:l.PageType.Commands,sections:[{id:"switch-theme",name:"Switch theme",commands:tQ.themes.filter(({name:e})=>"System"===e||"Light"===e||"Dark"===e).map(e=>({id:`switch-theme-${e.value}`,name:e.name,action:()=>{r(e.value),t(!1)},icon:()=>"System"===e.name?(0,n.jsx)(tF.Monitor,{}):"Light"===e.name?(0,n.jsx)(tB,{}):(0,n.jsx)(tz,{})}))}]}),f("Theme",[{id:"switch-theme",name:"Switch theme...",action:()=>a(tU),defaultHidden:!0,icon:()=>(0,n.jsx)(tq,{})}],e)})(),!function(e){let t=(0,aa.useFlag)("enablecreatecommands"),a=(0,V.useSetCommandMenuOpen)(),{ref:s,setPage:o,openSidebar:i,snap:c,authenticationOauth21:d,authEnabled:u,edgeFunctionsEnabled:m,storageEnabled:h,sendSmsHook:x,sendEmailHook:b,customAccessTokenHook:j,mfaVerificationHook:v,mfaVerificationHookEnabled:S,passwordVerificationHook:w,passwordVerificationHookEnabled:k,beforeUserCreatedHook:C,isFreePlan:_,isVectorBucketsEnabled:E,isAnalyticsBucketsEnabled:I,installedIntegrationIds:$,allIntegrations:P,reportsEnabled:R}=function(){let{ref:e}=(0,A.useParams)();e||="_";let t=(0,g.useSetPage)(),{openSidebar:a}=(0,aP.useSidebarManagerSnapshot)(),n=(0,aA.useAiAssistantStateSnapshot)(),r=(0,aa.useFlag)("EnableOAuth21"),{projectAuthAll:s,projectEdgeFunctionAll:o,projectStorageAll:i,reportsAll:c,integrationsWrappers:d}=(0,eu.useIsFeatureEnabled)(["project_auth:all","project_edge_function:all","project_storage:all","reports:all","integrations:wrappers"]),{data:l,isError:u,isPending:m}=(0,aE.useAuthConfigQuery)({projectRef:e}),{getEntitlementSetValues:h}=(0,aI.useCheckEntitlements)("auth.hooks"),f=h(),{nonAvailableHooks:y}=(0,p.useMemo)(()=>({nonAvailableHooks:ak.HOOKS_DEFINITIONS.map(e=>({...e,enabled:l?.[e.enabledKey]||!1,method:(0,aC.extractMethod)(l?.[e.uriKey]||"",l?.[e.secretsKey]||"")})).filter(e=>!(0,aC.isValidHook)(e)&&!f.includes(e.entitlementKey)).map(e=>e.entitlementKey)}),[f,l]),x=!u&&!m,b=ak.HOOKS_DEFINITIONS.find(e=>"send-sms"===e.id),j=ak.HOOKS_DEFINITIONS.find(e=>"send-email"===e.id),v=ak.HOOKS_DEFINITIONS.find(e=>"custom-access-token-claims"===e.id),S=ak.HOOKS_DEFINITIONS.find(e=>"mfa-verification-attempt"===e.id),w=x&&S&&y.includes(S.entitlementKey),k=ak.HOOKS_DEFINITIONS.find(e=>"password-verification-attempt"===e.id),C=x&&k&&y.includes(k.entitlementKey),_=ak.HOOKS_DEFINITIONS.find(e=>"before-user-created"===e.id),{data:E}=(0,a$.useSelectedOrganizationQuery)(),N=E?.plan.id==="free",I=(0,aN.useIsVectorBucketsEnabled)({projectRef:e}),$=(0,aN.useIsAnalyticsBucketsEnabled)({projectRef:e}),{installedIntegrations:P}=(0,a_.useInstalledIntegrations)(),R=(0,p.useMemo)(()=>new Set(P.map(e=>e.id)),[P]),M=(0,p.useMemo)(()=>d?ef.INTEGRATIONS:ef.INTEGRATIONS.filter(e=>!e.id.endsWith("_wrapper")),[d]);return{ref:e,setPage:t,openSidebar:a,snap:n,authenticationOauth21:r,authEnabled:s,edgeFunctionsEnabled:o,storageEnabled:i,sendSmsHook:b,sendEmailHook:j,customAccessTokenHook:v,mfaVerificationHook:S,mfaVerificationHookEnabled:w,passwordVerificationHook:k,passwordVerificationHookEnabled:C,beforeUserCreatedHook:_,isFreePlan:N,isVectorBucketsEnabled:I,isAnalyticsBucketsEnabled:$,installedIntegrationIds:R,integrationsWrappers:d,allIntegrations:M,reportsEnabled:c}}(),M=(0,p.useMemo)(()=>[{id:"create-db-table",name:"Create Table",route:`/project/${s}/editor?create=table`,icon:()=>(0,n.jsx)(N.Table2,{})},{id:"create-db-index",name:"Create Index",route:`/project/${s}/database/indexes?new=true`,icon:()=>(0,n.jsx)(al.default,{})},{id:"create-db-function",name:"Create Database Function",route:`/project/${s}/database/functions?new=true`,icon:()=>(0,n.jsx)(as,{})},{id:"create-db-enum",name:"Create Enumerated Type",route:`/project/${s}/database/types?new=true`,icon:()=>(0,n.jsx)(ai,{})},{id:"create-db-trigger",name:"Create Database Trigger",route:`/project/${s}/database/triggers?new=true`,icon:()=>(0,n.jsx)(af.Zap,{})},{id:"create-db-role",name:"Create Database Role",route:`/project/${s}/database/roles?new=true`,icon:()=>(0,n.jsx)(am,{})}].filter(Boolean),[s]),T=(0,p.useMemo)(()=>u?[{id:"create-auth-user",name:"Create Auth User",route:`/project/${s}/auth/users?new=true`,icon:()=>(0,n.jsx)(ah.UserPlus,{})},{id:"create-rls-policy",name:"Create RLS Policy",route:`/project/${s}/auth/policies?new=true`,icon:()=>(0,n.jsx)(ap,{})},...r.IS_PLATFORM?[{id:"create-auth-hook-sms",name:"Create Auth Hook (SMS)",route:`/project/${s}/auth/hooks?hook=${x?.id}`,icon:()=>(0,n.jsx)(ay.MessageCircle,{})},{id:"create-auth-hook-email",name:"Create Auth Hook (Email)",route:`/project/${s}/auth/hooks?hook=${b?.id}`,icon:()=>(0,n.jsx)(ax.Mail,{})},{id:"create-auth-hook-custom-access-token",name:"Create Auth Hook (Custom Access Token)",route:`/project/${s}/auth/hooks?hook=${j?.id}`,icon:()=>(0,n.jsx)(ao,{})},{id:"create-auth-hook-mfa-verification",name:"Create Auth Hook (MFA Verification Attempt)",route:`/project/${s}/auth/hooks?hook=${v?.id}`,icon:()=>(0,n.jsx)(ap,{}),badge:()=>S?(0,n.jsx)(aM,{children:"Team"}):null,className:S?"opacity-50 cursor-not-allowed pointer-events-none":""},{id:"create-auth-hook-password-verification",name:"Create Auth Hook (Password Verification Attempt)",route:`/project/${s}/auth/hooks?hook=${w?.id}`,icon:()=>(0,n.jsx)(ab.Lock,{}),badge:()=>k?(0,n.jsx)(aM,{children:"Team"}):null,className:k?"opacity-50 cursor-not-allowed pointer-events-none":""},{id:"create-auth-hook-before-user-created",name:"Create Auth Hook (Before User Created)",route:`/project/${s}/auth/hooks?hook=${C?.id}`,icon:()=>(0,n.jsx)(ao,{})}]:[],...r.IS_PLATFORM&&d?[{id:"create-oauth-app",name:"Create OAuth App",route:`/project/${s}/auth/oauth-apps?new=true`,icon:()=>(0,n.jsx)(ao,{})}]:[]].filter(Boolean):[],[s,u,x,b,j,v,S,w,k,C,d]),H=(0,p.useMemo)(()=>m?[{id:"create-edge-function-editor",name:"Create Edge Function via Editor",route:`/project/${s}/functions/new`,icon:()=>(0,n.jsx)(aT,{})},{id:"create-edge-function-cli",name:"Create Edge Function via CLI",route:`/project/${s}/functions?create=cli`,icon:()=>(0,n.jsx)(aT,{})},{id:"create-edge-function-ai",name:"Create Edge Function via AI",action:()=>{i(aw.SIDEBAR_KEYS.AI_ASSISTANT),c.newChat({name:"Create new edge function",initialInput:"Create a new edge function that ...",suggestions:{title:"I can help you create a new edge function. Here are a few example prompts to get you started:",prompts:[{label:"Stripe Payments",description:"Create a new edge function that processes payments with Stripe"},{label:"Email with Resend",description:"Create a new edge function that sends emails with Resend"},{label:"PDF Generator",description:"Create a new edge function that generates PDFs from HTML templates"}]}}),a(!1)},icon:()=>(0,n.jsx)(aR,{allowHoverEffect:!1,size:20,className:"text-foreground-light"})},{id:"create-edge-function-secret",name:"Create Edge Function Secret",route:`/project/${s}/functions/secrets`,icon:()=>(0,n.jsx)(ac,{})}].filter(Boolean):[],[s,m,i,c,a]),L=(0,p.useMemo)(()=>h?[{id:"create-storage-bucket-files",name:"Create Storage Bucket (Files)",route:`/project/${s}/storage/files?new=true`,icon:()=>(0,n.jsx)(aL,{})},{id:"create-storage-bucket-analytics",name:"Create Storage Bucket (Analytics)",route:`/project/${s}/storage/analytics?new=true`,icon:()=>(0,n.jsx)(aH,{}),badge:()=>_?(0,n.jsx)(aM,{children:"Pro"}):null,className:I?"":"opacity-50 cursor-not-allowed pointer-events-none"},{id:"create-storage-bucket-vectors",name:"Create Storage Bucket (Vectors)",route:`/project/${s}/storage/vectors?new=true`,icon:()=>(0,n.jsx)(aD,{}),badge:()=>_?(0,n.jsx)(aM,{children:"Pro"}):null,className:E?"":"opacity-50 cursor-not-allowed pointer-events-none"}].filter(Boolean):[],[s,h,_,I,E]),D=(0,p.useMemo)(()=>[...P].sort((e,t)=>("wrapper"===e.type)-("wrapper"===t.type)).map(e=>{let t=function(e,t,a){if("wrapper"===e.type)return`/project/${t}/integrations/${e.id}/overview?new=true`;if(!a.has(e.id))return null;switch(e.id){case"vault":return`/project/${t}/integrations/vault/secrets?new=true`;case"cron":return`/project/${t}/integrations/cron/jobs?new=true`;case"webhooks":return`/project/${t}/integrations/webhooks/webhooks?new=true`;case"queues":return`/project/${t}/integrations/queues/queues?new=true`;default:{let a=e.navigation?.find(e=>"overview"!==e.route);if(a)return`/project/${t}/integrations/${e.id}/${a.route}?new=true`;return null}}}(e,s,$);if(!t)return null;let a="wrapper"===e.type;return{id:`create-integration-${e.id}`,name:function(e){if("wrapper"===e.type){let t=e.name.replace(" Wrapper","");return`Add ${t} wrapper`}switch(e.id){case"vault":return"Create Vault Secret";case"cron":return"Create Cron Job";case"webhooks":return"Create Webhook";case"queues":return"Create Queue";default:return`Create ${e.name}`}}(e),route:t,icon:()=>{if(a)return(0,n.jsx)("div",{className:"w-6 h-6 relative bg-white border rounded-md flex items-center justify-center [&>img]:!p-1 [&>svg]:!p-1",children:e.icon()});switch(e.id){case"vault":return(0,n.jsx)(au.Vault,{});case"cron":return(0,n.jsx)(av.Clock5,{});case"webhooks":return(0,n.jsx)(ag.Webhook,{});case"queues":return(0,n.jsx)(aS.Layers,{});case"graphiql":return(0,n.jsx)(aO,{});default:return e.icon()}}}}).filter(Boolean),[s,P,$]),O=(0,p.useMemo)(()=>[...r.IS_PLATFORM&&R?[{id:"create-observability-report",name:"Create Custom Report",route:`/project/${s}/observability/api-overview?newReport=true`,icon:()=>(0,n.jsx)(aj.Telescope,{})}].filter(Boolean):[]],[s,R]),F=(0,p.useMemo)(()=>[{id:"create-database",name:"Database",commands:M},...T.length>0?[{id:"create-auth",name:"Auth",commands:T}]:[],...H.length>0?[{id:"create-edge-functions",name:"Edge Functions",commands:H}]:[],...L.length>0?[{id:"create-storage",name:"Storage",commands:L}]:[],...O.length>0?[{id:"create-observability",name:"Observability",commands:O}]:[],...D.length>0?[{id:"create-integrations",name:"Integrations",commands:D}]:[]],[M,T,H,L,D,O]);(0,g.useRegisterPage)(aF,{type:l.PageType.Commands,sections:F},{deps:[F],enabled:t}),f(y,[{id:"create-studio-entity",name:"Create...",action:()=>o(aF),icon:()=>(0,n.jsx)(ad.Plus,{})}],{...void 0,orderSection:e=>e,sectionMeta:{priority:3},enabled:t})}(),!function(){let e=(0,aa.useFlag)("enableSearchEntitiesCommandMenu"),{data:t}=(0,d.useSelectedProjectQuery)(),a=(0,g.useSetPage)(),{projectAuthAll:s,projectEdgeFunctionAll:o,projectStorageAll:i}=(0,eu.useIsFeatureEnabled)(["project_auth:all","project_edge_function:all","project_storage:all"]);for(let{title:e,context:t}of[{title:"Search Database Tables",context:"database-tables"},{title:"Search RLS Policies",context:"auth-policies"},{title:"Search Edge Functions",context:"edge-functions"},{title:"Search Storage",context:"storage"}]){let a=an.find(e=>e.value===t)?.placeholder??"";(0,g.useRegisterPage)(e,{type:l.PageType.Component,component:()=>(0,n.jsx)(ar,{context:t,placeholder:a})})}f(b,(0,p.useMemo)(()=>an.filter(e=>{let a=!1;switch(e.value){case"database-tables":a=!0;break;case"auth-policies":a=s;break;case"edge-functions":a=o;break;case"storage":a=i}return!!a&&(!r.IS_PLATFORM||!!t)}).map(e=>({id:`search-${e.value}`,name:`Search ${e.label}...`,action:()=>a(e.pageName),icon:()=>(0,n.jsx)(e.icon,{className:"h-4 w-4",strokeWidth:1.5})})),[a,s,o,i,t]),{orderSection:S,sectionMeta:{priority:3},enabled:!r.IS_PLATFORM||e&&!!t})}(),(0,n.jsxs)(B.CommandMenu,{children:[(0,n.jsx)(Q,{children:(0,n.jsx)(X,{})}),(0,n.jsx)(ew,{})]})}e.s(["default",()=>aZ],236823)},15922,e=>{e.n(e.i(236823))}]);

//# debugId=238adcd8-c58f-a636-df5b-6091b481b4cc
//# sourceMappingURL=514d5a7a3086a61a.js.map