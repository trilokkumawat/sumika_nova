;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="7d690396-7f66-7332-37da-3b99616a2a84")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var t=e.i(478902),s=e.i(710483);let a=({resourceText:e,isFullPage:a=!1})=>{let n=()=>(0,t.jsx)(s.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return a?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-lg",children:(0,t.jsx)(n,{})})}):(0,t.jsx)(n,{})};e.s(["NoPermission",0,a,"default",0,a])},547723,e=>{"use strict";var t=e.i(478902),s=e.i(389959),a=e.i(843778);let n=(0,s.forwardRef)((e,s)=>(0,t.jsx)("nav",{ref:s,dir:"ltr",...e,className:(0,a.cn)("border-b",e.className),children:(0,t.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),r=(0,s.forwardRef)(({children:e,className:s,active:n,...r},i)=>(0,t.jsx)("li",{ref:i,"aria-selected":n?"true":"false","data-state":n?"active":"inactive",className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",s),...r,children:e}));e.s(["NavMenu",0,n,"NavMenuItem",0,r])},3259,100387,e=>{"use strict";var t=e.i(478902),s=e.i(153545),a=e.i(933505);e.s(["ChevronRightIcon",()=>a.default],100387);var a=a,n=e.i(389959),r=e.i(843778);let i=n.forwardRef(({...e},s)=>(0,t.jsx)("nav",{ref:s,"aria-label":"breadcrumb",...e}));i.displayName="Breadcrumb";let l=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)("ol",{ref:a,className:(0,r.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...s}));l.displayName="BreadcrumbList";let c=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)("li",{ref:a,className:(0,r.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...s}));c.displayName="BreadcrumbItem";let o=n.forwardRef(({asChild:e,className:a,...n},i)=>{let l=e?s.Slot:"a";return(0,t.jsx)(l,{ref:i,className:(0,r.cn)("transition-colors underline lg:no-underline hover:text-foreground",a),...n})});o.displayName="BreadcrumbLink";let d=n.forwardRef(({className:e,...s},a)=>(0,t.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,r.cn)("no-underline text-foreground",e),...s}));d.displayName="BreadcrumbPage";let u=({children:e,className:s,...n})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,r.cn)("[&>svg]:size-3.5 text-foreground-muted",s),...n,children:e??(0,t.jsx)(a.default,{})});u.displayName="BreadcrumbSeparator";let m=({className:e,...s})=>(0,t.jsxs)("span",{className:(0,r.cn)("flex h-4 w-4 items-center justify-center",e),...s,children:[(0,t.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"sr-only",children:"More"})]});m.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>i,"BreadcrumbEllipsis",()=>m,"BreadcrumbItem",()=>c,"BreadcrumbLink",()=>o,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},744061,418638,e=>{"use strict";var t=e.i(478902),s=e.i(938933),a=e.i(843778);function n({children:e,className:s,tag:a="div",style:n}){let r=`${a}`;return(0,t.jsx)(r,{style:n,children:e})}n.Title=function({className:e,level:s=1,children:a,style:n}){let r=`h${s}`;return(0,t.jsx)(r,{style:n,children:a})},n.Text=function({className:e,children:s,style:a,type:n,disabled:r,mark:i,code:l,keyboard:c,underline:o,strikethrough:d,strong:u,small:m}){return l?(0,t.jsx)("code",{style:a,children:s}):i?(0,t.jsx)("mark",{style:a,children:s}):c?(0,t.jsx)("kbd",{style:a,children:s}):u?(0,t.jsx)("strong",{style:a,children:s}):(0,t.jsx)("span",{style:a,children:s})},n.Link=function({children:e,target:s="_blank",href:a,className:n,onClick:r,style:i}){return(0,t.jsx)("a",{onClick:r,href:a,target:s,rel:"noopener noreferrer",style:i,children:e})},e.s(["default",0,n],418638);var r=e.i(389959);let i=(0,r.createContext)({type:"text"}),l=e=>{let{type:s}=e;return(0,t.jsx)(i.Provider,{value:{type:s},children:e.children})},c=()=>{let e=(0,r.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function o({children:e,className:s,ulClassName:a,style:n,type:r="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:s,style:n,children:(0,t.jsx)(l,{type:r,children:(0,t.jsx)("ul",{className:a,children:e})})})}o.Item=function({children:e,icon:n,active:r,rounded:i,onClick:l,doNotCloseOverlay:o=!1,showActiveBar:d=!1,style:u}){let m=(0,s.default)("menu"),{type:h}=c(),f=[m.item.base];f.push(m.item.variants[h].base),r?f.push(m.item.variants[h].active):f.push(m.item.variants[h].normal);let x=[m.item.content.base];r?x.push(m.item.content.active):x.push(m.item.content.normal);let p=[m.item.icon.base];return r?p.push(m.item.icon.active):p.push(m.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,a.cn)("outline-none",f),style:u,onClick:l,"aria-current":r?"page":void 0,children:[n&&(0,t.jsx)("div",{className:`${p.join(" ")} min-w-fit`,children:n}),(0,t.jsx)("span",{className:x.join(" "),children:e})]})},o.Group=function({children:e,icon:a,title:n}){let r=(0,s.default)("menu"),{type:i}=c();return(0,t.jsxs)("div",{className:[r.group.base,r.group.variants[i]].join(" "),children:[a&&(0,t.jsx)("span",{className:r.group.icon,children:a}),(0,t.jsx)("span",{className:r.group.content,children:n}),e]})},o.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(n.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["default",0,o],744061)},862326,e=>{"use strict";var t=e.i(744061);e.s(["Menu",()=>t.default])},388147,799793,e=>{"use strict";var t=e.i(478902),s=e.i(587433),a=e.i(862326),n=e.i(210419),r=e.i(837710);let i=({item:e,isActive:i,target:l="_self",hoverText:c="",onClick:o})=>{let{name:d="",url:u="",icon:m,rightIcon:h,isExternal:f,label:x,disabled:p}=e,g=(0,t.jsx)(a.Menu.Item,{icon:m,active:i,onClick:o,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:c||("string"==typeof d?d:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:d}),void 0!==x&&(0,t.jsx)(s.Badge,{className:"flex-shrink-0",variant:"new"===x.toLowerCase()?"success":"warning",children:x})]}),h&&(0,t.jsx)("div",{children:h})]})});return p?(0,t.jsx)("div",{className:"opacity-50 pointer-events-none",children:g}):u?f?(0,t.jsx)(r.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:m,children:(0,t.jsx)(n.default,{href:u,target:"_blank",rel:"noreferrer",children:d})}):(0,t.jsx)(n.default,{href:u,className:"block",target:l,children:g}):g};e.s(["ProductMenuItem",0,i],799793),e.s(["ProductMenu",0,({page:e,menu:n})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(a.Menu,{type:"pills",children:n.map((r,l)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(a.Menu.Group,{title:r.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:r.title}),r.isPreview&&(0,t.jsx)(s.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:r.items.map(s=>{let a=s.pages?s.pages.includes(e??""):e===s.key;return(0,t.jsx)(i,{item:s,isActive:a,target:s.isExternal?"_blank":"_self"},s.key)})})]})}),l!==n.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},r.key||r.title))})})],388147)},127739,e=>{"use strict";var t=e.i(478902),s=e.i(709520),a=e.i(389959),n=e.i(843778);let r=(0,s.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),i=(0,a.forwardRef)(({className:e,size:s,...a},i)=>(0,t.jsx)("div",{ref:i,...a,className:(0,n.cn)(r({size:s}),e)}));i.displayName="PageContainer",e.s(["PageContainer",0,i])},456050,e=>{"use strict";var t=e.i(478902),s=e.i(709520),a=e.i(389959),n=e.i(843778),r=e.i(3259),i=e.i(127739);let l=(0,s.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),c=(0,a.createContext)({size:"default"}),o=()=>(0,a.useContext)(c),d=({className:e,size:s,children:a,...r})=>{let i=s??"default";return(0,t.jsx)(c.Provider,{value:{size:i},children:(0,t.jsx)("div",{"data-slot":"page-header","data-size":i,className:(0,n.cn)(l({size:i}),e),...r,children:a})})},u=({className:e,children:s,...a})=>{let{size:l}=o();return(0,t.jsx)(i.PageContainer,{size:l,children:(0,t.jsx)(r.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,n.cn)("flex items-center gap-4 [&_li]:text-xs",e),...a,children:s})})};u.displayName="PageHeaderBreadcrumb";let m=({className:e,...s})=>(0,t.jsx)("div",{"data-slot":"page-header-icon",className:(0,n.cn)("text-foreground-light",e),...s});m.displayName="PageHeaderIcon";let h=({className:e,children:s,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-summary",className:(0,n.cn)("flex flex-col gap-1",e),...a,children:s});h.displayName="PageHeaderSummary";let f=({className:e,children:s,...a})=>(0,t.jsx)("h1",{"data-slot":"page-header-title",className:(0,n.cn)("heading-title",e),...a,children:s}),x=({className:e,children:s,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-description",className:(0,n.cn)("heading-subSection text-foreground-light",e),...a,children:s}),p=({className:e,children:s,...a})=>{let{size:r}=o();return(0,t.jsx)(i.PageContainer,{size:r,children:(0,t.jsx)("div",{"data-slot":"page-header-meta",className:(0,n.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...a,children:s})})};p.displayName="PageHeaderMeta";let g=({className:e,...s})=>(0,t.jsx)("div",{"data-slot":"page-header-actions",className:(0,n.cn)("flex items-center gap-2 shrink-0",e),...s});g.displayName="PageHeaderAside";let j=({className:e,...s})=>{let{size:a}=o();return(0,t.jsx)(i.PageContainer,{size:a,className:(0,n.cn)("full"===a&&"border-b"),children:(0,t.jsx)("div",{"data-slot":"page-header-footer",className:(0,n.cn)("w-full [&>nav]:border-b-0","full"!==a&&"border-b",e),...s})})};j.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>d,"PageHeaderAside",()=>g,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>x,"PageHeaderIcon",()=>m,"PageHeaderMeta",()=>p,"PageHeaderNavigationTabs",()=>j,"PageHeaderSummary",()=>h,"PageHeaderTitle",()=>f])},743052,e=>{"use strict";var t=e.i(478902),s=e.i(370410),a=e.i(816467),n=e.i(389959),r=e.i(843778),i=e.i(375761);let l=(0,n.forwardRef)(({commands:e,className:s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("space-y-4",s),children:e.map((e,s)=>(0,t.jsx)(c,{item:e},`command-${s}`))}));l.displayName="CommandRender";let c=({item:e})=>{let[r,l]=(0,n.useState)(!1);return(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("span",{className:"font-mono text-sm text-foreground-lighter",children:`> ${e.comment}`}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"flex gap-2 font-mono text-sm font-normal text-foreground",children:[(0,t.jsx)("span",{className:"text-foreground-lighter",children:"$"}),(0,t.jsxs)("span",{children:[(0,t.jsxs)("span",{children:[e.jsx?e.jsx():null," "]}),(0,t.jsx)("button",{type:"button",className:"text-foreground-lighter hover:text-foreground",onClick:()=>{var t;t=e.command,l(!0),(0,i.copyToClipboard)(t),setTimeout(()=>l(!1),3e3)},children:r?(0,t.jsx)(s.Check,{size:14,strokeWidth:3,className:"text-brand"}):(0,t.jsx)(a.Copy,{size:14})})]})]})})]})};e.s(["default",0,l])},863562,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function s(e,t={}){let{maxDepth:a=3,redaction:n="[REDACTED]",truncationNotice:r="[REDACTED: max depth reached]",sensitiveKeys:i=[]}=t,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...i].map(e=>e.toLowerCase())),c=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],o=new WeakMap;function d(e){let t=e;for(let{re:e}of c)t=t.replace(e,n);return t}function u(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(t,s){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return d(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(s>=a)return r;if("object"==typeof t){if(o.has(t))return"[Circular]";if(Array.isArray(t)){let a=[];o.set(t,a);for(let n=0;n<t.length;n++)a[n]=e(t[n],s+1);return a}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let a={};for(let[r,i]of(o.set(t,a),Object.entries(t)))u(r)?a[r]=n:a[r]=e(i,s+1);return a}if(t instanceof Map){let a=[];for(let[r,i]of(o.set(t,a),t.entries())){let t=u(r)?n:e(r,s+1),l=u(r)?n:e(i,s+1);a.push([t,l])}return a}if(t instanceof Set){let a=[];for(let n of(o.set(t,a),t.values()))a.push(e(n,s+1));return a}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:d(t.message),stack:r};return o.set(t,e),e}try{return d(String(t))}catch{return d(Object.prototype.toString.call(t))}}return d(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>s,"sanitizeUrlHashParams",()=>t])},642670,e=>{"use strict";var t=e.i(478902),s=e.i(532728),a=e.i(902858);e.i(128328);var n=e.i(86086),r=e.i(158639),i=e.i(55956),l=e.i(17203),c=e.i(210419),o=e.i(271226),d=e.i(389959),u=e.i(408891),m=e.i(355901),h=e.i(206413),f=e.i(592360),x=e.i(178527),p=e.i(837710),g=e.i(627069),j=e.i(672044),y=e.i(877555),b=e.i(24315),v=e.i(61863),N=e.i(428353),_=e.i(290811),w=e.i(500850),P=e.i(283606),k=e.i(314805),S=e.i(408279),C=e.i(843778),A=e.i(375761),T=e.i(108151),M=e.i(746301),E=e.i(466472),F=e.i(127739),R=e.i(228027),B=e.i(538482),L=e.i(417403),I=e.i(743052),z=e.i(634530),D=e.i(567558),O=e.i(108892),$=e.i(377451),U=e.i(71005),H=e.i(445547),K=e.i(38429),Y=e.i(356003),V=e.i(234745),q=e.i(68205);async function Z({projectRef:e,slug:t}){if(!e)throw Error("projectRef is required");let{data:s,error:a}=await (0,V.del)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:e,function_slug:t}}});return a&&(0,V.handleError)(a),s}async function Q({projectRef:e,slug:t,payload:s}){if(!e)throw Error("projectRef is required");let{data:a,error:n}=await (0,V.patch)("/v1/projects/{ref}/functions/{function_slug}",{params:{path:{ref:e,function_slug:t}},body:s});return n&&(0,V.handleError)(n),a}var W=e.i(2579),G=e.i(912793),X=e.i(10429);let J=L.default.object({name:L.default.string().min(0,"Name is required"),verify_jwt:L.default.boolean()}),ee=()=>{let e=(0,o.useRouter)(),{ref:L,functionSlug:V}=(0,r.useParams)(),ee=(0,G.useIsFeatureEnabled)("edge_functions:show_all_edge_function_invocation_examples"),et=(0,d.useMemo)(()=>ee?z.INVOCATION_TABS:z.INVOCATION_TABS.filter(e=>"curl"===e.id||"supabase-js"===e.id),[ee]),[es,ea]=(0,d.useState)(!1),[en,er]=(0,d.useState)(et[0].id),[ei,el]=(0,d.useState)(!1),{can:ec}=(0,W.useAsyncCheckPermissions)(a.PermissionAction.FUNCTIONS_WRITE,"*"),eo=n.IS_PLATFORM&&ec,{can:ed}=(0,W.useAsyncCheckPermissions)(a.PermissionAction.SECRETS_READ,"*"),{data:eu}=(0,O.useAPIKeysQuery)({projectRef:L},{enabled:ed}),{data:em}=(0,$.useProjectSettingsV2Query)({projectRef:L}),{data:eh}=(0,U.useCustomDomainsQuery)({projectRef:L}),{data:ef,error:ex,isPending:ep,isError:eg,isSuccess:ej}=(0,H.useEdgeFunctionQuery)({projectRef:L,slug:V}),{mutate:ey,isPending:eb}=(({onSuccess:e,onError:t,...s}={})=>{let a=(0,Y.useQueryClient)();return(0,K.useMutation)({mutationFn:e=>Q(e),async onSuccess(t,s,n){let{projectRef:r,slug:i}=s;await Promise.all([a.invalidateQueries({queryKey:q.edgeFunctionsKeys.detail(r,i)}),a.invalidateQueries({queryKey:q.edgeFunctionsKeys.list(r)})]),await e?.(t,s,n)},async onError(e,s,a){void 0===t?m.toast.error(`Failed to update edge function: ${e.message}`):t(e,s,a)},...s})})(),{mutate:ev,isPending:eN}=(({onSuccess:e,onError:t,...s}={})=>{let a=(0,Y.useQueryClient)();return(0,K.useMutation)({mutationFn:e=>Z(e),async onSuccess(t,s,n){let{projectRef:r}=s;await a.invalidateQueries({queryKey:q.edgeFunctionsKeys.list(r),refetchType:"all"}),await e?.(t,s,n)},async onError(e,s,a){void 0===t?m.toast.error(`Failed to delete edge function: ${e.message}`):t(e,s,a)},...s})})({onSuccess:()=>{m.toast.success(`Successfully deleted "${ef?.name}"`),e.push(`/project/${L}/functions`)}}),e_=(0,u.useForm)({resolver:(0,s.zodResolver)(J),defaultValues:{name:"",verify_jwt:!1}}),{anonKey:ew,publishableKey:eP}=(0,O.getKeys)(eu),ek=eP?.api_key??ew?.api_key??"[YOUR ANON KEY]",eS=em?.app_config?.protocol??"https",eC=em?.app_config?.endpoint??"",eA=eh?.customDomain?.status==="active"?`https://${eh.customDomain.hostname}/functions/v1/${ef?.slug}`:`${eS}://${eC}/functions/v1/${ef?.slug}`,eT=(0,d.useMemo)(()=>ef?.import_map||ef?.import_map_path,[ef]),{managementCommands:eM}=(({selectedFunction:e,functionUrl:s,anonKey:a})=>({managementCommands:[{command:`supabase functions deploy ${e?.slug}`,description:"This will overwrite the deployed function with your new function",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions deploy"," ",e?.slug]}),comment:"Deploy a new version"},{command:`supabase functions delete ${e?.slug}`,description:"This will remove the function and all the logs associated with it",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions delete"," ",e?.slug]}),comment:"Delete the function"}],secretCommands:[{command:"supabase secrets list",description:"This will list all the secrets for your project",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets list"]}),comment:"View all secrets"},{command:"supabase secrets set NAME1=VALUE1 NAME2=VALUE2",description:"This will set secrets for your project",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets set NAME1=VALUE1 NAME2=VALUE2"]}),comment:"Set secrets for your project"},{command:"supabase secrets unset NAME1 NAME2 ",description:"This will delete secrets for your project",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," secrets unset NAME1 NAME2"]}),comment:"Unset secrets for your project"}],invokeCommands:[{command:`curl -L -X POST '${s}' -H 'Authorization: Bearer ${a??"[YOUR ANON KEY]"}' --data '{"name":"Functions"}'`,description:"Invokes the hello function",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"curl"})," -L -X POST '",s,"'"," ",e?.verify_jwt?`-H
            'Authorization: Bearer [YOUR ANON KEY]' `:"",'--data \'{"name":"Functions"}\'']}),comment:"Invoke your function"}]}))({selectedFunction:ef,functionUrl:eA,anonKey:ek}),eE=async e=>L?void 0===ef?console.error("No edge function selected"):void ey({projectRef:L,slug:ef.slug,payload:e},{onSuccess:()=>{m.toast.success("Successfully updated edge function")}}):console.error("Project ref is required"),eF=async()=>L?void 0===ef?console.error("No edge function selected"):void ev({projectRef:L,slug:ef.slug}):console.error("Project ref is required");return(0,d.useEffect)(()=>{ef&&e_.reset({name:ef.name,verify_jwt:ef.verify_jwt})},[ef]),(0,t.jsx)(F.PageContainer,{size:"full",children:(0,t.jsxs)(R.PageSection,{orientation:"horizontal",children:[(0,t.jsxs)(R.PageSectionSummary,{className:"gap-6 !self-start",children:[(0,t.jsx)(R.PageSectionTitle,{children:"Details"}),ep&&(0,t.jsx)(T.GenericSkeletonLoader,{}),eg&&(0,t.jsx)(D.default,{error:ex,subject:"Failed to retrieve edge function details",layout:"vertical"}),ej&&(0,t.jsxs)("dl",{className:"grid grid-cols-1 @xl:grid-cols-[auto_1fr] gap-y-2 [&>dd]:mb-3 @xl:[&>dd]:mb-0 @xl:gap-y-4 gap-x-10",children:[(0,t.jsx)("dt",{className:"text-sm text-foreground-light",children:"Slug"}),(0,t.jsx)("dd",{className:"text-sm @lg:text-left",children:ef?.slug}),(0,t.jsx)("dt",{className:"text-sm text-foreground-light",children:"Endpoint URL"}),(0,t.jsx)("dd",{className:"text-sm @lg:text-left",children:(0,t.jsx)(M.Input,{copy:!0,readOnly:!0,size:"small",className:"font-mono input-mono",value:eA})}),n.IS_PLATFORM&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("dt",{className:"text-sm text-foreground-light",children:"Region"}),(0,t.jsx)("dd",{className:"text-sm @lg:text-left",children:"All functions are deployed globally"})]}),(0,t.jsx)("dt",{className:"text-sm text-foreground-light",children:"Created at"}),(0,t.jsx)("dd",{className:"text-sm @lg:text-left",children:(0,i.default)(ef?.created_at??0).format("dddd, MMMM D, YYYY h:mm A")}),(0,t.jsx)("dt",{className:"text-sm text-foreground-light",children:"Last updated at"}),(0,t.jsx)("dd",{className:"text-sm @lg:text-left",children:(0,i.default)(ef?.updated_at??0).format("dddd, MMMM D, YYYY h:mm A")}),(0,t.jsx)("dt",{className:"text-sm text-foreground-light",children:"Deployments"}),(0,t.jsx)("dd",{className:"text-sm @lg:text-left",children:ef?.version??0}),(0,t.jsx)("dt",{className:"text-sm text-foreground-light",children:"Import Maps"}),(0,t.jsxs)("dd",{className:"text-sm @lg:text-left",children:[(0,t.jsxs)("p",{children:["Import maps are"," ",(0,t.jsx)("span",{className:(0,C.cn)(eT?"text-brand":"text-amber-900"),children:eT?"used":"not used"})," ","for this function"]}),(0,t.jsx)("p",{className:"text-foreground-light mt-1",children:"Import maps allow the use of bare specifiers in functions instead of explicit import URLs"}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(p.Button,{asChild:!0,type:"default",size:"tiny",icon:(0,t.jsx)(l.ExternalLink,{strokeWidth:1.5}),children:(0,t.jsx)(c.default,{href:`${X.DOCS_URL}/guides/functions/dependencies`,target:"_blank",rel:"noreferrer",children:"More about import maps"})})})]})]})]}),(0,t.jsxs)(R.PageSectionContent,{children:[(0,t.jsxs)(R.PageSection,{className:"pt-0",children:[(0,t.jsx)(R.PageSectionMeta,{children:(0,t.jsx)(R.PageSectionSummary,{children:(0,t.jsx)(R.PageSectionTitle,{children:"Function configuration"})})}),(0,t.jsx)(R.PageSectionContent,{children:(0,t.jsx)(N.Form_Shadcn_,{...e_,children:(0,t.jsx)("form",{onSubmit:e_.handleSubmit(eE),children:(0,t.jsxs)(g.Card,{children:[(0,t.jsx)(g.CardContent,{children:(0,t.jsx)(v.FormField_Shadcn_,{control:e_.control,name:"name",render:({field:e})=>(0,t.jsx)(B.FormItemLayout,{label:"Name",layout:"flex-row-reverse",description:"Your slug and endpoint URL will remain the same",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(M.Input,{...e,className:"w-64",disabled:!eo})})})})}),n.IS_PLATFORM&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.CardContent,{children:(0,t.jsx)(v.FormField_Shadcn_,{control:e_.control,name:"verify_jwt",render:({field:e})=>(0,t.jsx)(B.FormItemLayout,{label:"Verify JWT with legacy secret",layout:"flex-row-reverse",description:(0,t.jsxs)(t.Fragment,{children:["Requires that a JWT signed"," ",(0,t.jsx)("em",{className:"text-brand not-italic",children:"only by the legacy JWT secret"})," ","is present in the ",(0,t.jsx)("code",{children:"Authorization"})," header. The easy to obtain ",(0,t.jsx)("code",{children:"anon"})," key can be used to satisfy this requirement. Recommendation: OFF with JWT and additional authorization logic implemented inside your function's code."]}),children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(_.Switch,{checked:e.value,onCheckedChange:e.onChange,disabled:!eo})})})})}),(0,t.jsxs)(g.CardFooter,{className:"flex justify-end space-x-2",children:[e_.formState.isDirty&&(0,t.jsx)(p.Button,{type:"default",onClick:()=>e_.reset(),children:"Cancel"}),(0,t.jsx)(p.Button,{type:"primary",htmlType:"submit",loading:eb,disabled:!eo||!e_.formState.isDirty,children:"Save changes"})]})]})]})})})})]}),(0,t.jsxs)(R.PageSection,{children:[(0,t.jsx)(R.PageSectionMeta,{children:(0,t.jsx)(R.PageSectionSummary,{children:(0,t.jsx)(R.PageSectionTitle,{children:"Invoke function"})})}),(0,t.jsx)(R.PageSectionContent,{children:(0,t.jsx)(g.Card,{children:(0,t.jsx)(g.CardContent,{className:"px-0",children:(0,t.jsxs)(w.Tabs_Shadcn_,{className:"w-full",defaultValue:"curl",value:en,onValueChange:er,children:[(0,t.jsxs)(k.TabsList_Shadcn_,{className:"flex flex-wrap gap-4 px-6",children:[et.map(e=>(0,t.jsx)(S.TabsTrigger_Shadcn_,{value:e.id,children:e.label},e.id)),"curl"===en&&(0,t.jsxs)(p.Button,{type:"default",className:"ml-auto -translate-y-2 translate-x-3",onClick:()=>ea(!es),children:[es?"Hide":"Show"," anon key"]})]}),et.map(e=>{let s=e.code({showKey:es,functionUrl:eA,functionName:ef?.name??"",apiKey:ek});return(0,t.jsx)(P.TabsContent_Shadcn_,{value:e.id,className:"mt-4 px-6",children:(0,t.jsx)(j.CodeBlock,{value:s,className:(0,C.cn)("p-0 text-xs !mt-0 border-none [&>code]:!whitespace-pre-wrap",es?"[&>code]:break-all":"[&>code]:break-words"),language:e.language,wrapLines:!0,hideLineNumbers:e.hideLineNumbers,handleCopy:()=>{(0,A.copyToClipboard)(e.code({showKey:!0,functionUrl:eA,functionName:ef?.name??"",apiKey:ek}))}})},e.id)})]})})})})]}),n.IS_PLATFORM&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(R.PageSection,{children:[(0,t.jsx)(R.PageSectionMeta,{children:(0,t.jsx)(R.PageSectionSummary,{children:(0,t.jsx)(R.PageSectionTitle,{children:"Develop locally"})})}),(0,t.jsx)(R.PageSectionContent,{children:(0,t.jsx)("div",{className:"rounded border bg-surface-100 px-6 py-4 drop-shadow-sm",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(I.default,{commands:[{command:`supabase functions download ${ef?.slug}`,description:"Download the function to your local machine",jsx:()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"text-brand-600",children:"supabase"})," functions download"," ",ef?.slug]}),comment:"1. Download the function"}]}),(0,t.jsx)(I.default,{commands:[eM[0]]}),(0,t.jsx)(I.default,{commands:[eM[1]]})]})})})]}),(0,t.jsxs)(R.PageSection,{children:[(0,t.jsx)(R.PageSectionMeta,{children:(0,t.jsx)(R.PageSectionSummary,{children:(0,t.jsx)(R.PageSectionTitle,{children:"Delete function"})})}),(0,t.jsx)(R.PageSectionContent,{children:(0,t.jsxs)(x.Alert_Shadcn_,{variant:"destructive",children:[(0,t.jsx)(y.CriticalIcon,{}),(0,t.jsx)(f.AlertTitle_Shadcn_,{children:"Once your function is deleted, it can no longer be restored"}),(0,t.jsx)(h.AlertDescription_Shadcn_,{children:"Make sure you have made a backup if you want to restore your edge function"}),(0,t.jsx)(h.AlertDescription_Shadcn_,{className:"mt-3",children:(0,t.jsx)(p.Button,{type:"danger",disabled:!eo,loading:ef?.id===void 0,onClick:()=>el(!0),children:"Delete edge function"})})]})})]}),(0,t.jsx)(E.default,{visible:ei,loading:eN,variant:"destructive",confirmLabel:"Delete",confirmLabelLoading:"Deleting",title:`Confirm to delete ${ef?.name}`,onCancel:()=>el(!1),onConfirm:eF,alert:{base:{variant:"destructive"},title:"This action cannot be undone",description:"Ensure that you have made a backup if you want to restore your edge function"}})]})]})]})})};var et=e.i(448710),es=e.i(780990);let ea=()=>(0,t.jsx)(ee,{});ea.getLayout=e=>(0,t.jsx)(et.default,{children:(0,t.jsx)(es.default,{children:e})}),e.s(["default",0,ea],642670)},662857,(e,t,s)=>{let a="/project/[ref]/functions/[functionSlug]/details";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(642670)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},774186,e=>{e.v(t=>Promise.all(["static/chunks/117b4e5883cfc423.js"].map(t=>e.l(t))).then(()=>t(376359)))},981889,e=>{e.v(t=>Promise.all(["static/chunks/e44cabdf5aea9bff.js"].map(t=>e.l(t))).then(()=>t(242525)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/0860ba34f07162db.js","static/chunks/82dddbda1a808189.js","static/chunks/15e50b9d6c55f00a.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},753940,e=>{e.v(t=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(t=>e.l(t))).then(()=>t(478124)))},724565,e=>{e.v(t=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(t=>e.l(t))).then(()=>t(341546)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/031b0d6330b6fbae.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},926327,e=>{e.v(t=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(t=>e.l(t))).then(()=>t(72947)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},396476,e=>{e.v(t=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(t=>e.l(t))).then(()=>t(62943)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))}]);

//# debugId=7d690396-7f66-7332-37da-3b99616a2a84
//# sourceMappingURL=d84aed094d4d07b1.js.map