;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b2159eb1-59a2-c4d8-3de3-ccf36d0e114b")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,744061,418638,e=>{"use strict";var t=e.i(478902),i=e.i(938933),a=e.i(843778);function r({children:e,className:i,tag:a="div",style:r}){let s=`${a}`;return(0,t.jsx)(s,{style:r,children:e})}r.Title=function({className:e,level:i=1,children:a,style:r}){let s=`h${i}`;return(0,t.jsx)(s,{style:r,children:a})},r.Text=function({className:e,children:i,style:a,type:r,disabled:s,mark:n,code:o,keyboard:l,underline:c,strikethrough:d,strong:u,small:p}){return o?(0,t.jsx)("code",{style:a,children:i}):n?(0,t.jsx)("mark",{style:a,children:i}):l?(0,t.jsx)("kbd",{style:a,children:i}):u?(0,t.jsx)("strong",{style:a,children:i}):(0,t.jsx)("span",{style:a,children:i})},r.Link=function({children:e,target:i="_blank",href:a,className:r,onClick:s,style:n}){return(0,t.jsx)("a",{onClick:s,href:a,target:i,rel:"noopener noreferrer",style:n,children:e})},e.s(["default",0,r],418638);var s=e.i(389959);let n=(0,s.createContext)({type:"text"}),o=e=>{let{type:i}=e;return(0,t.jsx)(n.Provider,{value:{type:i},children:e.children})},l=()=>{let e=(0,s.useContext)(n);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function c({children:e,className:i,ulClassName:a,style:r,type:s="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:i,style:r,children:(0,t.jsx)(o,{type:s,children:(0,t.jsx)("ul",{className:a,children:e})})})}c.Item=function({children:e,icon:r,active:s,rounded:n,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:u}){let p=(0,i.default)("menu"),{type:f}=l(),m=[p.item.base];m.push(p.item.variants[f].base),s?m.push(p.item.variants[f].active):m.push(p.item.variants[f].normal);let h=[p.item.content.base];s?h.push(p.item.content.active):h.push(p.item.content.normal);let y=[p.item.icon.base];return s?y.push(p.item.icon.active):y.push(p.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,a.cn)("outline-none",m),style:u,onClick:o,"aria-current":s?"page":void 0,children:[r&&(0,t.jsx)("div",{className:`${y.join(" ")} min-w-fit`,children:r}),(0,t.jsx)("span",{className:h.join(" "),children:e})]})},c.Group=function({children:e,icon:a,title:r}){let s=(0,i.default)("menu"),{type:n}=l();return(0,t.jsxs)("div",{className:[s.group.base,s.group.variants[n]].join(" "),children:[a&&(0,t.jsx)("span",{className:s.group.icon,children:a}),(0,t.jsx)("span",{className:s.group.content,children:r}),e]})},c.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(r.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["default",0,c],744061)},862326,e=>{"use strict";var t=e.i(744061);e.s(["Menu",()=>t.default])},388147,799793,e=>{"use strict";var t=e.i(478902),i=e.i(587433),a=e.i(862326),r=e.i(210419),s=e.i(837710);let n=({item:e,isActive:n,target:o="_self",hoverText:l="",onClick:c})=>{let{name:d="",url:u="",icon:p,rightIcon:f,isExternal:m,label:h,disabled:y}=e,g=(0,t.jsx)(a.Menu.Item,{icon:p,active:n,onClick:c,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:l||("string"==typeof d?d:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:d}),void 0!==h&&(0,t.jsx)(i.Badge,{className:"flex-shrink-0",variant:"new"===h.toLowerCase()?"success":"warning",children:h})]}),f&&(0,t.jsx)("div",{children:f})]})});return y?(0,t.jsx)("div",{className:"opacity-50 pointer-events-none",children:g}):u?m?(0,t.jsx)(s.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:p,children:(0,t.jsx)(r.default,{href:u,target:"_blank",rel:"noreferrer",children:d})}):(0,t.jsx)(r.default,{href:u,className:"block",target:o,children:g}):g};e.s(["ProductMenuItem",0,n],799793),e.s(["ProductMenu",0,({page:e,menu:r})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(a.Menu,{type:"pills",children:r.map((s,o)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(a.Menu.Group,{title:s.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:s.title}),s.isPreview&&(0,t.jsx)(i.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:s.items.map(i=>{let a=i.pages?i.pages.includes(e??""):e===i.key;return(0,t.jsx)(n,{item:i,isActive:a,target:i.isExternal?"_blank":"_self"},i.key)})})]})}),o!==r.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},s.key||s.title))})})],388147)},167892,e=>{"use strict";var t=e.i(478902),i=e.i(389959),a=e.i(843778);let r="mx-auto w-full max-w-[1200px]",s="px-4 @lg:px-6 @xl:px-10",n=(0,i.forwardRef)(({className:e,bottomPadding:i,size:r="default",...n},o)=>(0,t.jsx)("div",{ref:o,...n,className:(0,a.cn)("mx-auto w-full @container",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[r],s,i&&"pb-16",e)})),o=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("header",{...i,ref:r,className:(0,a.cn)("w-full","flex-col gap-3 py-6",e)})),l=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("h1",{ref:r,...i,className:(0,a.cn)(e)})),c=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("p",{ref:r,...i,className:(0,a.cn)("text-sm text-foreground-light",e)})),d=(0,i.forwardRef)(({className:e,isFullWidth:i,topPadding:r,...s},n)=>(0,t.jsx)("div",{ref:n,...s,className:(0,a.cn)("flex flex-col first:pt-12 py-6",i?"w-full":"gap-3 @md:grid-cols-12 @lg:grid",e)})),u=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("div",{ref:r,...i,className:(0,a.cn)("w-full h-px bg-border shrink-0",e)})),p=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("h3",{ref:r,...i,className:(0,a.cn)("text-foreground text-xl",e)})),f=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("p",{ref:r,...i,className:(0,a.cn)("text-sm text-foreground-light",e)})),m=(0,i.forwardRef)(({className:e,children:i,title:r,...s},n)=>(0,t.jsxs)("div",{ref:n,...s,className:(0,a.cn)("col-span-4 xl:col-span-5 prose text-sm",e),children:[r&&(0,t.jsx)("h2",{children:r}),i]})),h=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("div",{ref:r,...i,className:(0,a.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",e)})),y=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("div",{ref:r,...i,className:(0,a.cn)("flex flex-col gap-3 items-center",e)})),g=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("div",{ref:r,...i,className:(0,a.cn)("flex w-full items-center",e)})),x=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("div",{ref:r,...i,className:(0,a.cn)("flex flex-row gap-3",e)})),_=(0,i.forwardRef)(({className:e,...i},r)=>(0,t.jsx)("div",{ref:r,...i,className:(0,a.cn)("flex flex-col gap-3","min-w-[420px]",e)})),b=(0,i.forwardRef)(({className:e,...i},n)=>(0,t.jsx)("div",{ref:n,...i,className:(0,a.cn)(r,s,"my-8 flex flex-col gap-8",e)}));o.displayName="ScaffoldHeader",l.displayName="ScaffoldTitle",c.displayName="ScaffoldDescription",n.displayName="ScaffoldContainer",u.displayName="ScaffoldDivider",d.displayName="ScaffoldSection",_.displayName="ScaffoldColumn",m.displayName="ScaffoldSectionDetail",h.displayName="ScaffoldSectionContent",y.displayName="ScaffoldFilterAndContent",g.displayName="ScaffoldActionsContainer",x.displayName="ScaffoldActionsGroup",b.displayName="ScaffoldContainerLegacy",p.displayName="ScaffoldSectionTitle",f.displayName="ScaffoldSectionDescription",e.s(["MAX_WIDTH_CLASSES",0,r,"PADDING_CLASSES",0,s,"ScaffoldActionsContainer",0,g,"ScaffoldActionsGroup",0,x,"ScaffoldColumn",0,_,"ScaffoldContainer",0,n,"ScaffoldContainerLegacy",0,b,"ScaffoldDescription",0,c,"ScaffoldDivider",0,u,"ScaffoldFilterAndContent",0,y,"ScaffoldHeader",0,o,"ScaffoldSection",0,d,"ScaffoldSectionContent",0,h,"ScaffoldSectionDescription",0,f,"ScaffoldSectionDetail",0,m,"ScaffoldSectionTitle",0,p,"ScaffoldTitle",0,l])},902780,e=>{"use strict";var t=e.i(478902),i=e.i(210419),a=e.i(837710),r=e.i(843778),s=e.i(710483);e.s(["UnknownInterface",0,({urlBack:e,fullHeight:n=!0})=>(0,t.jsx)("div",{className:(0,r.cn)("w-full flex items-center justify-center",n&&"h-full"),children:(0,t.jsx)(s.Admonition,{type:"note",className:"max-w-xl",title:"Looking for something?",description:"We couldn't find the page that you're looking for",children:(0,t.jsx)(a.Button,{asChild:!0,type:"default",className:"mt-2",children:(0,t.jsx)(i.default,{href:e,children:"Head back"})})})})])},450972,e=>{"use strict";var t=e.i(248593),i=e.i(242882),a=e.i(234745),r=e.i(635494);e.i(10429);var s=e.i(837508),n=e.i(667286);async function o({projectRef:e,connectionString:i},r,s){if(!e)throw Error("projectRef is required");let n=new Headers(s);i&&n.set("x-connection-encrypted",i);let{data:o,error:l}=await (0,a.get)("/platform/pg-meta/{ref}/extensions",{params:{header:{"x-connection-encrypted":i,"x-pg-application-name":t.DEFAULT_PLATFORM_APPLICATION_NAME},path:{ref:e}},headers:n,signal:r});return l&&(0,a.handleError)(l),o}e.s(["useDatabaseExtensionsQuery",0,({projectRef:e,connectionString:t},{enabled:a=!0,...l}={})=>{let{data:c}=(0,r.useSelectedProjectQuery)(),d=c?.status===s.PROJECT_STATUS.ACTIVE_HEALTHY;return(0,i.useQuery)({queryKey:n.databaseExtensionsKeys.list(e),queryFn:({signal:i})=>o({projectRef:e,connectionString:t},i),enabled:a&&void 0!==e&&d,...l})}])},584258,e=>{"use strict";e.s(["fdwKeys",0,{list:e=>["projects",e,"fdws"]}])},610144,e=>{"use strict";var t=e.i(755216),i=e.i(479084),a=e.i(38429),r=e.i(356003),s=e.i(355901),n=e.i(78162),o=e.i(714403),l=e.i(667286);async function c({projectRef:e,connectionString:a,schema:r,name:s,version:n,cascade:l=!1,createSchema:c=!1}){let d=new Headers;a&&d.set("x-connection-encrypted",a);let{sql:u}=t.default.extensions.create({schema:r,name:s,version:n,cascade:l}),{result:p}=await (0,o.executeSql)({projectRef:e,connectionString:a,sql:c?`create schema if not exists ${(0,i.ident)(r)}; ${u}`:u,queryKey:["extension","create"]});return p}e.s(["useDatabaseExtensionEnableMutation",0,({onSuccess:e,onError:t,...i}={})=>{let o=(0,r.useQueryClient)();return(0,a.useMutation)({mutationFn:e=>c(e),async onSuccess(t,i,a){let{projectRef:r}=i;await Promise.all([o.invalidateQueries({queryKey:l.databaseExtensionsKeys.list(r)}),o.invalidateQueries({queryKey:n.configKeys.upgradeEligibility(r)})]),await e?.(t,i,a)},async onError(e,i,a){void 0===t?s.toast.error(`Failed to enable database extension: ${e.message}`):t(e,i,a)},...i})}])},737051,e=>{"use strict";e.i(128328);var t=e.i(657588),i=e.i(265735);e.s(["useIsETLPrivateAlpha",0,()=>{let{data:e}=(0,i.useSelectedOrganizationQuery)(),a=(0,t.useFlag)("etlPrivateAlpha"),r="string"==typeof a?a.split(",").map(e=>e.trim()):[];return(0,t.useFlag)("etlPrivateAlphaOverride")||r.includes(e?.slug??"")}])},812136,e=>{"use strict";var t=e.i(478902),i=e.i(271226),a=e.i(463333),r=e.i(737051),s=e.i(388147),n=e.i(450972),o=e.i(144676),l=e.i(912793),c=e.i(635494),d=e.i(951138),u=e.i(825713),p=e.i(731201);let f=()=>{let{data:e}=(0,c.useSelectedProjectQuery)(),d=(0,i.useRouter)().pathname.split("/")[4],{data:u}=(0,n.useDatabaseExtensionsQuery)({projectRef:e?.ref,connectionString:e?.connectionString}),{data:f}=(0,o.useProjectAddonsQuery)({projectRef:e?.ref}),m=void 0!==(u??[]).find(e=>"pg_net"===e.name),h=f?.selected_addons.find(e=>"pitr"===e.type)!==void 0,y=(0,a.useIsColumnLevelPrivilegesEnabled)(),g=(0,r.useIsETLPrivateAlpha)(),{databaseReplication:x,databaseRoles:_,integrationsWrappers:b}=(0,l.useIsFeatureEnabled)(["database:replication","database:roles","integrations:wrappers"]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(s.ProductMenu,{page:d,menu:(0,p.generateDatabaseMenu)(e,{pgNetExtensionExists:m,pitrEnabled:h,columnLevelPrivileges:y,showPgReplicate:x,enablePgReplicate:g,showRoles:_,showWrappers:b})})})},m=(0,d.withAuth)(({children:e})=>(0,t.jsx)(u.ProjectLayout,{product:"Database",productMenu:(0,t.jsx)(f,{}),isBlocking:!1,children:e}));e.s(["default",0,m])},237664,e=>{"use strict";e.s(["replicationKeys",0,{sources:e=>["projects",e,"sources"],destinations:e=>["projects",e,"destinations"],destinationById:(e,t)=>["projects",e,"destinations",t],publications:(e,t)=>["projects",e,"sources",t,"publications"],tables:(e,t)=>["projects",e,"sources",t,"tables"],pipelines:e=>["projects",e,"pipelines"],pipelineById:(e,t)=>["projects",e,"pipelines",t],pipelinesStatus:(e,t)=>["projects",e,"pipelines",t,"status"],pipelinesReplicationStatus:(e,t)=>["projects",e,"pipelines",t,"replication-status"],pipelinesVersion:(e,t)=>["projects",e,"pipelines",t,"version"]}])},344409,633089,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(237664),r=e.i(741391);e.i(56031);var s=e.i(237948);let n=(e,t)=>!(t instanceof s.ResponseError&&503===t.code&&t.message.includes("feature flag is required"))&&e<r.MAX_RETRY_FAILURE_COUNT;async function o({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:a,error:r}=await (0,i.get)("/platform/replication/{ref}/sources",{params:{path:{ref:e}},signal:t});return r&&(0,i.handleError)(r),a}e.s(["checkReplicationFeatureFlagRetry",0,n],633089),e.s(["useReplicationSourcesQuery",0,({projectRef:e},{enabled:i=!0,...r}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.sources(e),queryFn:({signal:t})=>o({projectRef:e},t),enabled:i&&void 0!==e,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:n,...r})],344409)},216518,e=>{"use strict";let t=(0,e.i(388019).default)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["default",()=>t])},890054,e=>{"use strict";var t=e.i(216518);e.s(["EyeOff",()=>t.default])},224521,e=>{"use strict";var t=e.i(389959),i=e.i(274664),a=e.i(295047),r=e.i(678001),s=e.i(174617),n=e.i(826524),o=e.i(546595),l=e.i(503867),c=e.i(889251),d=e.i(904641),u=e.i(478902),p="Collapsible",[f,m]=(0,i.createContextScope)(p),[h,y]=f(p),g=t.forwardRef((e,i)=>{let{__scopeCollapsible:a,open:r,defaultOpen:s,disabled:l,onOpenChange:c,...f}=e,[m,y]=(0,n.useControllableState)({prop:r,defaultProp:s??!1,onChange:c,caller:p});return(0,u.jsx)(h,{scope:a,disabled:l,contentId:(0,d.useId)(),open:m,onOpenToggle:t.useCallback(()=>y(e=>!e),[y]),children:(0,u.jsx)(o.Primitive.div,{"data-state":j(m),"data-disabled":l?"":void 0,...f,ref:i})})});g.displayName=p;var x="CollapsibleTrigger",_=t.forwardRef((e,t)=>{let{__scopeCollapsible:i,...a}=e,r=y(x,i);return(0,u.jsx)(o.Primitive.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":j(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...a,ref:t,onClick:(0,s.composeEventHandlers)(e.onClick,r.onOpenToggle)})});_.displayName=x;var b="CollapsibleContent",v=t.forwardRef((e,t)=>{let{forceMount:i,...a}=e,r=y(b,e.__scopeCollapsible);return(0,u.jsx)(c.Presence,{present:i||r.open,children:({present:e})=>(0,u.jsx)(S,{...a,ref:t,present:e})})});v.displayName=b;var S=t.forwardRef((e,i)=>{let{__scopeCollapsible:a,present:s,children:n,...c}=e,d=y(b,a),[p,f]=t.useState(s),m=t.useRef(null),h=(0,r.useComposedRefs)(i,m),g=t.useRef(0),x=g.current,_=t.useRef(0),v=_.current,S=d.open||p,w=t.useRef(S),N=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,l.useLayoutEffect)(()=>{let e=m.current;if(e){N.current=N.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();g.current=t.height,_.current=t.width,w.current||(e.style.transitionDuration=N.current.transitionDuration,e.style.animationName=N.current.animationName),f(s)}},[d.open,s]),(0,u.jsx)(o.Primitive.div,{"data-state":j(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!S,...c,ref:h,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:S&&n})});function j(e){return e?"open":"closed"}var w=e.i(2664),N="Accordion",R=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[P,I,E]=(0,a.createCollection)(N),[k,A]=(0,i.createContextScope)(N,[E,m]),C=m(),T=t.default.forwardRef((e,t)=>{let{type:i,...a}=e;return(0,u.jsx)(P.Provider,{scope:e.__scopeAccordion,children:"multiple"===i?(0,u.jsx)(K,{...a,ref:t}):(0,u.jsx)(F,{...a,ref:t})})});T.displayName=N;var[q,M]=k(N),[L,D]=k(N,{collapsible:!1}),F=t.default.forwardRef((e,i)=>{let{value:a,defaultValue:r,onValueChange:s=()=>{},collapsible:o=!1,...l}=e,[c,d]=(0,n.useControllableState)({prop:a,defaultProp:r??"",onChange:s,caller:N});return(0,u.jsx)(q,{scope:e.__scopeAccordion,value:t.default.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:t.default.useCallback(()=>o&&d(""),[o,d]),children:(0,u.jsx)(L,{scope:e.__scopeAccordion,collapsible:o,children:(0,u.jsx)(U,{...l,ref:i})})})}),K=t.default.forwardRef((e,i)=>{let{value:a,defaultValue:r,onValueChange:s=()=>{},...o}=e,[l,c]=(0,n.useControllableState)({prop:a,defaultProp:r??[],onChange:s,caller:N}),d=t.default.useCallback(e=>c((t=[])=>[...t,e]),[c]),p=t.default.useCallback(e=>c((t=[])=>t.filter(t=>t!==e)),[c]);return(0,u.jsx)(q,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:p,children:(0,u.jsx)(L,{scope:e.__scopeAccordion,collapsible:!0,children:(0,u.jsx)(U,{...o,ref:i})})})}),[O,Q]=k(N),U=t.default.forwardRef((e,i)=>{let{__scopeAccordion:a,disabled:n,dir:l,orientation:c="vertical",...d}=e,p=t.default.useRef(null),f=(0,r.useComposedRefs)(p,i),m=I(a),h="ltr"===(0,w.useDirection)(l),y=(0,s.composeEventHandlers)(e.onKeyDown,e=>{if(!R.includes(e.key))return;let t=e.target,i=m().filter(e=>!e.ref.current?.disabled),a=i.findIndex(e=>e.ref.current===t),r=i.length;if(-1===a)return;e.preventDefault();let s=a,n=r-1,o=()=>{(s=a+1)>n&&(s=0)},l=()=>{(s=a-1)<0&&(s=n)};switch(e.key){case"Home":s=0;break;case"End":s=n;break;case"ArrowRight":"horizontal"===c&&(h?o():l());break;case"ArrowDown":"vertical"===c&&o();break;case"ArrowLeft":"horizontal"===c&&(h?l():o());break;case"ArrowUp":"vertical"===c&&l()}let d=s%r;i[d].ref.current?.focus()});return(0,u.jsx)(O,{scope:a,disabled:n,direction:l,orientation:c,children:(0,u.jsx)(P.Slot,{scope:a,children:(0,u.jsx)(o.Primitive.div,{...d,"data-orientation":c,ref:f,onKeyDown:n?void 0:y})})})}),z="AccordionItem",[G,$]=k(z),B=t.default.forwardRef((e,t)=>{let{__scopeAccordion:i,value:a,...r}=e,s=Q(z,i),n=M(z,i),o=C(i),l=(0,d.useId)(),c=a&&n.value.includes(a)||!1,p=s.disabled||e.disabled;return(0,u.jsx)(G,{scope:i,open:c,disabled:p,triggerId:l,children:(0,u.jsx)(g,{"data-orientation":s.orientation,"data-state":J(c),...o,...r,ref:t,disabled:p,open:c,onOpenChange:e=>{e?n.onItemOpen(a):n.onItemClose(a)}})})});B.displayName=z;var H="AccordionHeader",V=t.default.forwardRef((e,t)=>{let{__scopeAccordion:i,...a}=e,r=Q(N,i),s=$(H,i);return(0,u.jsx)(o.Primitive.h3,{"data-orientation":r.orientation,"data-state":J(s.open),"data-disabled":s.disabled?"":void 0,...a,ref:t})});V.displayName=H;var W="AccordionTrigger",X=t.default.forwardRef((e,t)=>{let{__scopeAccordion:i,...a}=e,r=Q(N,i),s=$(W,i),n=D(W,i),o=C(i);return(0,u.jsx)(P.ItemSlot,{scope:i,children:(0,u.jsx)(_,{"aria-disabled":s.open&&!n.collapsible||void 0,"data-orientation":r.orientation,id:s.triggerId,...o,...a,ref:t})})});X.displayName=W;var Y="AccordionContent",Z=t.default.forwardRef((e,t)=>{let{__scopeAccordion:i,...a}=e,r=Q(N,i),s=$(Y,i),n=C(i);return(0,u.jsx)(v,{role:"region","aria-labelledby":s.triggerId,"data-orientation":r.orientation,...n,...a,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function J(e){return e?"open":"closed"}Z.displayName=Y,e.s(["Content",()=>Z,"Header",()=>V,"Item",()=>B,"Root",()=>T,"Trigger",()=>X],224521)},843142,e=>{"use strict";var t=e.i(130843);e.s(["SelectSeparator_Shadcn_",()=>t.SelectSeparator])},725990,e=>{"use strict";let t=(0,e.i(388019).default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);e.s(["Minus",()=>t],725990)},372378,e=>{"use strict";var t=e.i(478902),i=e.i(389959),a=e.i(843778);let r=(0,i.forwardRef)(({preTab:e,postTab:i,children:r,className:s,...n},o)=>(0,t.jsxs)("div",{ref:o,...n,className:(0,a.cn)("flex -space-x-px",s),children:[e&&(0,t.jsx)("div",{className:"border border-strong bg-surface-300 rounded-l-md px-3 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:e})}),(0,t.jsx)("div",{className:(0,a.cn)("flex-1",{"[&_input]:rounded-l-none [&_select]:rounded-l-none [&_textarea]:rounded-l-none":!!e,"[&_input]:rounded-r-none [&_select]:rounded-r-none [&_textarea]:rounded-r-none":!!i}),children:r}),i&&(0,t.jsx)("div",{className:"border border-strong bg-surface-300 rounded-r-md px-3 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:i})})]}));e.s(["PrePostTab",0,r])},418348,e=>{"use strict";var t=e.i(478902),i=e.i(20889),a=e.i(376577),r=e.i(389959),s=e.i(737018),n=e.i(843778);let o=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(i.Root,{className:(0,n.cn)("flex flex-col -space-y-px w-full",e),...a,ref:r}));o.displayName="RadioGroupStacked";let l=r.forwardRef(({image:e,label:r,showIndicator:o=!0,...l},c)=>(0,t.jsx)(i.Item,{ref:c,...l,className:(0,n.cn)("flex flex-col gap-2 w-full","bg-overlay/50 border shadow-sm","first-of-type:rounded-t-lg last-of-type:rounded-b-lg","disabled:opacity-50 disabled:cursor-not-allowed","enabled:cursor-pointer enabled:hover:bg-surface-300 enabled:hover:border-foreground-muted","hover:z-[1] focus-visible:z-[1] data-[state=checked]:z-[1]","data-[state=checked]:ring-1 data-[state=checked]:ring-border","data-[state=checked]:bg-surface-300 data-[state=checked]:border-foreground-muted","transition group",l.className),children:(0,t.jsxs)("div",{className:"flex gap-3 w-full px-[21px] py-3",children:[o&&(0,t.jsx)("div",{className:(0,n.cn)("aspect-square h-4 w-4 min-w-4 min-h-4 rounded-full border relative","flex items-center justify-center","ring-offset-background transition","group-data-[state=checked]:border-foreground-muted","group-focus:border-foreground-muted group-focus:outline-none","group-focus-visible:ring-2 group-focus-visible:ring-ring group-focus-visible:ring-offset-2","group-hover:border-foreground-muted"),children:(0,t.jsx)(i.Indicator,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,t.jsx)(a.Circle,{size:10,strokeWidth:0,className:"fill-current text-current"})})}),(0,t.jsxs)("div",{className:"flex flex-col gap-0.25 items-start",children:[(0,t.jsx)(s.Label,{htmlFor:l.value,className:(0,n.cn)("block -mt-[0.15rem] text-sm text-left text-light","transition-colors","enabled:group-hover:text-foreground group-data-[state=checked]:text-foreground"),children:r}),l.description&&(0,t.jsx)("p",{className:"text-left text-sm text-foreground-lighter text-balance",children:l.description}),l.children]})]})}));l.displayName="RadioGroupStackedItem",e.s(["RadioGroupStacked",()=>o,"RadioGroupStackedItem",()=>l])},990275,e=>{"use strict";var t=e.i(249355);e.s(["zoomIdentity",()=>t.identity])},241603,e=>{"use strict";var t=e.i(726359);e.s(["zoom",()=>t.default])},908027,e=>{"use strict";var t=e.i(478902),i=e.i(843778),a=e.i(513826);e.s(["FormHeader",0,({title:e,description:r,docsUrl:s,actions:n,className:o})=>(0,t.jsxs)("div",{className:(0,i.cn)(`w-full mb-6 flex flex-col sm:flex-row md:items-center justify-between gap-4 ${o}`),children:[(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"text-foreground text-xl prose",children:e}),r&&(0,t.jsx)("p",{className:"prose text-sm max-w-2xl",children:r})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row md:items-center gap-x-2",children:[void 0!==s&&(0,t.jsx)(a.DocsButton,{href:s}),n]})]})])},350046,e=>{"use strict";var t=e.i(478902),i=e.i(224521),a=e.i(88816),r=e.i(389959),s=e.i(843778);let n=i.Root,o=r.forwardRef(({className:e,...a},r)=>(0,t.jsx)(i.Item,{ref:r,className:(0,s.cn)("border-b",e),...a}));o.displayName="AccordionItem";let l=r.forwardRef(({className:e,children:r,hideIcon:n,...o},l)=>(0,t.jsx)(i.Header,{className:"flex",children:(0,t.jsxs)(i.Trigger,{ref:l,className:(0,s.cn)("flex flex-1 gap-2 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180 text-left",e),...o,children:[r,!n&&(0,t.jsx)(a.ChevronDown,{className:"h-4 w-4 transition-transform duration-200 shrink-0"})]})}));l.displayName=i.Trigger.displayName;let c=r.forwardRef(({className:e,children:a,...r},n)=>(0,t.jsx)(i.Content,{ref:n,className:(0,s.cn)("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:(0,t.jsx)("div",{className:"pb-4 pt-0",children:a})}));c.displayName=i.Content.displayName,e.s(["Accordion",()=>n,"AccordionContent",()=>c,"AccordionItem",()=>o,"AccordionTrigger",()=>l])},350341,e=>{"use strict";var t=e.i(350046);e.s(["Accordion_Shadcn_",()=>t.Accordion])},31227,154225,e=>{"use strict";var t=e.i(350046);e.s(["AccordionContent_Shadcn_",()=>t.AccordionContent],31227),e.s(["AccordionItem_Shadcn_",()=>t.AccordionItem],154225)},66212,e=>{"use strict";var t=e.i(350046);e.s(["AccordionTrigger_Shadcn_",()=>t.AccordionTrigger])},809934,e=>{"use strict";let t=(0,e.i(388019).default)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>t],809934)},961753,e=>{"use strict";e.i(10429);var t=e.i(837508);e.i(287509);var i=e.i(812532),a=e.i(819591);let r=e=>"object"==typeof e&&null!==e&&(!("supported_cloud_providers"in e)||!!Array.isArray(e.supported_cloud_providers))&&("cpu_cores"in e||"memory_gb"in e||"cpu_dedicated"in e||"baseline_disk_io_mbs"in e||"max_disk_io_mbs"in e||"connections_direct"in e||"connections_pooler"in e||"backup_duration_days"in e||"supported_cloud_providers"in e);function s(e,a){let s=e.find(e=>"compute_instance"===e.type),n=s?.variants.flatMap(e=>{let t=i.computeInstanceAddonVariantIdSchema.safeParse(e.identifier);return!t.success||a&&r(e.meta)&&!(!e.meta.supported_cloud_providers||e.meta.supported_cloud_providers.includes(a))?[]:[{...e,identifier:t.data,meta:r(e.meta)?e.meta:void 0}]})??[];return(s?.variants??[]).some(e=>"ci_micro"===e.identifier)||n.unshift({identifier:"ci_micro",name:"Micro",price_description:"$0.01344/hour (~$10/month)",price:.01344,price_interval:"hourly",price_type:"usage",meta:{cpu_cores:t.INSTANCE_MICRO_SPECS.cpu_cores,cpu_dedicated:t.INSTANCE_MICRO_SPECS.cpu_dedicated,memory_gb:t.INSTANCE_MICRO_SPECS.memory_gb,baseline_disk_io_mbs:t.INSTANCE_MICRO_SPECS.baseline_disk_io_mbs,max_disk_io_mbs:t.INSTANCE_MICRO_SPECS.max_disk_io_mbs,connections_direct:t.INSTANCE_MICRO_SPECS.connections_direct,connections_pooler:t.INSTANCE_MICRO_SPECS.connections_pooler}}),n.unshift({identifier:"ci_nano",name:"Nano",price_description:"$0/hour (~$0/month)",price:0,price_interval:"hourly",price_type:"usage",meta:{cpu_cores:t.INSTANCE_NANO_SPECS.cpu_cores,cpu_dedicated:t.INSTANCE_NANO_SPECS.cpu_dedicated,memory_gb:t.INSTANCE_NANO_SPECS.memory_gb,baseline_disk_io_mbs:t.INSTANCE_NANO_SPECS.baseline_disk_io_mbs,max_disk_io_mbs:t.INSTANCE_NANO_SPECS.max_disk_io_mbs,connections_direct:t.INSTANCE_NANO_SPECS.connections_direct,connections_pooler:t.INSTANCE_NANO_SPECS.connections_pooler}}),n}let n={pico:"ci_nano",nano:"ci_nano",micro:"ci_micro",small:"ci_small",medium:"ci_medium",large:"ci_large",xlarge:"ci_xlarge","2xlarge":"ci_2xlarge","4xlarge":"ci_4xlarge","8xlarge":"ci_8xlarge","12xlarge":"ci_12xlarge","16xlarge":"ci_16xlarge","24xlarge":"ci_24xlarge","24xlarge_optimized_memory":"ci_24xlarge_optimized_memory","24xlarge_optimized_cpu":"ci_24xlarge_optimized_cpu","24xlarge_high_memory":"ci_24xlarge_high_memory","48xlarge":"ci_48xlarge","48xlarge_optimized_memory":"ci_48xlarge_optimized_memory","48xlarge_optimized_cpu":"ci_48xlarge_optimized_cpu","48xlarge_high_memory":"ci_48xlarge_high_memory"},o={ci_nano:"Nano",ci_micro:"Micro",ci_small:"Small",ci_medium:"Medium",ci_large:"Large",ci_xlarge:"XL",ci_2xlarge:"2XL",ci_4xlarge:"4XL",ci_8xlarge:"8XL",ci_12xlarge:"12XL",ci_16xlarge:"16XL",ci_24xlarge:"24XL",ci_24xlarge_optimized_memory:"24XL - Optimized Memory",ci_24xlarge_optimized_cpu:"24XL - Optimized CPU",ci_24xlarge_high_memory:"24XL - High Memory",ci_48xlarge:"48XL",ci_48xlarge_optimized_memory:"48XL - Optimized Memory",ci_48xlarge_optimized_cpu:"48XL - Optimized CPU",ci_48xlarge_high_memory:"48XL - High Memory"};e.s(["calculateComputeSizePrice",0,({availableOptions:e,oldComputeSize:t,newComputeSize:i,plan:a})=>{let r=t;"free"!==a&&"ci_nano"===t&&(r="ci_micro");let s=e?.find(e=>e.identifier===r)?.price??0,n=e?.find(e=>e.identifier===i)?.price??0;return{oldPrice:(720*s).toFixed(2),newPrice:(720*n).toFixed(2)}},"calculateComputeSizeRequiredForIops",0,e=>{let t=Object.entries(i.COMPUTE_MAX_IOPS).map(e=>{let[t,a]=e,r=i.computeInstanceAddonVariantIdSchema.safeParse(t);if(r.success)return{size:r.data,maxIops:Number(a)}}).filter(e=>void 0!==e).sort((e,t)=>e.maxIops-t.maxIops);for(let{size:i,maxIops:a}of t)if(e<=a)return i;let a=t[t.length-1]?.size;if(a)return a},"calculateDiskSizePrice",0,({planId:e,oldSize:t,oldStorageType:i,newSize:r,newStorageType:s,numReplicas:n=0})=>{let o=a.DISK_PRICING[i]?.storage??0,l=a.DISK_PRICING[s]?.storage??0,{includedDiskGB:c}=a.PLAN_DETAILS?.[e],d=Math.max(t-c[i],0)*o,u=Math.max(r-c[s],0)*l;return{oldPrice:(d+1.25*t*o*n).toFixed(2),newPrice:(u+1.25*r*l*n).toFixed(2)}},"calculateDiskSizeRequiredForIopsWithGp3",0,e=>Math.max(1,Math.ceil(e/500)),"calculateDiskSizeRequiredForIopsWithIo2",0,e=>Math.max(4,Math.ceil(e/1e3)),"calculateIOPSPrice",0,({oldStorageType:e,oldProvisionedIOPS:t,newStorageType:i,newProvisionedIOPS:r,numReplicas:s=0})=>{if(i===a.DiskType.GP3){let n=Math.max(0,t-a.DISK_LIMITS[a.DiskType.GP3].includedIops),o=Math.max(0,r-a.DISK_LIMITS[a.DiskType.GP3].includedIops),l=n*(a.DISK_PRICING[e]?.iops??0),c=o*(a.DISK_PRICING[i]?.iops??0);return{oldPrice:(l*(1+s)).toFixed(2),newPrice:(c*(1+s)).toFixed(2)}}{let n="gp3"===e?(t-a.DISK_LIMITS[e].includedIops)*a.DISK_PRICING[e].iops:t*(a.DISK_PRICING[e]?.iops??0),o=r*(a.DISK_PRICING[i]?.iops??0);return{oldPrice:(n*(1+s)).toFixed(2),newPrice:(o*(1+s)).toFixed(2)}}},"calculateIopsRequiredForThroughput",0,e=>Math.max(125,Math.ceil(e/.256)),"calculateMaxIopsAllowedForDiskSizeWithGp3",0,e=>Math.min(3e3*e,16e3),"calculateMaxIopsAllowedForDiskSizeWithio2",0,e=>Math.min(500*e,256e3),"calculateMaxIopsForComputeSize",0,e=>{let t=i.computeInstanceAddonVariantIdSchema.safeParse(e);return t.success?i.COMPUTE_MAX_IOPS[t.data]??0:0},"calculateMaxThroughput",0,e=>Math.min(.256*e,1e3),"calculateThroughputPrice",0,({storageType:e,newThroughput:t,oldThroughput:i,numReplicas:r=0})=>{if(e===a.DiskType.GP3&&t){let e=Math.max(0,i-a.DISK_LIMITS[a.DiskType.GP3].includedThroughput),s=Math.max(0,t-a.DISK_LIMITS[a.DiskType.GP3].includedThroughput),n=e*a.DISK_PRICING[a.DiskType.GP3].throughput,o=s*a.DISK_PRICING[a.DiskType.GP3].throughput;return{oldPrice:(n*(1+r)).toFixed(2),newPrice:(o*(1+r)).toFixed(2)}}return{oldPrice:"0.00",newPrice:"0.00"}},"formatNumber",0,e=>e.toLocaleString("en-US"),"getAvailableComputeOptions",()=>s,"mapAddOnVariantIdToComputeSize",0,(e="ci_nano")=>{let t=i.computeInstanceAddonVariantIdSchema.safeParse(e);return t.success?o[t.data]:o.ci_nano},"mapComputeSizeNameToAddonVariantId",0,e=>{let t=e&&Object.prototype.hasOwnProperty.call(n,e)?e:void 0;return n[t??"nano"]}])},351895,e=>{"use strict";var t=e.i(38429),i=e.i(355901),a=e.i(234745);async function r({ref:e,identifier:t}){let i={};void 0!==t&&(i.database_identifier=t);let{data:r,error:s}=await (0,a.post)("/platform/projects/{ref}/restart",{params:{path:{ref:e}},body:i});return s&&(0,a.handleError)(s),r}e.s(["useProjectRestartMutation",0,({onSuccess:e,onError:a,...s}={})=>(0,t.useMutation)({mutationFn:e=>r(e),async onSuccess(t,i,a){await e?.(t,i,a)},async onError(e,t,r){void 0===a?i.toast.error(`Failed to restart project: ${e.message}`):a(e,t,r)},...s})])},555254,896394,e=>{"use strict";var t=e.i(478902),i=e.i(356003),a=e.i(355901),r=e.i(346691);e.i(128328);var s=e.i(158639),n=e.i(38429),o=e.i(234745);async function l({projectRef:e,identifier:t}){let{data:i,error:a}=await (0,o.post)("/v1/projects/{ref}/read-replicas/remove",{params:{path:{ref:e}},body:{database_identifier:t}});return a&&(0,o.handleError)(a),i}let c=({onSuccess:e,onError:t,...s}={})=>{let o=(0,i.useQueryClient)();return(0,n.useMutation)({mutationFn:e=>l(e),async onSuccess(t,i,a){let{projectRef:s,invalidateReplicaQueries:n}=i;n&&await Promise.all([o.invalidateQueries({queryKey:r.replicaKeys.list(s)}),o.invalidateQueries({queryKey:r.replicaKeys.loadBalancers(s)})]),await e?.(t,i,a)},async onError(e,i,r){void 0===t?a.toast.error(`Failed to remove read replica: ${e.message}`):t(e,i,r)},...s})};e.s(["useReadReplicaRemoveMutation",0,c],896394);var d=e.i(940009),u=e.i(466472),p=e.i(72187);e.s(["DropReplicaConfirmationModal",0,({selectedReplica:e,onSuccess:n,onCancel:o})=>{let{ref:l}=(0,s.useParams)(),f=(0,i.useQueryClient)(),m=(0,d.formatDatabaseID)(e?.identifier??""),{mutate:h,isPending:y}=c({onSuccess:()=>{a.toast.success(`Tearing down read replica (ID: ${m})`),f.setQueriesData({queryKey:r.replicaKeys.list(l)},t=>t?.map(t=>t.identifier===e?.identifier?{...t,status:p.REPLICA_STATUS.GOING_DOWN}:t)),n(),o()}}),g=async()=>l?void 0===e?a.toast.error("No replica selected"):void h({projectRef:l,identifier:e.identifier,invalidateReplicaQueries:!0}):console.error("Project is required");return(0,t.jsxs)(u.default,{variant:"destructive",size:"medium",loading:y,visible:void 0!==e,title:`Confirm to drop selected replica? (ID: ${m})`,confirmLabel:"Drop replica",confirmLabelLoading:"Dropping replica",onCancel:()=>o(),onConfirm:()=>g(),alert:{title:"This action cannot be undone",description:"You may still deploy a new replica in this region thereafter"},children:[(0,t.jsx)("p",{className:"text-sm",children:"Before deleting this replica, consider:"}),(0,t.jsx)("ul",{className:"text-sm text-foreground-light py-1 list-disc mx-4 space-y-1",children:(0,t.jsx)("li",{children:"Network traffic from this region may slow down, especially if you have no other replicas in this region"})})]})}],555254)},128,e=>{"use strict";var t=e.i(478902),i=e.i(355901),a=e.i(356003);e.i(128328);var r=e.i(158639),s=e.i(351895),n=e.i(346691),o=e.i(940009),l=e.i(466472),c=e.i(72187);e.s(["RestartReplicaConfirmationModal",0,({selectedReplica:e,onSuccess:d,onCancel:u})=>{let{ref:p}=(0,r.useParams)(),f=(0,a.useQueryClient)(),m=(0,o.formatDatabaseID)(e?.identifier??""),{mutate:h,isPending:y}=(0,s.useProjectRestartMutation)({onSuccess:()=>{i.toast.success(`Restarting read replica (ID: ${m})`),f.setQueriesData({queryKey:n.replicaKeys.list(p)},t=>t.map(t=>t.identifier===e?.identifier?{...t,status:c.REPLICA_STATUS.RESTARTING}:t)),f.setQueriesData({queryKey:n.replicaKeys.statuses(p)},t=>t.map(t=>t.identifier===e?.identifier?{...t,status:c.REPLICA_STATUS.RESTARTING}:t)),d(),u()},onError:e=>{i.toast.error(`Failed to restart replica: ${e.message}`)}});return(0,t.jsxs)(l.default,{size:"medium",variant:"warning",loading:y,visible:void 0!==e,title:`Confirm to restart selected replica? (ID: ${m})`,confirmLabel:"Restart replica",confirmLabelLoading:"Restarting replica",onCancel:()=>u(),onConfirm:()=>p?void 0===e?i.toast.error("No replica selected"):void h({ref:p,identifier:e.identifier}):console.error("Project is required"),children:[(0,t.jsx)("p",{className:"text-sm",children:"Your replica will be offline for a few minutes while it is being restarted. Before restarting the replica, consider:"}),(0,t.jsx)("ul",{className:"text-sm text-foreground-light py-1 list-disc mx-4 space-y-1",children:(0,t.jsx)("li",{children:"Network traffic from this region may slow down while the replica is restarting, especially if you have no other replicas in this region"})}),(0,t.jsx)("p",{className:"text-sm mt-2",children:"Are you sure you want to restart this replica now?"})]})}])},805501,e=>{"use strict";var t=e.i(242882),i=e.i(714403),a=e.i(346691);async function r({projectRef:e,connectionString:t,id:a},r){let s=`
select 
  case
    when (select count(*) from pg_stat_wal_receiver) = 1 and pg_last_wal_receive_lsn() = pg_last_wal_replay_lsn()
    then 0
    else coalesce(extract(epoch from now() - pg_last_xact_replay_timestamp()),0)
  end as physical_replica_lag_second
  `,{result:n}=await (0,i.executeSql)({projectRef:e,connectionString:t,sql:s,queryKey:["replica-lag",a]},r);return Number((n[0]??null)?.physical_replica_lag_second??0)}e.s(["useReplicationLagQuery",0,({projectRef:e,connectionString:i,id:s},{enabled:n=!0,...o}={})=>(0,t.useQuery)({queryKey:a.replicaKeys.replicaLag(e,s),queryFn:({signal:t})=>r({projectRef:e,connectionString:i,id:s},t),enabled:n&&void 0!==e&&void 0!==s,...o})])},10800,e=>{"use strict";var t,i=e.i(242882),a=e.i(234745),r=e.i(346691),s=((t={}).InProgress="in_progress",t.Completed="completed",t.Failed="failed",t);async function n({projectRef:e},t){if(!e)throw Error("Project ref is required");let{data:i,error:r}=await (0,a.get)("/platform/projects/{ref}/databases-statuses",{params:{path:{ref:e}},signal:t});return r&&(0,a.handleError)(r),i}e.s(["ReplicaInitializationStatus",()=>s,"useReadReplicasStatusesQuery",0,({projectRef:e},{enabled:t=!0,...a}={})=>(0,i.useQuery)({queryKey:r.replicaKeys.statuses(e),queryFn:({signal:t})=>n({projectRef:e},t),enabled:t&&void 0!==e,...a})])},579499,e=>{"use strict";var t=e.i(38429),i=e.i(356003),a=e.i(355901),r=e.i(234745),s=e.i(346691);async function n({projectRef:e,region:t}){let{data:i,error:a}=await (0,r.post)("/v1/projects/{ref}/read-replicas/setup",{params:{path:{ref:e}},body:{read_replica_region:t}});return a&&(0,r.handleError)(a),i}e.s(["useReadReplicaSetUpMutation",0,({onSuccess:e,onError:r,...o}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n(e),async onSuccess(t,i,a){let{projectRef:r}=i;await l.invalidateQueries({queryKey:s.replicaKeys.list(r)}),await e?.(t,i,a)},async onError(e,t,i){void 0===r?a.toast.error(`Failed to set up read replica: ${e.message}`):r(e,t,i)},...o})}])},491726,e=>{"use strict";var t=e.i(38429),i=e.i(355901),a=e.i(234745);async function r({ref:e}){let{data:t,error:i}=await (0,a.post)("/platform/database/{ref}/backups/enable-physical-backups",{params:{path:{ref:e}}});return i&&(0,a.handleError)(i),t}e.s(["useEnablePhysicalBackupsMutation",0,({onSuccess:e,onError:a,...s}={})=>(0,t.useMutation)({mutationFn:e=>r(e),async onSuccess(t,i,a){await e?.(t,i,a)},async onError(e,t,r){void 0===a?i.toast.error(`Failed to enable physical backups: ${e.message}`):a(e,t,r)},...s})])},863562,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},602364,e=>{"use strict";var t=e.i(72187),i=e.i(10800);e.s(["getIsInTransition",0,({initStatus:e,status:a})=>[t.REPLICA_STATUS.UNKNOWN,t.REPLICA_STATUS.COMING_UP,t.REPLICA_STATUS.GOING_DOWN,t.REPLICA_STATUS.RESTORING,t.REPLICA_STATUS.RESTARTING,t.REPLICA_STATUS.RESIZING,t.REPLICA_STATUS.INIT_READ_REPLICA].includes(a??"")||e===i.ReplicaInitializationStatus.InProgress,"getStatusLabel",0,({initStatus:e,status:a})=>{if(e===i.ReplicaInitializationStatus.InProgress||a===t.REPLICA_STATUS.COMING_UP||a===t.REPLICA_STATUS.UNKNOWN||a===t.REPLICA_STATUS.INIT_READ_REPLICA)return"Coming up";if(e===i.ReplicaInitializationStatus.Failed||a===t.REPLICA_STATUS.INIT_READ_REPLICA_FAILED)return"Failed";switch(a){case t.REPLICA_STATUS.GOING_DOWN:return"Going down";case t.REPLICA_STATUS.RESTARTING:return"Restarting";case t.REPLICA_STATUS.RESIZING:return"Resizing";case t.REPLICA_STATUS.RESTORING:return"Restoring";case t.REPLICA_STATUS.ACTIVE_HEALTHY:return"Healthy";default:return"Unhealthy"}}])},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function i(e,t={}){let{maxDepth:a=3,redaction:r="[REDACTED]",truncationNotice:s="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=t,o=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),l=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function d(e){let t=e;for(let{re:e}of l)t=t.replace(e,r);return t}function u(e){return o.has(String(e).toLowerCase())}return e.map(e=>(function e(t,i){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return d(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(i>=a)return s;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let a=[];c.set(t,a);for(let r=0;r<t.length;r++)a[r]=e(t[r],i+1);return a}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let a={};for(let[s,n]of(c.set(t,a),Object.entries(t)))u(s)?a[s]=r:a[s]=e(n,i+1);return a}if(t instanceof Map){let a=[];for(let[s,n]of(c.set(t,a),t.entries())){let t=u(s)?r:e(s,i+1),o=u(s)?r:e(n,i+1);a.push([t,o])}return a}if(t instanceof Set){let a=[];for(let r of(c.set(t,a),t.values()))a.push(e(r,i+1));return a}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:d(t.message),stack:s};return c.set(t,e),e}try{return d(String(t))}catch{return d(Object.prototype.toString.call(t))}}return d(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>i,"sanitizeUrlHashParams",()=>t])},899929,e=>{"use strict";let t=(0,e.i(388019).default)("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);e.s(["Pause",()=>t],899929)},898202,678097,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(237664);async function r({projectRef:e,pipelineId:t},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("pipelineId is required");let{data:r,error:s}=await (0,i.get)("/platform/replication/{ref}/pipelines/{pipeline_id}/status",{params:{path:{ref:e,pipeline_id:t}},signal:a});return s&&(0,i.handleError)(s),r}e.s(["useReplicationPipelineStatusQuery",0,({projectRef:e,pipelineId:i},{enabled:s=!0,...n}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.pipelinesStatus(e,i),queryFn:({signal:t})=>r({projectRef:e,pipelineId:i},t),enabled:s&&void 0!==e&&void 0!==i,...n})],898202);var s=e.i(38429),n=e.i(356003),o=e.i(355901);async function l({projectRef:e,pipelineId:t},a){if(!e)throw Error("projectRef is required");let{data:r,error:s}=await (0,i.post)("/platform/replication/{ref}/pipelines/{pipeline_id}/start",{params:{path:{ref:e,pipeline_id:t}},signal:a});return s&&(0,i.handleError)(s),r}e.s(["useStartPipelineMutation",0,({onSuccess:e,onError:t,...i}={})=>{let r=(0,n.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>l(e),async onSuccess(t,i,s){let{projectRef:n,pipelineId:o}=i;await r.invalidateQueries({queryKey:a.replicationKeys.pipelinesStatus(n,o)}),r.setQueriesData({queryKey:a.replicationKeys.pipelinesStatus(n,o),exact:!0},e=>e?{...e,status:{name:"starting"}}:e),await e?.(t,i,s)},async onError(e,i,a){void 0===t?o.toast.error(`Failed to start pipeline: ${e.message}`):t(e,i,a)},...i})}],678097)},750912,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(10429),r=e.i(65749);async function s({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:a,error:r}=await (0,i.get)("/platform/storage/{ref}/credentials",{params:{path:{ref:e}},signal:t});return r&&(0,i.handleError)(r),a}e.s(["useStorageCredentialsQuery",0,({projectRef:e},{enabled:i=!0,...n}={})=>(0,t.useQuery)({queryKey:r.storageCredentialsKeys.credentials(e),queryFn:({signal:t})=>s({projectRef:e},t),enabled:i&&a.IS_PLATFORM&&void 0!==e,...n})])},347617,646759,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(237664),r=e.i(633089);async function s({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:a,error:r}=await (0,i.get)("/platform/replication/{ref}/destinations",{params:{path:{ref:e}},signal:t});return r&&(0,i.handleError)(r),a}async function n({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:a,error:r}=await (0,i.get)("/platform/replication/{ref}/pipelines",{params:{path:{ref:e}},signal:t});return r&&(0,i.handleError)(r),a}e.s(["useReplicationDestinationsQuery",0,({projectRef:e},{enabled:i=!0,...n}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.destinations(e),queryFn:({signal:t})=>s({projectRef:e},t),enabled:i&&void 0!==e,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:r.checkReplicationFeatureFlagRetry,...n})],347617),e.s(["useReplicationPipelinesQuery",0,({projectRef:e},{enabled:i=!0,...s}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.pipelines(e),queryFn:({signal:t})=>n({projectRef:e},t),enabled:i&&void 0!==e,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:r.checkReplicationFeatureFlagRetry,...s})],646759)},333092,e=>{"use strict";var t=e.i(38429),i=e.i(356003),a=e.i(355901),r=e.i(234745),s=e.i(237664);async function n({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:i,error:a}=await (0,r.post)("/platform/replication/{ref}/tenants-sources",{params:{path:{ref:e}},signal:t});return a&&(0,r.handleError)(a),i}e.s(["useCreateTenantSourceMutation",0,({onSuccess:e,onError:r,...o}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n(e),async onSuccess(t,i,a){let{projectRef:r}=i;await l.invalidateQueries({queryKey:s.replicationKeys.sources(r)}),await e?.(t,i,a)},async onError(e,t,i){void 0===r?a.toast.error(`Failed to create tenant or source: ${e.message}`):r(e,t,i)},...o})}])},711852,e=>{"use strict";var t=e.i(38429),i=e.i(356003),a=e.i(355901),r=e.i(234745),s=e.i(237664);async function n({projectRef:e,destinationName:t,destinationConfig:i,pipelineConfig:{publicationName:a,batch:s,maxTableSyncWorkers:n},sourceId:o},l){let c;if(!e)throw Error("projectRef is required");if("bigQuery"in i){let{projectId:e,datasetId:t,serviceAccountKey:a,maxStalenessMins:r}=i.bigQuery;c={big_query:{project_id:e,dataset_id:t,service_account_key:a,...null!==r?{max_staleness_mins:r}:{}}}}else if("iceberg"in i){let{projectRef:e,namespace:t,warehouseName:a,catalogToken:r,s3AccessKeyId:s,s3SecretAccessKey:n,s3Region:o}=i.iceberg;c={iceberg:{supabase:{namespace:t,project_ref:e,warehouse_name:a,catalog_token:r,s3_access_key_id:s,s3_secret_access_key:n,s3_region:o}}}}else throw Error("Invalid destination config: must specify either bigQuery or iceberg");let{data:d,error:u}=await (0,r.post)("/platform/replication/{ref}/destinations-pipelines",{params:{path:{ref:e}},body:{source_id:o,destination_name:t,destination_config:c,pipeline_config:{publication_name:a,...void 0!==n?{max_table_sync_workers:n}:{},...s?{batch:{...void 0!==s.maxFillMs?{max_fill_ms:s.maxFillMs}:{},...void 0!==s.maxSize?{max_size:s.maxSize}:{}}}:{}}},signal:l});return u&&(0,r.handleError)(u),d}e.s(["useCreateDestinationPipelineMutation",0,({onSuccess:e,onError:r,...o}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n(e),async onSuccess(t,i,a){let{projectRef:r}=i;await Promise.all([l.invalidateQueries({queryKey:s.replicationKeys.destinations(r)}),l.invalidateQueries({queryKey:s.replicationKeys.pipelines(r)})]),await e?.(t,i,a)},async onError(e,t,i){void 0===r?a.toast.error(`Failed to create destination or pipeline: ${e.message}`):r(e,t,i)},...o})}])},595945,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(237664);async function r({projectRef:e,sourceId:t},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("sourceId is required");let{data:r,error:s}=await (0,i.get)("/platform/replication/{ref}/sources/{source_id}/publications",{params:{path:{ref:e,source_id:t}},signal:a});return s&&(0,i.handleError)(s),r.publications.filter(e=>"supabase_realtime"!==e.name&&e.tables.length>0).sort((e,t)=>e.name.localeCompare(t.name))}e.s(["useReplicationPublicationsQuery",0,({projectRef:e,sourceId:i},{enabled:s=!0,...n}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.publications(e,i),queryFn:({signal:t})=>r({projectRef:e,sourceId:i},t),enabled:s&&void 0!==e&&void 0!==i,...n})])},249632,e=>{"use strict";var t=e.i(38429),i=e.i(356003),a=e.i(355901),r=e.i(234745),s=e.i(937163);async function n({projectRef:e,warehouse:t,namespace:i}){if(!e)throw Error("projectRef is required");let{error:a}=await (0,r.post)("/platform/storage/{ref}/analytics-buckets/{id}/namespaces",{params:{path:{ref:e,id:t}},body:{namespace:i}});return a&&(0,r.handleError)(a),!0}e.s(["useIcebergNamespaceCreateMutation",0,({onSuccess:e,onError:r,...o}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n({...e}),async onSuccess(t,i,a){await l.invalidateQueries({queryKey:s.storageKeys.icebergNamespaces({projectRef:i.projectRef,warehouse:i.warehouse})}),await e?.(t,i,a)},async onError(e,t,i){"Request failed with status code 409"===e.message?a.toast.error(`A namespace named ${t.namespace} already exists in the catalog.`):void 0===r?a.toast.error(`Failed to create Iceberg namespace: ${e.message}`):r(e,t,i)},...o})}])},545763,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(937163);async function r({projectRef:e,warehouse:t},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("warehouse is required");let{data:r,error:s}=await (0,i.get)("/platform/storage/{ref}/analytics-buckets/{id}/namespaces",{params:{path:{ref:e,id:t}},signal:a});return s&&(0,i.handleError)(s),r.data.map(e=>e.namespace).flat()}e.s(["useIcebergNamespacesQuery",0,(e,{enabled:i=!0,...s}={})=>{let{projectRef:n,warehouse:o}=e;return(0,t.useQuery)({queryKey:a.storageKeys.icebergNamespaces({projectRef:n,warehouse:o}),queryFn:({signal:e})=>r({projectRef:n,warehouse:o},e),enabled:s&&void 0!==n&&void 0!==o&&o.length>0,...s})}])},117467,668638,e=>{"use strict";var t=e.i(38429),i=e.i(356003),a=e.i(355901),r=e.i(234745),s=e.i(237664);async function n({projectRef:e,sourceId:t,name:i,tables:a},s){if(!e)throw Error("projectRef is required");let{data:n,error:o}=await (0,r.post)("/platform/replication/{ref}/sources/{source_id}/publications",{params:{path:{ref:e,source_id:t}},body:{name:i,tables:a},signal:s});return o&&(0,r.handleError)(o),n}e.s(["useCreatePublicationMutation",0,({onSuccess:e,onError:r,...o}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n(e),async onSuccess(t,i,a){let{projectRef:r,sourceId:n}=i;await l.invalidateQueries({queryKey:s.replicationKeys.publications(r,n)}),await e?.(t,i,a)},async onError(e,t,i){void 0===r?a.toast.error(`Failed to create publication: ${e.message}`):r(e,t,i)},...o})}],117467);var o=e.i(242882);async function l({projectRef:e,sourceId:t},i){if(!e)throw Error("projectRef is required");if(!t)throw Error("sourceId is required");let{data:a,error:s}=await (0,r.get)("/platform/replication/{ref}/sources/{source_id}/tables",{params:{path:{ref:e,source_id:t}},signal:i});return s&&(0,r.handleError)(s),a.tables}e.s(["useReplicationTablesQuery",0,({projectRef:e,sourceId:t},{enabled:i=!0,...a}={})=>(0,o.useQuery)({queryKey:s.replicationKeys.tables(e,t),queryFn:({signal:i})=>l({projectRef:e,sourceId:t},i),enabled:i&&void 0!==e&&void 0!==t,...a})],668638)},573100,e=>{"use strict";var t=e.i(38429),i=e.i(356003),a=e.i(355901),r=e.i(234745),s=e.i(237664);async function n({projectRef:e,destinationId:t,pipelineId:i},a){if(!e)throw Error("projectRef is required");let{data:s,error:n}=await (0,r.del)("/platform/replication/{ref}/destinations-pipelines/{destination_id}/{pipeline_id}",{params:{path:{ref:e,destination_id:t,pipeline_id:i}},signal:a});return n&&(0,r.handleError)(n),s}e.s(["useDeleteDestinationPipelineMutation",0,({onSuccess:e,onError:r,...o}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n(e),async onSuccess(t,i,a){let{projectRef:r,destinationId:n,pipelineId:o}=i;await Promise.all([l.invalidateQueries({queryKey:s.replicationKeys.destinations(r)}),l.invalidateQueries({queryKey:s.replicationKeys.pipelines(r)}),l.invalidateQueries({queryKey:s.replicationKeys.pipelineById(r,o)}),l.invalidateQueries({queryKey:s.replicationKeys.pipelinesStatus(r,o)}),l.invalidateQueries({queryKey:s.replicationKeys.pipelinesReplicationStatus(r,o)}),l.invalidateQueries({queryKey:s.replicationKeys.destinationById(r,n)})]),await e?.(t,i,a)},async onError(e,t,i){void 0===r?a.toast.error(`Failed to delete destination and pipeline: ${e.message}`):r(e,t,i)},...o})}])},154971,e=>{"use strict";let t=(0,e.i(388019).default)("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);e.s(["default",()=>t])},695734,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(237664);async function r({projectRef:e,pipelineId:t},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("pipelineId is required");let{data:r,error:s}=await (0,i.get)("/platform/replication/{ref}/pipelines/{pipeline_id}/version",{params:{path:{ref:e,pipeline_id:t}},signal:a});return s&&(0,i.handleError)(s),r}e.s(["fetchReplicationPipelineVersion",()=>r,"useReplicationPipelineVersionQuery",0,({projectRef:e,pipelineId:i},{enabled:s=!0,staleTime:n=1/0,refetchOnMount:o=!1,refetchOnWindowFocus:l=!1,...c}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.pipelinesVersion(e,i),queryFn:({signal:t})=>r({projectRef:e,pipelineId:i},t),enabled:s&&void 0!==e&&void 0!==i,staleTime:n,refetchOnMount:o,refetchOnWindowFocus:l,...c})])},273144,e=>{"use strict";var t,i=((t={}).FAILED="failed",t.STARTING="starting",t.STARTED="started",t.STOPPED="stopped",t.STOPPING="stopping",t.UNKNOWN="unknown",t);e.s(["PipelineStatusName",()=>i,"STATUS_REFRESH_FREQUENCY_MS",0,1e4])},128678,421126,e=>{"use strict";var t,i=e.i(478902),a=e.i(389959),r=((t={}).None="None",t.StartRequested="StartRequested",t.StopRequested="StopRequested",t.RestartRequested="RestartRequested",t);let s=(0,a.createContext)(void 0);e.s(["PipelineRequestStatusProvider",0,({children:e})=>{let[t,r]=(0,a.useState)({}),[n,o]=(0,a.useState)({}),l=(0,a.useRef)({}),c=(e,t,i)=>{r(i=>({...i,[e]:t})),o(a=>{if("None"===t){let{[e]:t,...i}=a;return i}return void 0!==i?{...a,[e]:i}:a});let a=l.current[e];if(void 0!==a&&(clearTimeout(a),delete l.current[e]),"None"!==t){let t=window.setTimeout(()=>{r(t=>t[e]&&"None"!==t[e]?{...t,[e]:"None"}:t),o(t=>{let{[e]:i,...a}=t;return a}),delete l.current[e]},1e4);l.current[e]=t}},d=(0,a.useCallback)((e,i)=>{"None"===(t[e]||"None")||i!==n[e]&&c(e,"None")},[t,n]);return(0,a.useEffect)(()=>()=>{Object.values(l.current).forEach(e=>clearTimeout(e)),l.current={}},[]),(0,i.jsx)(s.Provider,{value:{requestStatus:t,pipelineStatusSnapshot:n,setRequestStatus:c,getRequestStatus:e=>t[e]||"None",updatePipelineStatus:d},children:e})},"PipelineStatusRequestStatus",()=>r,"usePipelineRequestStatus",0,()=>{let e=(0,a.useContext)(s);if(void 0===e)throw Error("usePipelineRequestStatus must be used within a PipelineRequestStatusProvider");return e}],421126);let n={title:"Starting pipeline",message:"Starting the pipeline. Replication will resume once running.",badge:"Starting"},o={title:"Stopping pipeline",message:"Stopping the pipeline. Replication will be paused once stopped.",badge:"Stopping"},l={title:"Restarting pipeline",message:"Applying settings and restarting the pipeline.",badge:"Restarting"},c={title:"Pipeline failed",message:"Replication has encountered an error.",badge:"Failed"},d={title:"Pipeline stopped",message:"Replication is paused. Start the pipeline to resume data synchronization.",badge:"Stopped"},u={title:"Pipeline starting",message:"Initializing replication. Table status will be available once running.",badge:"Starting"},p={title:"Pipeline stopping",message:"Stopping replication. Data transfer will be paused once stopped",badge:"Stopping"},f={title:"Pipeline running",message:"Replication is active and processing changes",badge:"Running"},m={title:"Pipeline status unknown",message:"Unable to determine pipeline status.",badge:"Unknown"},h={title:"Pipeline not running",message:"Replication is not active. Start the pipeline to begin data synchronization.",badge:"Stopped"};e.s(["PIPELINE_ACTIONABLE_STATES",0,["failed","started","stopped"],"PIPELINE_DISABLE_ALLOWED_FROM",0,["started","failed"],"PIPELINE_ENABLE_ALLOWED_FROM",0,["stopped"],"PIPELINE_ERROR_MESSAGES",0,{RETRIEVE_PIPELINE:"Failed to retrieve pipeline information",RETRIEVE_PIPELINE_STATUS:"Failed to retrieve pipeline status",RETRIEVE_REPLICATION_STATUS:"Failed to retrieve table replication status",RETRIEVE_DESTINATIONS:"Failed to retrieve destinations",ENABLE_DESTINATION:"Failed to enable destination",DISABLE_DESTINATION:"Failed to disable destination",DELETE_DESTINATION:"Failed to delete destination",NO_PIPELINE_FOUND:"No pipeline found",COPY_TABLE_STATUS:"Failed to copy table status"},"getPipelineStateMessages",0,(e,t)=>{if(e===r.RestartRequested)return l;if(e===r.StartRequested)return n;if(e===r.StopRequested)return o;switch(t){case"starting":return u;case"failed":return c;case"stopped":return d;case"started":return f;case"stopping":return p;case"unknown":return m;default:return h}},"getStatusName",0,e=>{if(e&&"object"==typeof e&&"name"in e)return e.name}],128678)},474094,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(237664);async function r({projectRef:e,pipelineId:t},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("pipelineId is required");let{data:r,error:s}=await (0,i.get)("/platform/replication/{ref}/pipelines/{pipeline_id}",{params:{path:{ref:e,pipeline_id:t}},signal:a});return s&&(0,i.handleError)(s),r}e.s(["useReplicationPipelineByIdQuery",0,({projectRef:e,pipelineId:i},{enabled:s=!0,...n}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.pipelineById(e,i),queryFn:({signal:t})=>r({projectRef:e,pipelineId:i},t),enabled:s&&void 0!==e&&void 0!==i,...n})])},101680,167850,e=>{"use strict";var t=e.i(38429),i=e.i(356003),a=e.i(355901),r=e.i(234745),s=e.i(237664);async function n({projectRef:e,pipelineId:t},i){if(!e)throw Error("projectRef is required");let{data:a,error:s}=await (0,r.post)("/platform/replication/{ref}/pipelines/{pipeline_id}/stop",{params:{path:{ref:e,pipeline_id:t}},signal:i});return s&&(0,r.handleError)(s),a}let o=({onSuccess:e,onError:r,...o}={})=>{let l=(0,i.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>n(e),async onSuccess(t,i,a){let{projectRef:r,pipelineId:n}=i;await l.invalidateQueries({queryKey:s.replicationKeys.pipelinesStatus(r,n)}),await e?.(t,i,a)},async onError(e,t,i){void 0===r?a.toast.error(`Failed to stop pipeline: ${e.message}`):r(e,t,i)},...o})};e.s(["useStopPipelineMutation",0,o],167850);var l=e.i(678097);e.s(["useRestartPipelineHelper",0,()=>{let{mutateAsync:e}=o(),{mutateAsync:t}=(0,l.useStartPipelineMutation)();return{restartPipeline:async({projectRef:i,pipelineId:a})=>{try{await e({projectRef:i,pipelineId:a})}catch(e){throw Error(`Failed to stop pipeline: ${e.message}`)}try{await t({projectRef:i,pipelineId:a})}catch(e){throw Error(`Failed to start pipeline: ${e.message}`)}}}}],101680)},572177,e=>{"use strict";var t=e.i(242882),i=e.i(234745),a=e.i(237664);async function r({projectRef:e,pipelineId:t},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("pipelineId is required");let{data:r,error:s}=await (0,i.get)("/platform/replication/{ref}/pipelines/{pipeline_id}/replication-status",{params:{path:{ref:e,pipeline_id:t}},signal:a});return s&&(0,i.handleError)(s),r}e.s(["useReplicationPipelineReplicationStatusQuery",0,({projectRef:e,pipelineId:i},{enabled:s=!0,...n}={})=>(0,t.useQuery)({queryKey:a.replicationKeys.pipelinesReplicationStatus(e,i),queryFn:({signal:t})=>r({projectRef:e,pipelineId:i},t),enabled:s&&void 0!==e&&void 0!==i,...n})])},405641,e=>{"use strict";var t=e.i(478902),i=e.i(774803);e.i(128328);var a=e.i(158639),r=e.i(937942),s=e.i(421126),n=e.i(587433),o=e.i(613580),l=e.i(108151),c=e.i(128678),d=e.i(273144);e.s(["PipelineStatus",0,({pipelineStatus:e,error:u,isLoading:p,isError:f,isSuccess:m,requestStatus:h,pipelineId:y})=>{let{ref:g}=(0,a.useParams)(),{type:x,tooltip:_,label:b}=(()=>{let t=e&&"object"==typeof e&&"name"in e?e.name:void 0,i=(0,c.getPipelineStateMessages)(h,t);switch(h){case s.PipelineStatusRequestStatus.RestartRequested:return{label:"Restarting",type:"loading",tooltip:i.message};case s.PipelineStatusRequestStatus.StartRequested:return{label:"Starting",type:"loading",tooltip:i.message};case s.PipelineStatusRequestStatus.StopRequested:return{label:"Stopping",type:"loading",tooltip:i.message}}if(e&&"object"==typeof e&&"name"in e)switch(e.name){case d.PipelineStatusName.FAILED:return{label:"Failed",type:"failure",tooltip:i.message};case d.PipelineStatusName.STARTING:return{label:"Starting",type:"loading",tooltip:i.message};case d.PipelineStatusName.STARTED:return{label:"Running",type:"success",tooltip:i.message};case d.PipelineStatusName.STOPPED:return{label:"Stopped",type:"idle",tooltip:i.message};case d.PipelineStatusName.STOPPING:return{label:"Stopping",type:"loading",tooltip:i.message};default:return{label:"Unknown",type:"idle",tooltip:i.message}}return{label:"Unknown",type:"idle",tooltip:"Pipeline status is unclear - check logs for details"}})(),v=y?`/project/${g}/logs/replication-logs?f=${encodeURIComponent(JSON.stringify({pipeline_id:y}))}`:`/project/${g}/logs/replication-logs`;return(0,t.jsxs)(t.Fragment,{children:[p&&(0,t.jsx)(l.ShimmeringLoader,{}),f&&(0,t.jsxs)(o.Tooltip,{children:[(0,t.jsx)(o.TooltipTrigger,{children:(0,t.jsx)(n.Badge,{variant:"default",children:"Unknown"})}),(0,t.jsxs)(o.TooltipContent,{side:"bottom",className:"w-64 text-center",children:["Unable to retrieve status: ",u?.message]})]}),m&&(0,t.jsxs)(o.Tooltip,{children:[(0,t.jsx)(o.TooltipTrigger,{asChild:!0,children:(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)(n.Badge,{variant:"failure"===x?"destructive":"warning"===x?"warning":"success"===x?"success":"default",children:b}),"loading"===x&&(0,t.jsx)(i.Loader2,{className:"animate-spin w-3 h-3"})]})}),(0,t.jsxs)(o.TooltipContent,{side:"bottom",children:[_," ",["unknown","failed"].includes(e?.name??"")&&(0,t.jsxs)(t.Fragment,{children:["Check the ",(0,t.jsx)(r.InlineLink,{href:v,children:"logs"})," for more information."]})]})]})]})}])},573715,e=>{"use strict";var t=e.i(154971);e.s(["ArrowUpCircle",()=>t.default])},16324,e=>{"use strict";var t=e.i(478902),i=e.i(355901);e.i(128328);var a=e.i(158639),r=e.i(898202),s=e.i(695734),n=e.i(101680),o=e.i(38429),l=e.i(356003),c=e.i(234745),d=e.i(237664);async function u({projectRef:e,pipelineId:t,versionId:i},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("pipelineId is required");if(!i)throw Error("versionId is required");let{data:r,error:s}=await (0,c.post)("/platform/replication/{ref}/pipelines/{pipeline_id}/version",{params:{path:{ref:e,pipeline_id:t}},body:{version_id:i},signal:a});return s&&(0,c.handleError)(s),r}var p=e.i(88816),f=e.i(421126),m=e.i(925282),h=e.i(774234),y=e.i(554855),g=e.i(253214),x=e.i(466472),_=e.i(128678),b=e.i(273144);e.s(["UpdateVersionModal",0,({visible:e,pipeline:c,confirmLabel:v,confirmLabelLoading:S="Updating",onClose:j})=>{let{ref:w}=(0,a.useParams)(),{setRequestStatus:N}=(0,f.usePipelineRequestStatus)(),{data:R}=(0,r.useReplicationPipelineStatusQuery)({projectRef:w,pipelineId:c?.id},{refetchInterval:b.STATUS_REFRESH_FREQUENCY_MS}),P=R?.status,I=(0,_.getStatusName)(P),E=I===b.PipelineStatusName.STOPPED,{data:k,isPending:A}=(0,s.useReplicationPipelineVersionQuery)({projectRef:w,pipelineId:c?.id}),C=k?.version?.name,T=k?.new_version?.name,{mutateAsync:q}=(({onSuccess:e,onError:t,...a}={})=>{let r=(0,l.useQueryClient)();return(0,o.useMutation)({mutationFn:e=>u(e),async onSuccess(t,i,a){let{projectRef:s,pipelineId:n}=i;await r.invalidateQueries({queryKey:d.replicationKeys.pipelinesVersion(s,n)}),await e?.(t,i,a)},async onError(e,a,s){let{projectRef:n,pipelineId:o}=a;e?.code===404?await r.invalidateQueries({queryKey:d.replicationKeys.pipelinesVersion(n,o)}):void 0===t?i.toast.error(`Failed to update pipeline version: ${e.message}`):t(e,a,s)},...a})})(),{restartPipeline:M}=(0,n.useRestartPipelineHelper)(),L=async()=>{if(!w||!c?.id)return;let e=k?.new_version?.id;if(e){try{await q({projectRef:w,pipelineId:c.id,versionId:e})}catch(e){e?.code;return}if(E)i.toast.success("Pipeline successfully updated");else{N(c.id,f.PipelineStatusRequestStatus.RestartRequested,I);try{await M({projectRef:w,pipelineId:c.id}),i.toast.success("Pipeline successfully updated and is currently restarting")}catch(e){N(c.id,f.PipelineStatusRequestStatus.None),i.toast.error("Failed to restart pipeline")}}j()}};return(0,t.jsxs)(x.default,{size:"small",visible:e,title:"Update pipeline image",className:"!p-0",confirmLabel:v??(E?"Update image":"Update and restart"),confirmLabelLoading:S,onCancel:j,onConfirm:L,children:[(0,t.jsxs)("div",{className:"flex flex-col gap-y-3 py-4 px-5",children:[(0,t.jsx)("p",{className:"text-sm text-foreground",children:"A new pipeline image is available with improvements and bug fixes. Proceed to update?"}),!E&&(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"The pipeline will automatically restart when updating. Replication will continue from where it left off."})]}),(0,t.jsx)(g.DialogSectionSeparator,{}),(0,t.jsxs)(m.Collapsible_Shadcn_,{className:"px-5 py-3 group",children:[(0,t.jsxs)(y.CollapsibleTrigger_Shadcn_,{className:"w-full flex items-center justify-between text-sm text-foreground-light",children:[(0,t.jsx)("p",{children:"View version update details"}),(0,t.jsx)(p.ChevronDown,{size:14,className:"group-data-[state=open]:-rotate-180 transition"})]}),(0,t.jsx)(h.CollapsibleContent_Shadcn_,{children:(0,t.jsxs)("div",{className:"flex flex-col gap-y-2 mt-2 pb-2",children:[(0,t.jsxs)("div",{className:"text-sm text-foreground prose max-w-full",children:[(0,t.jsx)("p",{className:"text-foreground-light mb-1",children:"Current version:"})," ",(0,t.jsx)("code",{className:"text-code-inline",children:A?"Loading...":C??"Unknown"})]}),(0,t.jsxs)("div",{className:"text-sm text-foreground prose max-w-full",children:[(0,t.jsx)("p",{className:"text-foreground-light mb-1",children:"New version:"})," ",(0,t.jsx)("code",{className:"text-code-inline",children:A?"Loading...":T??"Unknown"})]})]})})]})]})}],16324)},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},774186,e=>{e.v(t=>Promise.all(["static/chunks/117b4e5883cfc423.js"].map(t=>e.l(t))).then(()=>t(376359)))},981889,e=>{e.v(t=>Promise.all(["static/chunks/e44cabdf5aea9bff.js"].map(t=>e.l(t))).then(()=>t(242525)))},909495,e=>{e.v(t=>Promise.all(["static/chunks/a74028be2714b496.js","static/chunks/6a98b0d4f7d4de68.js"].map(t=>e.l(t))).then(()=>t(698380)))},548863,e=>{e.v(t=>Promise.all(["static/chunks/4dabd51dc287eb04.js"].map(t=>e.l(t))).then(()=>t(79703)))},283398,e=>{e.v(t=>Promise.all(["static/chunks/b2a02b4f0acaeed3.js"].map(t=>e.l(t))).then(()=>t(541970)))},274794,e=>{e.v(t=>Promise.all(["static/chunks/a6f2e4f57a18b3fa.js","static/chunks/b447e92f5508d14e.js","static/chunks/ff63de120c645bd9.js","static/chunks/4ebc8b0c1458db0d.js"].map(t=>e.l(t))).then(()=>t(571538)))},529471,e=>{e.v(t=>Promise.all(["static/chunks/52e73e85d0ff39cb.js","static/chunks/6a98b0d4f7d4de68.js"].map(t=>e.l(t))).then(()=>t(159380)))},579437,e=>{e.v(t=>Promise.all(["static/chunks/6a98b0d4f7d4de68.js","static/chunks/e85ea05d24259a79.js","static/chunks/106c51b805b396ca.js"].map(t=>e.l(t))).then(()=>t(524943)))},609157,e=>{e.v(t=>Promise.all(["static/chunks/6a98b0d4f7d4de68.js","static/chunks/e85ea05d24259a79.js","static/chunks/044357908874dad4.js"].map(t=>e.l(t))).then(()=>t(323205)))},707643,e=>{e.v(t=>Promise.all(["static/chunks/572be8d9f2715d69.js","static/chunks/f51f176b2997f9cb.js","static/chunks/8449582f8a2ed1ff.js"].map(t=>e.l(t))).then(()=>t(935100)))},467186,e=>{e.v(t=>Promise.all(["static/chunks/827774c913c9fb82.js","static/chunks/6a98b0d4f7d4de68.js"].map(t=>e.l(t))).then(()=>t(6777)))},639206,e=>{e.v(t=>Promise.all(["static/chunks/f09b1e4e628f4841.js","static/chunks/9247ac7f6dadd3c1.js"].map(t=>e.l(t))).then(()=>t(791713)))},500556,e=>{e.v(t=>Promise.all(["static/chunks/9221cae00b5d705a.css","static/chunks/a6f2e4f57a18b3fa.js","static/chunks/ff63de120c645bd9.js","static/chunks/0743fa645ba4d9c0.js","static/chunks/bb3050f238842935.js","static/chunks/c1ed92efdfd83ed9.js","static/chunks/a00b8a7ef880d73a.js","static/chunks/ab4f788f38090b44.js"].map(t=>e.l(t))).then(()=>t(321608)))},596207,e=>{e.v(t=>Promise.all(["static/chunks/6a98b0d4f7d4de68.js","static/chunks/695a43ccfbbcf595.js","static/chunks/f51f176b2997f9cb.js","static/chunks/8449582f8a2ed1ff.js","static/chunks/0d8b6326498b4a19.js"].map(t=>e.l(t))).then(()=>t(865243)))},354946,e=>{e.v(t=>Promise.all(["static/chunks/695a43ccfbbcf595.js","static/chunks/69da42852ae83d09.js","static/chunks/f51f176b2997f9cb.js","static/chunks/8449582f8a2ed1ff.js"].map(t=>e.l(t))).then(()=>t(674412)))},208268,e=>{e.v(t=>Promise.all(["static/chunks/6a98b0d4f7d4de68.js","static/chunks/eec4a9837efac216.js","static/chunks/a46adfb0aea78845.js","static/chunks/31a4e271ee630fd9.js"].map(t=>e.l(t))).then(()=>t(799765)))},98740,e=>{e.v(t=>Promise.all(["static/chunks/4ceeb09826f5dc91.js","static/chunks/eec4a9837efac216.js"].map(t=>e.l(t))).then(()=>t(795776)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/5087b8e95d256e26.js","static/chunks/82dddbda1a808189.js","static/chunks/15e50b9d6c55f00a.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},753940,e=>{e.v(t=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(t=>e.l(t))).then(()=>t(478124)))},724565,e=>{e.v(t=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(t=>e.l(t))).then(()=>t(341546)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/031b0d6330b6fbae.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},926327,e=>{e.v(t=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(t=>e.l(t))).then(()=>t(72947)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},396476,e=>{e.v(t=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(t=>e.l(t))).then(()=>t(62943)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))}]);

//# debugId=b2159eb1-59a2-c4d8-3de3-ccf36d0e114b
//# sourceMappingURL=4085d93700074921.js.map