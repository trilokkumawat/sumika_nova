;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="33387318-4303-4286-d384-6866587211a1")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var t=e.i(478902),r=e.i(710483);let a=({resourceText:e,isFullPage:a=!1})=>{let s=()=>(0,t.jsx)(r.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return a?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-lg",children:(0,t.jsx)(s,{})})}):(0,t.jsx)(s,{})};e.s(["NoPermission",0,a,"default",0,a])},547723,e=>{"use strict";var t=e.i(478902),r=e.i(389959),a=e.i(843778);let s=(0,r.forwardRef)((e,r)=>(0,t.jsx)("nav",{ref:r,dir:"ltr",...e,className:(0,a.cn)("border-b",e.className),children:(0,t.jsx)("ul",{role:"menu",className:"flex gap-5",children:e.children})})),i=(0,r.forwardRef)(({children:e,className:r,active:s,...i},n)=>(0,t.jsx)("li",{ref:n,"aria-selected":s?"true":"false","data-state":s?"active":"inactive",className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap text-sm ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:text-foreground text-foreground-lighter hover:text-foreground data-[state=active]:border-foreground border-b-2 border-transparent *:py-1.5",r),...i,children:e}));e.s(["NavMenu",0,s,"NavMenuItem",0,i])},3259,100387,e=>{"use strict";var t=e.i(478902),r=e.i(153545),a=e.i(933505);e.s(["ChevronRightIcon",()=>a.default],100387);var a=a,s=e.i(389959),i=e.i(843778);let n=s.forwardRef(({...e},r)=>(0,t.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let o=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("ol",{ref:a,className:(0,i.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...r}));o.displayName="BreadcrumbList";let l=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("li",{ref:a,className:(0,i.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...r}));l.displayName="BreadcrumbItem";let c=s.forwardRef(({asChild:e,className:a,...s},n)=>{let o=e?r.Slot:"a";return(0,t.jsx)(o,{ref:n,className:(0,i.cn)("transition-colors underline lg:no-underline hover:text-foreground",a),...s})});c.displayName="BreadcrumbLink";let u=s.forwardRef(({className:e,...r},a)=>(0,t.jsx)("span",{ref:a,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("no-underline text-foreground",e),...r}));u.displayName="BreadcrumbPage";let d=({children:e,className:r,...s})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5 text-foreground-muted",r),...s,children:e??(0,t.jsx)(a.default,{})});d.displayName="BreadcrumbSeparator";let m=({className:e,...r})=>(0,t.jsxs)("span",{className:(0,i.cn)("flex h-4 w-4 items-center justify-center",e),...r,children:[(0,t.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"sr-only",children:"More"})]});m.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>n,"BreadcrumbEllipsis",()=>m,"BreadcrumbItem",()=>l,"BreadcrumbLink",()=>c,"BreadcrumbList",()=>o,"BreadcrumbPage",()=>u,"BreadcrumbSeparator",()=>d],3259)},744061,418638,e=>{"use strict";var t=e.i(478902),r=e.i(938933),a=e.i(843778);function s({children:e,className:r,tag:a="div",style:s}){let i=`${a}`;return(0,t.jsx)(i,{style:s,children:e})}s.Title=function({className:e,level:r=1,children:a,style:s}){let i=`h${r}`;return(0,t.jsx)(i,{style:s,children:a})},s.Text=function({className:e,children:r,style:a,type:s,disabled:i,mark:n,code:o,keyboard:l,underline:c,strikethrough:u,strong:d,small:m}){return o?(0,t.jsx)("code",{style:a,children:r}):n?(0,t.jsx)("mark",{style:a,children:r}):l?(0,t.jsx)("kbd",{style:a,children:r}):d?(0,t.jsx)("strong",{style:a,children:r}):(0,t.jsx)("span",{style:a,children:r})},s.Link=function({children:e,target:r="_blank",href:a,className:s,onClick:i,style:n}){return(0,t.jsx)("a",{onClick:i,href:a,target:r,rel:"noopener noreferrer",style:n,children:e})},e.s(["default",0,s],418638);var i=e.i(389959);let n=(0,i.createContext)({type:"text"}),o=e=>{let{type:r}=e;return(0,t.jsx)(n.Provider,{value:{type:r},children:e.children})},l=()=>{let e=(0,i.useContext)(n);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function c({children:e,className:r,ulClassName:a,style:s,type:i="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:r,style:s,children:(0,t.jsx)(o,{type:i,children:(0,t.jsx)("ul",{className:a,children:e})})})}c.Item=function({children:e,icon:s,active:i,rounded:n,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:u=!1,style:d}){let m=(0,r.default)("menu"),{type:p}=l(),f=[m.item.base];f.push(m.item.variants[p].base),i?f.push(m.item.variants[p].active):f.push(m.item.variants[p].normal);let h=[m.item.content.base];i?h.push(m.item.content.active):h.push(m.item.content.normal);let g=[m.item.icon.base];return i?g.push(m.item.icon.active):g.push(m.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,a.cn)("outline-none",f),style:d,onClick:o,"aria-current":i?"page":void 0,children:[s&&(0,t.jsx)("div",{className:`${g.join(" ")} min-w-fit`,children:s}),(0,t.jsx)("span",{className:h.join(" "),children:e})]})},c.Group=function({children:e,icon:a,title:s}){let i=(0,r.default)("menu"),{type:n}=l();return(0,t.jsxs)("div",{className:[i.group.base,i.group.variants[n]].join(" "),children:[a&&(0,t.jsx)("span",{className:i.group.icon,children:a}),(0,t.jsx)("span",{className:i.group.content,children:s}),e]})},c.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(s.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["default",0,c],744061)},862326,e=>{"use strict";var t=e.i(744061);e.s(["Menu",()=>t.default])},388147,799793,e=>{"use strict";var t=e.i(478902),r=e.i(587433),a=e.i(862326),s=e.i(210419),i=e.i(837710);let n=({item:e,isActive:n,target:o="_self",hoverText:l="",onClick:c})=>{let{name:u="",url:d="",icon:m,rightIcon:p,isExternal:f,label:h,disabled:g}=e,y=(0,t.jsx)(a.Menu.Item,{icon:m,active:n,onClick:c,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:l||("string"==typeof u?u:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:u}),void 0!==h&&(0,t.jsx)(r.Badge,{className:"flex-shrink-0",variant:"new"===h.toLowerCase()?"success":"warning",children:h})]}),p&&(0,t.jsx)("div",{children:p})]})});return g?(0,t.jsx)("div",{className:"opacity-50 pointer-events-none",children:y}):d?f?(0,t.jsx)(i.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:m,children:(0,t.jsx)(s.default,{href:d,target:"_blank",rel:"noreferrer",children:u})}):(0,t.jsx)(s.default,{href:d,className:"block",target:o,children:y}):y};e.s(["ProductMenuItem",0,n],799793),e.s(["ProductMenu",0,({page:e,menu:s})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(a.Menu,{type:"pills",children:s.map((i,o)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(a.Menu.Group,{title:i.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:i.title}),i.isPreview&&(0,t.jsx)(r.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:i.items.map(r=>{let a=r.pages?r.pages.includes(e??""):e===r.key;return(0,t.jsx)(n,{item:r,isActive:a,target:r.isExternal?"_blank":"_self"},r.key)})})]})}),o!==s.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},i.key||i.title))})})],388147)},127739,e=>{"use strict";var t=e.i(478902),r=e.i(709520),a=e.i(389959),s=e.i(843778);let i=(0,r.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),n=(0,a.forwardRef)(({className:e,size:r,...a},n)=>(0,t.jsx)("div",{ref:n,...a,className:(0,s.cn)(i({size:r}),e)}));n.displayName="PageContainer",e.s(["PageContainer",0,n])},456050,e=>{"use strict";var t=e.i(478902),r=e.i(709520),a=e.i(389959),s=e.i(843778),i=e.i(3259),n=e.i(127739);let o=(0,r.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),l=(0,a.createContext)({size:"default"}),c=()=>(0,a.useContext)(l),u=({className:e,size:r,children:a,...i})=>{let n=r??"default";return(0,t.jsx)(l.Provider,{value:{size:n},children:(0,t.jsx)("div",{"data-slot":"page-header","data-size":n,className:(0,s.cn)(o({size:n}),e),...i,children:a})})},d=({className:e,children:r,...a})=>{let{size:o}=c();return(0,t.jsx)(n.PageContainer,{size:o,children:(0,t.jsx)(i.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,s.cn)("flex items-center gap-4 [&_li]:text-xs",e),...a,children:r})})};d.displayName="PageHeaderBreadcrumb";let m=({className:e,...r})=>(0,t.jsx)("div",{"data-slot":"page-header-icon",className:(0,s.cn)("text-foreground-light",e),...r});m.displayName="PageHeaderIcon";let p=({className:e,children:r,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-summary",className:(0,s.cn)("flex flex-col gap-1",e),...a,children:r});p.displayName="PageHeaderSummary";let f=({className:e,children:r,...a})=>(0,t.jsx)("h1",{"data-slot":"page-header-title",className:(0,s.cn)("heading-title",e),...a,children:r}),h=({className:e,children:r,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-description",className:(0,s.cn)("heading-subSection text-foreground-light",e),...a,children:r}),g=({className:e,children:r,...a})=>{let{size:i}=c();return(0,t.jsx)(n.PageContainer,{size:i,children:(0,t.jsx)("div",{"data-slot":"page-header-meta",className:(0,s.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...a,children:r})})};g.displayName="PageHeaderMeta";let y=({className:e,...r})=>(0,t.jsx)("div",{"data-slot":"page-header-actions",className:(0,s.cn)("flex items-center gap-2 shrink-0",e),...r});y.displayName="PageHeaderAside";let x=({className:e,...r})=>{let{size:a}=c();return(0,t.jsx)(n.PageContainer,{size:a,className:(0,s.cn)("full"===a&&"border-b"),children:(0,t.jsx)("div",{"data-slot":"page-header-footer",className:(0,s.cn)("w-full [&>nav]:border-b-0","full"!==a&&"border-b",e),...r})})};x.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>u,"PageHeaderAside",()=>y,"PageHeaderBreadcrumb",()=>d,"PageHeaderDescription",()=>h,"PageHeaderIcon",()=>m,"PageHeaderMeta",()=>g,"PageHeaderNavigationTabs",()=>x,"PageHeaderSummary",()=>p,"PageHeaderTitle",()=>f])},532480,e=>{"use strict";let t=(0,e.i(388019).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["default",()=>t])},460988,e=>{"use strict";var t=e.i(156054),r=e.i(55956),a=e.i(784820),s=e.i(605031),i=e.i(389959);e.i(128328);var n=e.i(86086),o=e.i(884892),l=e.i(857054),c=e.i(993394);let u=e=>r.default.utc(Number(e)/1e3).toISOString(),d=e=>{let t=16===String(e).length;return!Number.isNaN(Number(e))&&t},m=(e,t)=>Object.keys(e).filter(t=>e[t]).flatMap(r=>{let a=t?`${t}.${r}`:r;return"object"==typeof e[r]?m(e[r],a):[a]}),p=(e,t)=>{let r=Object.keys(t),s=c.SQL_FILTER_TEMPLATES[e],i=e=>{let r=s[e],i=(0,a.default)(t,e);if(void 0!==i&&"function"==typeof r)return r(i);if(void 0===r)if("string"==typeof i)return`${e} = '${i}'`;else return`${e} = ${i}`;return void 0===i&&"function"==typeof r?null:r&&!1===i?null:r},n=r.map(e=>{if(void 0===t[e]||"string"==typeof t[e]&&0===t[e].length)return null;if("object"==typeof t[e]){let r=m(t[e],e).map(i).filter(Boolean);return r.length>0?`(${r.join(" or ")})`:null}{let t=i(e);return null===t?null:`(${t})`}}).filter(Boolean).join(" and ");return n?"where "+n:""},f=e=>{switch(e){case"edge_logs":return`cross join unnest(metadata) as m
  cross join unnest(m.request) as request
  cross join unnest(m.response) as response`;case"pg_cron_logs":case"postgres_logs":return`cross join unnest(metadata) as m
  cross join unnest(m.parsed) as parsed`;case"function_logs":case"auth_logs":return"cross join unnest(metadata) as metadata";case"function_edge_logs":return`cross join unnest(metadata) as m
  cross join unnest(m.response) as response
  cross join unnest(m.request) as request`;case"supavisor_logs":return"cross join unnest(metadata) as m";default:return""}},h=n.IS_PLATFORM?"where ( parsed.application_name = 'pg_cron' or regexp_contains(event_message, 'cron job') )":"where ( parsed.application_name = 'pg_cron' or event_message::text LIKE '%cron job%' )",g=e=>{let t=e.reduce((e,t)=>{let r=y(t);return e[r]+=1,e},{second:0,minute:0,hour:0,day:0});return Object.keys(t).reduce((e,r)=>t[e]>t[r]?e:r)},y=e=>({0:"second",1:"minute",2:"hour",3:"day"})[["second","minute","hour"].map(t=>e.get(t)).reduce((e,t)=>(0===t&&(e+=1),e),0)];function x(e){let t=e.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//gm,"");return/\b(WITH)\b(?=(?:[^']*'[^']*')*[^']*$)/i.test(t)}function v(e){let t=e.replace(/--.*$/gm,"").replace(/\/\*[\s\S]*?\*\//gm,"");return/\b(ILIKE)\b(?=(?:[^']*'[^']*')*[^']*$)/i.test(t)}function b(e){let t=e?.[0]?.request?.[0]?.sb?.[0]?.jwt?.[0]?.apikey?.[0];if(!t)return;if(t.invalid)return"<invalid>";let r=t?.payload?.[0];return r&&"HS256"===r.algorithm&&"supabase"===r.issuer&&["anon","service_role"].includes(r.role)&&!r.subject?r.role:"<unrecognized>"}function _(e){let t=e?.[0]?.request?.[0]?.sb?.[0]?.apikey?.[0]?.apikey?.[0];if(t)return t.error?`${t.prefix}... <invalid: ${t.error}>`:`${t.prefix}...`}function j(e){let t=e?.[0]?.request?.[0]?.sb?.[0]?.jwt?.[0]?.authorization?.[0];if(!t||t.invalid)return;let r=t?.payload?.[0];if(r&&r.role)return r.role}e.s(["apiKey",()=>_,"checkForILIKEClause",()=>v,"checkForWithClause",()=>x,"fillTimeseries",0,(e,t,a,s,i,n,o=20,l)=>{let c;if(0===e.length&&!(i&&n))return[];if(e.length>o)return e.map(e=>{let a=e[t],s=d(a)?u(a):r.default.utc(a).toISOString();return e[t]=s,e});if(e.length<=1&&!(i&&n))return e;let m=e.map(e=>r.default.utc(e[t])),p=n?r.default.utc(n):r.default.utc(Math.max.apply(null,m)),f=i?r.default.utc(i):r.default.utc(Math.min.apply(null,m)),h=e.length>0?m:[f,p],y=1;if(l){let e=l.match(/^(\d+)(m|h|d|s)$/);e?(y=parseInt(e[1],10),c=({s:"second",m:"minute",h:"hour",d:"day"})[e[2]]):c=g(h)}else c=g(h);0!==e.length||l||(c="minute");let x=e.map(e=>{let s=e[t],i=d(s)?u(s):r.default.utc(s).toISOString();return Array.isArray(a)&&0===a.length?{[t]:i}:(e[t]=i,e)}),v=f;for(;v.isBefore(p)||v.isSame(p);){if(!m.find(e=>e.year()===v.year()&&e.month()===v.month()&&e.date()===v.date()&&e.hour()===v.hour()&&e.minute()===v.minute()&&e.second()===v.second())){let e=("string"==typeof a?[a]:a).reduce((e,t)=>({...e,[t]:s}),{});x.push({[t]:v.toISOString(),...e})}v=v.add(y,c)}return x},"genChartQuery",0,(e,t,a)=>{let s,i,n,o,l,u,[d,m]=(s=t.iso_timestamp_end?(0,r.default)(t.iso_timestamp_end):(0,r.default)(),i=t.iso_timestamp_start?(0,r.default)(t.iso_timestamp_start):(0,r.default)(),n="minute",o=360,l=s.diff(i,"minute"),u=s.diff(i,"hour"),l>720?(n="hour",o=120):u>72&&(n="day",o=7),[i.add(-o,n),n]),g=p(e,a),y=function(e){switch(e){case"edge_logs":case"function_edge_logs":return"response.status_code >= 500";case"postgres_logs":case"pg_cron_logs":return"parsed.error_severity IN ('ERROR', 'FATAL', 'PANIC')";case"auth_logs":return"metadata.level = 'error' OR SAFE_CAST(metadata.status AS INT64) >= 400";case"function_logs":return"metadata.level IN ('error', 'fatal')";default:return"false"}}(e),x=function(e){switch(e){case"edge_logs":case"function_edge_logs":return"response.status_code >= 400 AND response.status_code < 500";case"postgres_logs":return"parsed.error_severity IN ('WARNING')";case"auth_logs":return"metadata.level = 'warning'";case"function_logs":return"metadata.level IN ('warning')";default:return"false"}}(e);e===c.LogsTableName.PG_CRON&&(e=c.LogsTableName.POSTGRES,g=h);let v=f(e);return`
SELECT
-- log-event-chart
  timestamp_trunc(t.timestamp, ${m}) as timestamp,
  count(CASE WHEN NOT (${y} OR ${x}) THEN 1 END) as ok_count,
  count(CASE WHEN ${y} THEN 1 END) as error_count,
  count(CASE WHEN ${x} THEN 1 END) as warning_count,
FROM
  ${e} t
  ${v}
  ${g?g+` and t.timestamp > '${d.toISOString()}'`:`where t.timestamp > '${d.toISOString()}'`}
GROUP BY
timestamp
ORDER BY
  timestamp ASC
  `},"genCountQuery",0,(e,t)=>{let r=p(e,t);e===c.LogsTableName.PG_CRON&&(e=c.LogsTableName.POSTGRES,r=h);let a=f(e);return`SELECT count(*) as count FROM ${e} ${a} ${r}`},"genDefaultQuery",0,(e,t,r=100)=>{let a=p(e,t),s=f(e),i="order by timestamp desc";switch(e){case"edge_logs":if(!n.IS_PLATFORM)return`
-- local dev edge_logs query
select id, edge_logs.timestamp, event_message, request.method, request.path, request.search, response.status_code
from edge_logs
${s}
${a}
${i}
limit ${r};
`;return`select id, identifier, timestamp, event_message, request.method, request.path, request.search, response.status_code
  from ${e}
  ${s}
  ${a}
  ${i}
  limit ${r}
  `;case"postgres_logs":if(!n.IS_PLATFORM)return`
select postgres_logs.timestamp, id, event_message, parsed.error_severity, parsed.detail, parsed.hint
from postgres_logs
${s}
${a}
${i}
limit ${r}
  `;return`select identifier, postgres_logs.timestamp, id, event_message, parsed.error_severity, parsed.detail, parsed.hint from ${e}
  ${s}
  ${a}
  ${i}
  limit ${r}
  `;case"function_logs":return`select id, ${e}.timestamp, event_message, metadata.event_type, metadata.function_id, metadata.level from ${e}
  ${s}
  ${a}
  ${i}
  limit ${r}
    `;case"auth_logs":return`select id, ${e}.timestamp, event_message, metadata.level, metadata.status, metadata.path, metadata.msg as msg, metadata.error from ${e}
  ${s}
  ${a}
  ${i}
  limit ${r}
    `;case"function_edge_logs":if(!n.IS_PLATFORM)return`
select id, function_edge_logs.timestamp, event_message
from function_edge_logs
${i}
limit ${r}
`;return`select id, ${e}.timestamp, event_message, response.status_code, request.method, m.function_id, m.execution_time_ms, m.deployment_id, m.version from ${e}
  ${s}
  ${a}
  ${i}
  limit ${r}
  `;case"supavisor_logs":return`select id, ${e}.timestamp, event_message from ${e} ${s} ${a} ${i} limit ${r}`;case"pg_upgrade_logs":return`select id, ${e}.timestamp, event_message from ${e} ${s} ${a} ${i} limit 100`;default:return`select id, ${e}.timestamp, event_message from ${e}
  ${a}
  ${i}
  limit ${r}
  `;case"pg_cron_logs":let o=a?`${h} AND ${a.substring(6)}`:h;return`select id, postgres_logs.timestamp, event_message, parsed.error_severity, parsed.query
from postgres_logs
${s}
${o}
${i}
limit ${r}
`}},"genSingleLogQuery",0,(e,t)=>`select id, timestamp, event_message, metadata from ${e} where id = '${t}' limit 1`,"isDefaultLogPreviewFormat",0,e=>e&&e.timestamp&&e.event_message&&e.id,"isUnixMicro",0,d,"jwtAPIKey",()=>b,"maybeShowUpgradePrompt",0,(e,t)=>{let a=Math.abs((0,r.default)().diff((0,r.default)(e),"day"));return a>1&&"free"===t||a>7&&"pro"===t||a>28&&"team"===t||a>90&&"enterprise"===t},"maybeShowUpgradePromptIfNotEntitled",0,(e,t)=>!!t&&Math.abs((0,r.default)().diff((0,r.default)(e),"day"))>t,"role",()=>j,"unixMicroToIsoTimestamp",0,u,"useEditorHints",0,()=>{let e=(0,t.useMonaco)();(0,i.useEffect)(()=>{if(e){let t=e.languages.registerCompletionItemProvider("pgsql",{triggerCharacters:["`"," ","."],provideCompletionItems:function(t,r,a){let i=new o.default(t,r.column-2,r.lineNumber-1);if(i.isNextDQuote())return{suggestions:[]};let n=[],c=l.default.schemas.filter(e=>i._text.includes(e.reference));if(0===c.length&&(c=l.default.schemas),i.isNextPeriod()){let t=c.flatMap(e=>e.fields).flatMap(e=>{let[t,...r]=e.path.split(".");return r}).map(t=>({label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}));n=n.concat(t)}if("`"===a.triggerCharacter||" "===a.triggerCharacter){let t=l.default.schemas.map(t=>({label:t.reference,kind:e.languages.CompletionItemKind.Class,insertText:t.reference})),r=c.flatMap(e=>e.fields).flatMap(e=>e.path.split(".").slice(0,-1)).map(t=>({label:t,kind:e.languages.CompletionItemKind.Property,insertText:t}));n=(n=n.concat(r)).concat(t)}return{suggestions:(0,s.default)(n,"label")}}});return()=>{t.dispose()}}},[e])}])},993394,e=>{"use strict";var t,r=e.i(55956),a=e.i(10429);e.i(128328);var s=e.i(86086);let i=`${a.DOCS_URL}/guides/platform/logs#querying-with-the-logs-explorer`,n=[{label:"Recent Errors",mode:"simple",searchString:"[Ee]rror|\\s[45][0-9][0-9]\\s",for:["api"]},{label:"Commits",mode:"simple",searchString:"COMMIT",for:["database"]},{label:"Commits By User",description:"Count of commits made by users on the database",mode:"custom",searchString:`select
  p.user_name,
  count(*) as count
from postgres_logs
  left join unnest(metadata) as m on true
  left join unnest(m.parsed) as p on true
where
  regexp_contains(event_message, 'COMMIT')
group by
  p.user_name
  `,for:["database"]},{label:"Metadata IP",description:"List all IP addresses that used the Supabase API",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  h.x_real_ip
from edge_logs
  left join unnest(metadata) as m on true
  left join unnest(m.request) as r on true
  left join unnest(r.headers) as h on true
where h.x_real_ip is not null
`,for:["api"]},{label:"Requests by Geography",description:"List all ISO 3166-1 alpha-2 country codes that used the Supabase API",mode:"custom",searchString:`select
  cf.country,
  count(*) as count
from edge_logs
  left join unnest(metadata) as m on true
  left join unnest(m.request) as r on true
  left join unnest(r.cf) as cf on true
group by
  cf.country
order by
  count desc
`,for:["api"]},{label:"Slow Response Time",mode:"custom",description:"List all Supabase API requests that are slow",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message,
  r.origin_time
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.response) as r
where
  r.origin_time > 1000
order by
  timestamp desc
limit 100
`,for:["api"]},{label:"500 Request Codes",description:"List all Supabase API requests that responded witha 5XX status code",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message,
  r.status_code
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.response) as r
where
  r.status_code >= 500
order by
  timestamp desc
limit 100
`,for:["api"]},{label:"Top Paths",description:"List the most requested Supabase API paths",mode:"custom",searchString:`select
  r.path as path,
  r.search as params,
  count(timestamp) as c
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.request) as r
group by
  path,
  params
order by
  c desc
limit 100
`,for:["api"]},{label:"REST Requests",description:"List all PostgREST requests",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.request) as r
where
  path like '%rest/v1%'
order by
  timestamp desc
limit 100
`,for:["api"]},{label:"Errors",description:"List all Postgres error messages with ERROR, FATAL, or PANIC severity",mode:"custom",searchString:`select
  cast(t.timestamp as datetime) as timestamp,
  p.error_severity,
  event_message
from postgres_logs as t
  cross join unnest(metadata) as m
  cross join unnest(m.parsed) as p
where
  p.error_severity in ('ERROR', 'FATAL', 'PANIC')
order by
  timestamp desc
limit 100
`,for:["database"]},{label:"Error Count by User",description:"Count of errors by users",mode:"custom",searchString:`select
  count(t.timestamp) as count,
  p.user_name,
  p.error_severity
from postgres_logs as t
  cross join unnest(metadata) as m
  cross join unnest(m.parsed) as p
where
  p.error_severity in ('ERROR', 'FATAL', 'PANIC')
group by
  p.user_name,
  p.error_severity
order by
  count desc
limit 100
`,for:["database"]},{label:"Auth Endpoint Events",description:"Endpoint events filtered by path",mode:"custom",searchString:`select
  t.timestamp,
  event_message
from auth_logs as t
where
  regexp_contains(event_message,"level.{3}(info|warning||error|fatal)")
  -- and regexp_contains(event_message,"path.{3}(/token|/recover|/signup|/otp)")
limit 100
`,for:["database"]},{label:"Auth Audit Logs",description:"Audit logs for auth events",mode:"custom",searchString:`select
  cast(timestamp as datetime) as timestamp,
  event_message, metadata 
from auth_audit_logs 
limit 10
`,for:["database"]},{label:"Storage Object Requests",description:"Number of requests done on Storage Objects",mode:"custom",searchString:`select
  r.method as http_verb,
  r.path as filepath,
  count(*) as num_requests
from edge_logs
  cross join unnest(metadata) as m
  cross join unnest(m.request) AS r
  cross join unnest(r.headers) AS h
where
  path like '%storage/v1/object/%'
group by
  r.path, r.method
order by
  num_requests desc
limit 100
`,for:["api"]},{label:"Storage Egress Requests",description:"Check the number of requests done on Storage Affecting Egress",mode:"custom",searchString:`select
  request.method as http_verb,
  request.path as filepath,
  (responseHeaders.cf_cache_status = 'HIT') as cached,
  count(*) as num_requests
from
  edge_logs
  cross join unnest(metadata) as metadata
  cross join unnest(metadata.request) as request
  cross join unnest(metadata.response) as response
  cross join unnest(response.headers) as responseHeaders
where
  (path like '%storage/v1/object/%' or path like '%storage/v1/render/%')
  and request.method = 'GET'
group by 1, 2, 3
order by num_requests desc
limit 100;
`,for:["api"]},{label:"Storage Top Cache Misses",description:"The top Storage requests that miss caching",mode:"custom",searchString:`select
  r.path as path,
  r.search as search,
  count(id) as count
from edge_logs f
  cross join unnest(f.metadata) as m
  cross join unnest(m.request) as r
  cross join unnest(m.response) as res
  cross join unnest(res.headers) as h
where starts_with(r.path, '/storage/v1/object')
  and r.method = 'GET'
  and h.cf_cache_status in ('MISS', 'NONE/UNKNOWN', 'EXPIRED', 'BYPASS', 'DYNAMIC')
group by path, search
order by count desc
limit 100;
`,for:["api"]}],o={search_query:e=>`regexp_contains(event_message, '${e}')`},l={postgres_logs:{...o,database:e=>`identifier = '${e}'`,"severity.error":"parsed.error_severity in ('ERROR', 'FATAL', 'PANIC')","severity.noError":"parsed.error_severity not in ('ERROR', 'FATAL', 'PANIC')","severity.log":"parsed.error_severity = 'LOG'"},edge_logs:{...o,database:e=>`identifier = '${e}'`,"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499","product.database":"request.path like '/rest/%' or request.path like '/graphql/%'","product.storage":"request.path like '/storage/%'","product.auth":"request.path like '/auth/%'","product.realtime":"request.path like '/realtime/%'","method.get":"request.method = 'GET'","method.post":"request.method = 'POST'","method.put":"request.method = 'PUT'","method.patch":"request.method = 'PATCH'","method.delete":"request.method = 'DELETE'","method.options":"request.method = 'OPTIONS'"},function_edge_logs:{...o,"status_code.error":"response.status_code between 500 and 599","status_code.success":"response.status_code between 200 and 299","status_code.warning":"response.status_code between 400 and 499"},function_logs:{...o,"severity.error":"metadata.level = 'error'","severity.notError":"metadata.level != 'error'","severity.log":"metadata.level = 'log'","severity.info":"metadata.level = 'info'","severity.debug":"metadata.level = 'debug'","severity.warn":"metadata.level = 'warn'"},auth_logs:{...o,"severity.error":"metadata.level = 'error' or metadata.level = 'fatal'","severity.warning":"metadata.level = 'warning'","severity.info":"metadata.level = 'info'","status_code.server_error":"cast(metadata.status as int64) between 500 and 599","status_code.client_error":"cast(metadata.status as int64) between 400 and 499","status_code.redirection":"cast(metadata.status as int64) between 300 and 399","status_code.success":"cast(metadata.status as int64) between 200 and 299","endpoints.admin":'REGEXP_CONTAINS(metadata.path, "/admin")',"endpoints.signup":'REGEXP_CONTAINS(metadata.path, "/signup|/invite|/verify")',"endpoints.authentication":'REGEXP_CONTAINS(metadata.path, "/token|/authorize|/callback|/otp|/magiclink")',"endpoints.recover":'REGEXP_CONTAINS(metadata.path, "/recover")',"endpoints.user":'REGEXP_CONTAINS(metadata.path, "/user")',"endpoints.logout":'REGEXP_CONTAINS(metadata.path, "/logout")'},realtime_logs:{...o},storage_logs:{...o},postgrest_logs:{...o,database:e=>`identifier = '${e}'`},pgbouncer_logs:{...o},supavisor_logs:{...o,database:e=>`m.project like '${e}%'`},pg_upgrade_logs:{...o},pg_cron_logs:{...o},etl_replication_logs:{...o,pipeline_id:e=>`pipeline_id = ${e}`}};var c=((t={}).EDGE="edge_logs",t.POSTGRES="postgres_logs",t.FUNCTIONS="function_logs",t.FN_EDGE="function_edge_logs",t.AUTH="auth_logs",t.AUTH_AUDIT="auth_audit_logs",t.REALTIME="realtime_logs",t.STORAGE="storage_logs",t.POSTGREST="postgrest_logs",t.SUPAVISOR="supavisor_logs",t.PGBOUNCER="pgbouncer_logs",t.PG_UPGRADE="pg_upgrade_logs",t.PG_CRON="pg_cron_logs",t.ETL="etl_replication_logs",t);let u={postgres_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events with ERROR, PANIC, or FATAL"},{key:"noError",label:"No Error",description:"Show all non-error events"},{key:"log",label:"Log",description:"Show all events that are log severity"}]}},edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]},product:{label:"Product",key:"product",options:[{key:"database",label:"Database",description:""},{key:"auth",label:"Auth",description:""},{key:"storage",label:"Storage",description:""},{key:"realtime",label:"Realtime",description:""}]},method:{label:"Method",key:"method",options:[{key:"get",label:"GET",description:""},{key:"options",label:"OPTIONS",description:""},{key:"put",label:"PUT",description:""},{key:"post",label:"POST",description:""},{key:"patch",label:"PATCH",description:""},{key:"delete",label:"DELETE",description:""}]}},...s.IS_PLATFORM?{function_edge_logs:{status_code:{label:"Status",key:"status_code",options:[{key:"error",label:"Error",description:"500 error codes"},{key:"success",label:"Success",description:"200 codes"},{key:"warning",label:"Warning",description:"400 codes"}]}}}:{},function_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:'Show all events that are "error" severity'},{key:"warn",label:"Warning",description:'Show all events that are "warn" severity'},{key:"info",label:"Info",description:'Show all events that are "info" severity'},{key:"debug",label:"Debug",description:'Show all events that are "debug" severity'},{key:"log",label:"Log",description:'Show all events that are "log" severity'}]}},auth_logs:{severity:{label:"Severity",key:"severity",options:[{key:"error",label:"Error",description:"Show all events that have error or fatal severity"},{key:"warning",label:"Warning",description:"Show all events that have warning severity"},{key:"info",label:"Info",description:"Show all events that have info severity"}]},status_code:{label:"Status Code",key:"status_code",options:[{key:"server_error",label:"Server Error",description:"Show all requests with 5XX status code"},{key:"client_error",label:"Client Error",description:"Show all requests with 4XX status code"},{key:"redirection",label:"Redirection",description:"Show all requests that have 3XX status code"},{key:"success",label:"Success",description:"Show all requests that have 2XX status code"}]},endpoints:{label:"Endpoints",key:"endpoints",options:[{key:"admin",label:"Admin",description:"Show all admin requests"},{key:"signup",label:"Sign up",description:"Show all signup and authorization requests"},{key:"recover",label:"Password Recovery",description:"Show all password recovery requests"},{key:"authentication",label:"Authentication",description:"Show all authentication flow requests (login, otp, and Oauth2)"},{key:"user",label:"User",description:"Show all user data requests"},{key:"logout",label:"Logout",description:"Show all logout requests"}]}}},d=[{text:"Last 15 minutes",calcFrom:()=>(0,r.default)().subtract(15,"minute").toISOString(),calcTo:()=>""},{text:"Last 30 minutes",calcFrom:()=>(0,r.default)().subtract(30,"minute").toISOString(),calcTo:()=>""},{text:"Last hour",calcFrom:()=>(0,r.default)().subtract(1,"hour").toISOString(),calcTo:()=>"",default:!0},{text:"Last 3 hours",calcFrom:()=>(0,r.default)().subtract(3,"hour").toISOString(),calcTo:()=>""},{text:"Last 24 hours",calcFrom:()=>(0,r.default)().subtract(1,"day").toISOString(),calcTo:()=>""},{text:"Last 2 days",calcFrom:()=>(0,r.default)().subtract(2,"day").toISOString(),calcTo:()=>""},{text:"Last 3 days",calcFrom:()=>(0,r.default)().subtract(3,"day").toISOString(),calcTo:()=>""},{text:"Last 5 days",calcFrom:()=>(0,r.default)().subtract(5,"day").toISOString(),calcTo:()=>""}],m=[{text:"Last hour",calcFrom:()=>(0,r.default)().subtract(1,"hour").toISOString(),calcTo:()=>"",default:!0},{text:"Last 3 hours",calcFrom:()=>(0,r.default)().subtract(3,"hour").toISOString(),calcTo:()=>""},{text:"Last 24 hours",calcFrom:()=>(0,r.default)().subtract(1,"day").toISOString(),calcTo:()=>""},{text:"Last 3 days",calcFrom:()=>(0,r.default)().subtract(3,"day").toISOString(),calcTo:()=>""},{text:"Last 7 days",calcFrom:()=>(0,r.default)().subtract(7,"day").toISOString(),calcTo:()=>""}];e.s(["EXPLORER_DATEPICKER_HELPERS",0,m,"FILTER_OPTIONS",0,u,"LOGS_EXPLORER_DOCS_URL",0,i,"LOGS_LARGE_DATE_RANGE_DAYS_THRESHOLD",0,2,"LOGS_SOURCE_DESCRIPTION",0,{edge_logs:"Logs obtained from the network edge, containing all API requests",postgres_logs:"Database logs obtained directly from Postgres",function_logs:"Function logs generated from runtime execution",function_edge_logs:"Function call logs, containing the request and response",auth_logs:"Errors, warnings, and performance details from the auth service",auth_audit_logs:"Audit records of user signups, logins, and account changes",realtime_logs:"Realtime server for Postgres logical replication broadcasting",storage_logs:"Object storage logs",postgrest_logs:"RESTful API web server logs",supavisor_logs:"Shared connection pooler logs for PostgreSQL",pgbouncer_logs:"Dedicated connection pooler for PostgreSQL",pg_upgrade_logs:"Logs generated by the Postgres version upgrade process",pg_cron_logs:"Postgres logs from pg_cron cron jobs",etl_replication_logs:"Logs from the replication process"},"LOGS_TABLES",0,{api:"edge_logs",database:"postgres_logs",functions:"function_logs",fn_edge:"function_edge_logs",auth:"auth_logs",realtime:"realtime_logs",storage:"storage_logs",postgrest:"postgrest_logs",supavisor:"supavisor_logs",pg_upgrade:"pg_upgrade_logs",pg_cron:"postgres_logs",pgbouncer:"pgbouncer_logs",etl:"etl_replication_logs"},"LOG_ROUTES_WITH_REPLICA_SUPPORT",0,["/project/[ref]/logs/edge-logs","/project/[ref]/logs/pooler-logs","/project/[ref]/logs/postgres-logs","/project/[ref]/logs/postgrest-logs"],"LogsTableName",()=>c,"PREVIEWER_DATEPICKER_HELPERS",0,d,"SQL_FILTER_TEMPLATES",0,l,"TEMPLATES",0,n,"TIER_QUERY_LIMITS",0,{FREE:{text:"1 day",value:1,unit:"day",promptUpgrade:!0},PRO:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},PAYG:{text:"7 days",value:7,unit:"day",promptUpgrade:!0},TEAM:{text:"28 days",value:28,unit:"day",promptUpgrade:!0},ENTERPRISE:{text:"90 days",value:90,unit:"day",promptUpgrade:!1},PLATFORM:{text:"1 day",value:1,unit:"day",promptUpgrade:!1}},"getDefaultHelper",0,e=>e.find(e=>e.default)||e[0]])},884892,e=>{"use strict";let t=class{_line;_text;_lines;model;offset;lineNumber;constructor(e,t,r){this.model=e,this.offset=t,this.lineNumber=r,this._text=e.getValue(),this._lines=this._text.split(/\r?\n/g),this._line=this._lines[r]}hasNext(){return this.lineNumber>=0||this.offset>=0}isFowardDQuote(){return!!this.hasForward()&&34===this.peekForward()}isNextDQuote(){return!!this.hasNext()&&34===this.peekNext()}isNextPeriod(){return!!this.hasNext()&&46===this.peekNext()}peekNext(){return this.offset<0?10*(this.lineNumber>0):this._line.charCodeAt(this.offset)}hasForward(){return this.lineNumber<this._lines.length||this.offset<this._line.length}peekForward(){return this.offset===this._line.length?10*(this.lineNumber!==this._lines.length):this._line.charCodeAt(this.offset+1)}next(){if(this.offset<0)return this.lineNumber>0?(this.lineNumber--,this._line=this._lines[this.lineNumber],this.offset=this._line.length-1,10):(this.lineNumber=-1,0);let e=this._line.charCodeAt(this.offset);return this.offset--,e}readArguments(){let e=0,t=0,r=0,a=0;for(;this.hasNext();){let s=this.next();switch(s){case 40:if(--e<0)return a;break;case 41:e++;break;case 123:r--;break;case 125:r++;break;case 91:t--;break;case 93:t++;break;case 34:case 39:for(;this.hasNext()&&s!==this.next(););break;case 44:!e&&!t&&!r&&a++}}return -1}readIdent(){let e=!1,t=!1,r="";for(;this.hasNext();){let a=this.peekNext();if(e&&!t&&!this._isIdentPart(a))break;if(a=this.next(),!e&&t&&34===a){e=!0;continue}if(e||32!==a&&9!==a&&10!=a){if(!e&&(34===a||this._isIdentPart(a)))e=!0,t=34===a,r=String.fromCharCode(a)+r;else if(e)if(t){if(0===a||(r=String.fromCharCode(a)+r,34===a))break}else r=String.fromCharCode(a)+r}}return r}readIdents(e){let t=[];for(;e>0;){e--;let r=this.readIdent();if(!r||(t.push(r),!this.isNextPeriod()))break}return t.reverse()}_isIdentPart(e){return 95===e||e>=97&&e<=122||e>=65&&e<=90||e>=48&&e<=57}};e.s(["default",0,t])},520124,e=>{"use strict";var t=e.i(460988),r=e.i(389959);e.s(["useFillTimeseriesSorted",0,e=>{let{data:a,timestampKey:s,valueKey:i,defaultValue:n,startDate:o,endDate:l,minPointsToFill:c=20,interval:u}=e;return(0,r.useMemo)(()=>{var e;if(!a[0]?.[s])return{data:a,error:null,isError:!1};try{return{data:(e=(0,t.fillTimeseries)(a,s,i,n,o,l,c,u),[...e].sort((e,t)=>new Date(e[s]).getTime()-new Date(t[s]).getTime())),error:null,isError:!1}}catch(e){return{data:[],error:e instanceof Error?e:Error(String(e)),isError:!0}}},[JSON.stringify(a),s,JSON.stringify(i),n,o,l,c,u])}])},510334,e=>{"use strict";function t(e){return e?e.split("T")[0]:e}e.s(["analyticsKeys",0,{functionsCombinedStats:(e,{interval:t,functionId:r})=>["projects",e,"functions-combined-stats",{interval:t,functionId:r}],functionsInvStats:(e,{interval:t,functionId:r})=>["projects",e,"functions-inv-stats",{interval:t,functionId:r}],functionsReqStats:(e,{interval:t,functionId:r})=>["projects",e,"functions-req-stats",{interval:t,functionId:r}],functionsResourceUsage:(e,{interval:t,functionId:r})=>["projects",e,"functions-resource-usage",{interval:t,functionId:r}],orgDailyStats:(e,{startDate:r,endDate:a,projectRef:s})=>["organizations",e,"daily-stats",{startDate:t(r),endDate:t(a),projectRef:s}],infraMonitoring:(e,{attribute:t,startDate:r,endDate:a,interval:s,databaseIdentifier:i})=>["projects",e,"infra-monitoring",{attribute:t,startDate:r,endDate:a,interval:s,databaseIdentifier:i}],infraMonitoringGroup:(e,{attributes:t,startDate:r,endDate:a,interval:s,databaseIdentifier:i})=>["projects",e,"infra-monitoring","group",{attributes:t?[...t].sort():void 0,startDate:r,endDate:a,interval:s,databaseIdentifier:i}],usageApiCounts:(e,t)=>["projects",e,"usage.api-counts",t],usageApiRequestsCount:e=>["projects",e,"usage.api-requests-count"]}])},903805,e=>{"use strict";var t=e.i(389959),r=e.i(197649),a=e.i(791576),s=e.i(837574),i=e.i(638375),n=e.i(736912),o=e.i(870217),l=e.i(822574),c=e.i(818369),u=e.i(113939),d=e.i(557385),m=e.i(143109),p=e.i(129405),f=e.i(767799),h=e.i(447958),g=e.i(877591),y=["layout","type","stroke","connectNulls","isRange","ref"],x=["key"];function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){if(null==e)return{};var r,a,s=function(e,t){if(null==e)return{};var r={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;r[a]=e[a]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function _(){return(_=Object.assign.bind()).apply(this,arguments)}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){P(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function N(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,C(a.key),a)}}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(k=function(){return!!e})()}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function A(e,t){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function P(e,t,r){return(t=C(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C(e){var t=function(e,t){if("object"!=v(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,t||"default");if("object"!=v(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==v(t)?t:t+""}var E=function(e){var u,p;function h(){var e,t,r;if(!(this instanceof h))throw TypeError("Cannot call a class as a function");for(var a=arguments.length,i=Array(a),n=0;n<a;n++)i[n]=arguments[n];return t=h,r=[].concat(i),t=w(t),P(e=function(e,t){if(t&&("object"===v(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,k()?Reflect.construct(t,r||[],w(this).constructor):t.apply(this,r)),"state",{isAnimationFinished:!0}),P(e,"id",(0,f.uniqueId)("recharts-area-")),P(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),(0,s.default)(t)&&t()}),P(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),(0,s.default)(t)&&t()}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return h.prototype=Object.create(e&&e.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),e&&A(h,e),u=[{key:"renderDots",value:function(e,r,a){var s=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(s&&!i)return null;var n=this.props,o=n.dot,l=n.points,c=n.dataKey,u=(0,g.filterProps)(this.props,!1),m=(0,g.filterProps)(o,!0),p=l.map(function(e,t){var r=S(S(S({key:"dot-".concat(t),r:3},u),m),{},{index:t,cx:e.x,cy:e.y,dataKey:c,value:e.value,payload:e.payload,points:l});return h.renderDotItem(o,r)}),f={clipPath:e?"url(#clipPath-".concat(r?"":"dots-").concat(a,")"):null};return t.default.createElement(d.Layer,_({className:"recharts-area-dots"},f),p)}},{key:"renderHorizontalRect",value:function(e){var r=this.props,a=r.baseLine,s=r.points,n=r.strokeWidth,o=s[0].x,l=s[s.length-1].x,c=e*Math.abs(o-l),u=(0,i.default)(s.map(function(e){return e.y||0}));return((0,f.isNumber)(a)&&"number"==typeof a?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max((0,i.default)(a.map(function(e){return e.y||0})),u)),(0,f.isNumber)(u))?t.default.createElement("rect",{x:o<l?o:o-c,y:0,width:c,height:Math.floor(u+(n?parseInt("".concat(n),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var r=this.props,a=r.baseLine,s=r.points,n=r.strokeWidth,o=s[0].y,l=s[s.length-1].y,c=e*Math.abs(o-l),u=(0,i.default)(s.map(function(e){return e.x||0}));return((0,f.isNumber)(a)&&"number"==typeof a?u=Math.max(a,u):a&&Array.isArray(a)&&a.length&&(u=Math.max((0,i.default)(a.map(function(e){return e.x||0})),u)),(0,f.isNumber)(u))?t.default.createElement("rect",{x:0,y:o<l?o:o-c,width:u+(n?parseInt("".concat(n),10):1),height:Math.floor(c)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,r,a,s){var i=this.props,n=i.layout,o=i.type,l=i.stroke,u=i.connectNulls,m=i.isRange,p=(i.ref,b(i,y));return t.default.createElement(d.Layer,{clipPath:a?"url(#clipPath-".concat(s,")"):null},t.default.createElement(c.Curve,_({},(0,g.filterProps)(p,!0),{points:e,connectNulls:u,type:o,baseLine:r,layout:n,stroke:"none",className:"recharts-area-area"})),"none"!==l&&t.default.createElement(c.Curve,_({},(0,g.filterProps)(this.props,!1),{className:"recharts-area-curve",layout:n,type:o,connectNulls:u,fill:"none",points:e})),"none"!==l&&m&&t.default.createElement(c.Curve,_({},(0,g.filterProps)(this.props,!1),{className:"recharts-area-curve",layout:n,type:o,connectNulls:u,fill:"none",points:r})))}},{key:"renderAreaWithAnimation",value:function(e,r){var s=this,i=this.props,l=i.points,c=i.baseLine,u=i.isAnimationActive,m=i.animationBegin,p=i.animationDuration,h=i.animationEasing,g=i.animationId,y=this.state,x=y.prevPoints,v=y.prevBaseLine;return t.default.createElement(a.default,{begin:m,duration:p,isActive:u,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var i=a.t;if(x){var u,m=x.length/l.length,p=l.map(function(e,t){var r=Math.floor(t*m);if(x[r]){var a=x[r],s=(0,f.interpolateNumber)(a.x,e.x),n=(0,f.interpolateNumber)(a.y,e.y);return S(S({},e),{},{x:s(i),y:n(i)})}return e});return u=(0,f.isNumber)(c)&&"number"==typeof c?(0,f.interpolateNumber)(v,c)(i):(0,n.default)(c)||(0,o.default)(c)?(0,f.interpolateNumber)(v,0)(i):c.map(function(e,t){var r=Math.floor(t*m);if(v[r]){var a=v[r],s=(0,f.interpolateNumber)(a.x,e.x),n=(0,f.interpolateNumber)(a.y,e.y);return S(S({},e),{},{x:s(i),y:n(i)})}return e}),s.renderAreaStatically(p,u,e,r)}return t.default.createElement(d.Layer,null,t.default.createElement("defs",null,t.default.createElement("clipPath",{id:"animationClipPath-".concat(r)},s.renderClipRect(i))),t.default.createElement(d.Layer,{clipPath:"url(#animationClipPath-".concat(r,")")},s.renderAreaStatically(l,c,e,r)))})}},{key:"renderArea",value:function(e,t){var r=this.props,a=r.points,s=r.baseLine,i=r.isAnimationActive,n=this.state,o=n.prevPoints,c=n.prevBaseLine,u=n.totalLength;return i&&a&&a.length&&(!o&&u>0||!(0,l.default)(o,a)||!(0,l.default)(c,s))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,s,e,t)}},{key:"render",value:function(){var e,a=this.props,s=a.hide,i=a.dot,o=a.points,l=a.className,c=a.top,u=a.left,p=a.xAxis,f=a.yAxis,h=a.width,y=a.height,x=a.isAnimationActive,v=a.id;if(s||!o||!o.length)return null;var b=this.state.isAnimationFinished,_=1===o.length,j=(0,r.default)("recharts-area",l),S=p&&p.allowDataOverflow,N=f&&f.allowDataOverflow,k=S||N,w=(0,n.default)(v)?this.id:v,A=null!=(e=(0,g.filterProps)(i,!1))?e:{r:3,strokeWidth:2},P=A.r,C=A.strokeWidth,E=((0,g.hasClipDot)(i)?i:{}).clipDot,T=void 0===E||E,O=2*(void 0===P?3:P)+(void 0===C?2:C);return t.default.createElement(d.Layer,{className:j},S||N?t.default.createElement("defs",null,t.default.createElement("clipPath",{id:"clipPath-".concat(w)},t.default.createElement("rect",{x:S?u:u-h/2,y:N?c:c-y/2,width:S?h:2*h,height:N?y:2*y})),!T&&t.default.createElement("clipPath",{id:"clipPath-dots-".concat(w)},t.default.createElement("rect",{x:u-O/2,y:c-O/2,width:h+O,height:y+O}))):null,_?null:this.renderArea(k,w),(i||_)&&this.renderDots(k,T,w),(!x||b)&&m.LabelList.renderCallByParent(this.props,o))}}],p=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],u&&N(h.prototype,u),p&&N(h,p),Object.defineProperty(h,"prototype",{writable:!1}),h}(t.PureComponent);P(E,"displayName","Area"),P(E,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!p.Global.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),P(E,"getBaseValue",function(e,t,r,a){var s=e.layout,i=e.baseValue,n=t.props.baseValue,o=null!=n?n:i;if((0,f.isNumber)(o)&&"number"==typeof o)return o;var l="horizontal"===s?a:r,c=l.scale.domain();if("number"===l.type){var u=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return"dataMin"===o?d:"dataMax"===o||u<0?u:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===o?c[0]:"dataMax"===o?c[1]:c[0]}),P(E,"getComposedData",function(e){var t,r=e.props,a=e.item,s=e.xAxis,i=e.yAxis,n=e.xAxisTicks,o=e.yAxisTicks,l=e.bandSize,c=e.dataKey,u=e.stackedData,d=e.dataStartIndex,m=e.displayedData,p=e.offset,f=r.layout,g=u&&u.length,y=E.getBaseValue(r,a,s,i),x="horizontal"===f,v=!1,b=m.map(function(e,t){g?r=u[d+t]:Array.isArray(r=(0,h.getValueByDataKey)(e,c))?v=!0:r=[y,r];var r,a=null==r[1]||g&&null==(0,h.getValueByDataKey)(e,c);return x?{x:(0,h.getCateCoordinateOfLine)({axis:s,ticks:n,bandSize:l,entry:e,index:t}),y:a?null:i.scale(r[1]),value:r,payload:e}:{x:a?null:s.scale(r[1]),y:(0,h.getCateCoordinateOfLine)({axis:i,ticks:o,bandSize:l,entry:e,index:t}),value:r,payload:e}});return t=g||v?b.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return x?{x:e.x,y:null!=t&&null!=e.y?i.scale(t):null}:{x:null!=t?s.scale(t):null,y:e.y}}):x?i.scale(y):s.scale(y),S({points:b,baseLine:t,layout:f,isRange:v},p)}),P(E,"renderDotItem",function(e,a){var i;if(t.default.isValidElement(e))i=t.default.cloneElement(e,a);else if((0,s.default)(e))i=e(a);else{var n=(0,r.default)("recharts-area-dot","boolean"!=typeof e?e.className:""),o=a.key,l=b(a,x);i=t.default.createElement(u.Dot,_({},l,{key:o,className:n}))}return i}),e.s(["Area",()=>E])},604499,e=>{"use strict";var t=e.i(478902),r=e.i(17203),a=e.i(382490),s=e.i(271226);e.i(128328);var i=e.i(158639),n=e.i(368315),o=e.i(837710),l=e.i(787902),c=e.i(613580),u=e.i(843778);e.s(["default",0,e=>{let d=(0,s.useRouter)(),{ref:m}=(0,i.useParams)();return(0,t.jsxs)(n.default,{noMargin:!0,noHideOverflow:!0,className:(0,u.cn)("pb-0",e.className),wrapWithLoading:!1,children:[(0,t.jsxs)(n.default.Content,{className:(0,u.cn)("space-y-4",e.contentClassName),children:[(0,t.jsxs)("div",{className:(0,u.cn)("flex flex-row items-start justify-between",e.headerClassName),children:[(0,t.jsxs)("div",{className:"gap-2",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,t.jsx)("h3",{className:"w-full h-6",children:e.title})," ",e?.tooltip&&(0,t.jsxs)(c.Tooltip,{children:[(0,t.jsx)(c.TooltipTrigger,{children:(0,t.jsx)(a.HelpCircle,{className:"text-foreground-light",size:14,strokeWidth:1.5})}),(0,t.jsx)(c.TooltipContent,{side:"bottom",children:e.tooltip})]})]}),(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:e.description})]}),e.params&&(0,t.jsxs)(c.Tooltip,{children:[(0,t.jsx)(c.TooltipTrigger,{asChild:!0,children:(0,t.jsx)(o.Button,{type:"default",icon:(0,t.jsx)(r.ExternalLink,{}),className:"px-1",onClick:()=>{let t="db"===e.queryType,r=t?`/project/${m}/sql/new`:`/project/${m}/logs/explorer`,a={};t?a.content=e.resolvedSql:(a.q=e.params?.sql,a.its=e.params?.iso_timestamp_start||"",a.ite=e.params?.iso_timestamp_end||""),d.push({pathname:r,query:a})}})}),(0,t.jsx)(c.TooltipContent,{side:"left",children:"db"===e.queryType?"Open in SQL Editor":"Open in Logs Explorer"})]})]}),(0,t.jsx)(l.Loading,{active:e.isLoading,children:void 0===e.data?null:e.renderer({...e,router:d,projectRef:m})})]}),e.append&&(0,t.jsx)(t.Fragment,{children:e.append({...e,...e.appendProps||{},router:d,projectRef:m})})]})}])},586030,(e,t,r)=>{var a=e.r(567265),s=e.r(189014);t.exports=function(e,t){return e&&e.length?s(e,a(t,2)):0}},870152,e=>{"use strict";var t=e.i(532480);e.s(["InfoIcon",()=>t.default])},150401,e=>{"use strict";var t=e.i(389959);let r="supabase-chart-hover-sync-enabled",a="supabase-chart-tooltip-sync-enabled",s={hoveredIndex:null,hoveredChart:null,syncHover:!0,syncTooltip:!0},i=new Set;try{{let e=localStorage.getItem(r),t=localStorage.getItem(a);null!==e&&(s.syncHover=JSON.parse(e)),null!==t&&(s.syncTooltip=JSON.parse(t))}}catch(e){console.warn("Failed to load chart sync settings from localStorage:",e)}function n(e){let t=s;if(s={...s,...e},void 0!==e.syncHover)try{localStorage.setItem(r,JSON.stringify(s.syncHover))}catch(e){console.warn("Failed to save chart hover sync setting to localStorage:",e)}if(void 0!==e.syncTooltip)try{localStorage.setItem(a,JSON.stringify(s.syncTooltip))}catch(e){console.warn("Failed to save chart tooltip sync setting to localStorage:",e)}JSON.stringify(t)!==JSON.stringify(s)&&i.forEach(e=>e(s))}function o(e){let[r,a]=(0,t.useState)(s);(0,t.useEffect)(()=>{let e=e=>{a(e)};return i.add(e),()=>{i.delete(e)}},[]);let o=(0,t.useCallback)(t=>{s.syncHover?n({hoveredIndex:t,hoveredChart:null!==t?e:null}):a(r=>({...r,hoveredIndex:t,hoveredChart:null!==t?e:null}))},[e]),l=(0,t.useCallback)(()=>{s.syncHover?n({hoveredIndex:null,hoveredChart:null}):a(e=>({...e,hoveredIndex:null,hoveredChart:null}))},[]),c=(0,t.useCallback)(e=>{n({syncHover:e,...!1===e&&{syncTooltip:!1}})},[]),u=(0,t.useCallback)(e=>{n({syncTooltip:e,...!0===e&&{syncHover:!0}})},[]),d=r.hoveredChart===e,m=r.syncHover&&null!==r.hoveredChart&&!d;return{hoveredIndex:m||d?r.hoveredIndex:null,syncHover:r.syncHover,syncTooltip:r.syncTooltip,hoveredChart:r.hoveredChart,setHover:o,clearHover:l,setSyncHover:c,setSyncTooltip:u,isHovered:null!==r.hoveredIndex&&(d||m),isCurrentChart:d}}e.s(["useChartHoverState",()=>o])},744507,526038,282237,940336,e=>{"use strict";var t=e.i(102291);e.s(["BarChartIcon",()=>t.default],744507);var r=e.i(388019);let a=(0,r.default)("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);e.s(["GitCommitHorizontalIcon",()=>a],526038);let s=(0,r.default)("SquareTerminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]);e.s(["SquareTerminal",()=>s],282237);var i=e.i(478902),n=e.i(55956),o=e.i(389959),l=e.i(751883),c=e.i(834869);let u=e=>String(e).includes("."),d=(e,t)=>{if(0===t)return String(Math.round(e));let r=1/Math.pow(10,t);if(e>0&&e<r)return`<${r.toFixed(t)}`;if(e<0&&e>-r)return`>-${r.toFixed(t)}`;if(!u(e))return e.toLocaleString()+"."+"0".repeat(t);{let[r,a]=String(e).split(".");return Number(r).toLocaleString()+"."+a.slice(0,t)}};e.s(["formatPercentage",0,(e,t=2)=>{if(1e-6>Math.abs(e-100))return"100%";if(Number.isInteger(e))return`${e}%`;let r=d(e,t);if(r.startsWith("<")||r.startsWith(">"))return`${r}%`;if(r.includes(".")){let[e,a=""]=r.split(".");return`${e}.${a.padEnd(t,"0")}%`}return`${r}%`},"numberFormatter",0,(e,t=2)=>u(e)?d(e,t):e.toLocaleString(),"precisionFormatter",0,d,"timestampFormatter",0,(e,t=c.DateTimeFormats.FULL,r=!1)=>r?n.default.utc(e).format(t):(0,n.default)(e).format(t),"useChartSize",0,(e="normal",t={tiny:76,small:96,normal:160,large:280})=>{let r=t[e];return{Container:(0,o.useMemo)(()=>({className:e,children:t})=>(0,i.jsx)(l.ResponsiveContainer,{className:e,height:r,minHeight:r,width:"100%",children:t}),[e]),minHeight:r}},"useStacked",0,({data:e,xAxisKey:t,yAxisKey:r,stackKey:a,variant:s="values"})=>{let i=(0,o.useMemo)(()=>e?Object.entries(e.reduce((e,s)=>{let i=s[t],n=s[r],o=s[a];return e[i]||(e[i]={}),e[i][o]=n,e},{})).map(([e,r])=>({...r,[t]:Number.isNaN(Number(e))?e:Number(e)})):[],[JSON.stringify(e)]),n=(0,o.useMemo)(()=>Object.keys(i[0]||{}).filter(e=>e!==t&&e!==r).sort(),[JSON.stringify(i[0]||{})]),l=(0,o.useMemo)(()=>{if("percentages"===s)return i.map(e=>{let t=Object.entries(e),r=t.filter(([e,t])=>n.includes(e)).reduce((e,[t,r])=>e+r,0);return t.reduce((e,[t,a])=>n.includes(t)?{...e,[t]:0!==a?a/r:0}:{...e,[t]:a},{})})},[JSON.stringify(i)]);return{dataKeys:n,stackedData:i,percentagesStackedData:l}}],940336)},414833,682679,e=>{"use strict";var t=e.i(478902),r=e.i(536068),a=e.i(843778);e.i(128328);var s=e.i(158639),i=e.i(215312),n=e.i(55956),o=e.i(48189),l=e.i(787845),c=e.i(744507),u=e.i(526038),d=e.i(870152),m=e.i(282237),p=e.i(210419),f=e.i(389959),h=e.i(587433),g=e.i(252387),y=e.i(940336),x=e.i(150401);let v=({format:e,highlightedValue:r,highlightedLabel:v,hideHighlightedValue:b=!1,hideHighlightedLabel:_=!1,hideHighlightArea:j=!1,title:S,minimalHeader:N=!1,hideChartType:k=!1,chartStyle:w="bar",onChartStyleChange:A,showMaxValue:P=!1,setShowMaxValue:C,docsUrl:E,syncId:T,data:O,xAxisKey:I,yAxisKey:L,xAxisIsDate:R=!0,displayDateInUtc:$,customDateFormat:M,valuePrecision:D=2,shouldFormatBytes:F=!1,isNetworkChart:q=!1,attributes:H,sql:B,titleTooltip:U,showNewBadge:K})=>{let{ref:z}=(0,s.useParams)(),{hoveredIndex:G,isHovered:V}=(0,x.useChartHoverState)(T||"default"),[W,X]=(0,f.useState)(r),[Q,Y]=(0,f.useState)(v);(0,f.useEffect)(()=>{if(T&&null!==G&&V&&O&&I&&L){let e=O[G];if(e){let t=e[L];if(H&&H.length>1){let r=H?.filter(e=>e.omitFromTotal||e.isMaxValue||"reference-line"===e.provider)?.map(e=>e.attribute)??[];t=Object.entries(e).filter(([e,t])=>"number"==typeof t&&"timestamp"!==e&&"period_start"!==e&&!r.includes(e)&&H.some(t=>t.attribute===e&&!1!==t.enabled)).reduce((e,[t,r])=>e+r,0)}X(t);let r=v;if(R&&e[I]){let t;r=(t=e[I],$?(0,n.default)(t).utc():(0,n.default)(t)).format(M||"YYYY-MM-DD HH:mm:ss")}else e[I]&&(r=e[I]);Y(r)}}else X(r),Y(v)},[G,V,T,O,I,L,R,$,M,r,v,H]);let J=(0,t.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,t.jsx)("h3",{className:"text-foreground-lighter "+(N?"text-xs":"text-sm"),children:S}),U&&(0,t.jsx)(g.InfoTooltip,{children:U})]}),E&&(0,t.jsx)(i.ButtonTooltip,{type:"text",className:"px-1",asChild:!0,tooltip:{content:{side:"top",text:"Read docs"}},children:(0,t.jsx)(p.default,{href:E,target:"_blank",children:(0,t.jsx)(d.InfoIcon,{className:"w-4 h-4 text-foreground-lighter"})})})]}),Z=(0,t.jsx)("h4",{className:`text-foreground text-xl font-normal ${N?"text-base":"text-2xl"}`,children:void 0!==W&&(t=>{if("number"!=typeof t)return t;if("function"==typeof e)return e(t);if(F){let e=q?Math.abs(t):t;return(0,o.formatBytes)(e,D)}if("%"===e)return(0,y.formatPercentage)(t,D);let r=(0,y.numberFormatter)(t,D);return"string"==typeof e&&e?`${r} ${e}`:r})(W)}),ee=(0,t.jsx)("h4",{className:"text-foreground-lighter text-xs",children:Q});if(N)return(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-row items-center gap-x-4",j&&"hidden"),style:{minHeight:"1.8rem"},children:[S&&J,(0,t.jsxs)("div",{className:"flex flex-row items-baseline gap-x-2",children:[void 0!==r&&!b&&Z,!_&&ee]})]});let et=void 0!==r&&!b;return(0,t.jsxs)("div",{className:(0,a.cn)("flex-grow flex justify-between items-start min-h-16",j&&"hidden"),children:[(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[S&&J,K&&(0,t.jsx)(h.Badge,{variant:"success",children:"New"})]}),(0,t.jsxs)("div",{className:"h-4",children:[et&&Z,!_&&ee]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[B?(0,t.jsx)(i.ButtonTooltip,{type:"default",className:"px-1.5",asChild:!0,tooltip:{content:{side:"top",text:"Open in Log Explorer"}},children:(0,t.jsx)(p.default,{href:`/project/${z}/logs/explorer?q=${encodeURIComponent(B)}`,children:(0,t.jsx)(m.SquareTerminal,{className:"w-4 h-4 text-foreground-lighter"})})}):null,!k&&A&&(0,t.jsx)(i.ButtonTooltip,{type:"default",className:"px-1.5",icon:"bar"===w?(0,t.jsx)(l.Activity,{}):(0,t.jsx)(c.BarChartIcon,{}),onClick:()=>A("bar"===w?"line":"bar"),tooltip:{content:{side:"top",text:`View as ${"bar"===w?"line chart":"bar chart"}`}}}),C&&(0,t.jsx)(i.ButtonTooltip,{type:P?"default":"dashed",className:"px-1.5",icon:(0,t.jsx)(u.GitCommitHorizontalIcon,{className:P?"text-foreground-light":"text-foreground-lighter"}),onClick:()=>C(!P),tooltip:{content:{side:"top",text:`${P?"Hide":"Show"} limit`}}})]})]})};e.s(["ChartHeader",0,v],682679),e.s(["default",0,({attribute:e,message:s="No data to show",description:i,format:n,className:o="",size:l,isFullHeight:c=!1,titleTooltip:u,hideTotalPlaceholder:d=!1})=>{let{minHeight:m}=(0,y.useChartSize)(l);return(0,t.jsxs)("div",{className:(0,a.cn)(c&&"h-full"),children:[void 0!==e&&(0,t.jsx)(v,{title:e,format:n,highlightedValue:d?void 0:0,titleTooltip:u}),(0,t.jsxs)("div",{className:(0,a.cn)("border-control flex flex-grow w-full flex-col items-center justify-center space-y-2 border border-dashed text-center",c&&"h-full",o),style:{minHeight:m+20},children:[(0,t.jsx)(r.BarChart2,{size:20,className:"text-border-stronger"}),(0,t.jsxs)("div",{className:"px-1",children:[(0,t.jsx)("p",{className:"text-foreground-light text-xs",children:s}),i&&(0,t.jsx)("p",{className:"text-foreground-lighter text-xs",children:i})]})]})]})}],414833)},189014,(e,t,r)=>{t.exports=function(e,t){for(var r,a=-1,s=e.length;++a<s;){var i=t(e[a]);void 0!==i&&(r=void 0===r?i:r+i)}return r}},92092,e=>{"use strict";var t=e.i(948610),r=e.i(903805),a=e.i(214765),s=e.i(941327),i=e.i(451711),n=(0,t.generateCategoricalChart)({chartName:"AreaChart",GraphicalChild:r.Area,axisComponents:[{axisType:"xAxis",AxisComp:a.XAxis},{axisType:"yAxis",AxisComp:s.YAxis}],formatAxisMap:i.formatAxisMap});e.s(["AreaChart",()=>n])},863562,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},858551,(e,t,r)=>{var a=e.r(453660),s=e.r(42465),i=e.r(567265);t.exports=function(e,t){return e&&e.length?a(e,i(t,2),s):void 0}},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function r(e,t={}){let{maxDepth:a=3,redaction:s="[REDACTED]",truncationNotice:i="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=t,o=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),l=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function u(e){let t=e;for(let{re:e}of l)t=t.replace(e,s);return t}function d(e){return o.has(String(e).toLowerCase())}return e.map(e=>(function e(t,r){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return u(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(r>=a)return i;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let a=[];c.set(t,a);for(let s=0;s<t.length;s++)a[s]=e(t[s],r+1);return a}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let a={};for(let[i,n]of(c.set(t,a),Object.entries(t)))d(i)?a[i]=s:a[i]=e(n,r+1);return a}if(t instanceof Map){let a=[];for(let[i,n]of(c.set(t,a),t.entries())){let t=d(i)?s:e(i,r+1),o=d(i)?s:e(n,r+1);a.push([t,o])}return a}if(t instanceof Set){let a=[];for(let s of(c.set(t,a),t.values()))a.push(e(s,r+1));return a}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:u(t.message),stack:i};return c.set(t,e),e}try{return u(String(t))}catch{return u(Object.prototype.toString.call(t))}}return u(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>r,"sanitizeUrlHashParams",()=>t])},536942,e=>{"use strict";var t=e.i(478902),r=e.i(55956),a=e.i(389959),s=e.i(151675),i=e.i(30772),n=e.i(942032),o=e.i(831266),l=e.i(625198),c=e.i(214765),u=e.i(682679),d=e.i(834869),m=e.i(940336),p=e.i(414833),f=e.i(150401);e.s(["default",0,({size:e,data:h,xAxisKey:g,stackKey:y,yAxisKey:x,customDateFormat:v=d.DateTimeFormats.FULL,title:b,highlightedValue:_,highlightedLabel:j,format:S,minimalHeader:N=!1,valuePrecision:k,onBarClick:w,variant:A,xAxisFormatAsDate:P=!0,displayDateInUtc:C,hideLegend:E=!1,hideHeader:T=!1,stackColors:O=d.DEFAULT_STACK_COLORS,syncId:I})=>{let L,{Container:R}=(0,m.useChartSize)(e),{hoveredIndex:$,syncTooltip:M,setHover:D,clearHover:F}=(0,f.useChartHoverState)(I||"default"),{dataKeys:q,stackedData:H,percentagesStackedData:B}=(0,m.useStacked)({data:h,xAxisKey:g,stackKey:y,yAxisKey:x,variant:A}),[U,K]=(0,a.useState)(null),z=null!==U&&h&&void 0!==h[U]&&(L=h[U][g],C?(0,r.default)(L).utc():(0,r.default)(L)).format(v)||j,G=null!==U?h[U]?.[x]:_;if(!h||0===h.length)return(0,t.jsx)(p.default,{description:"It may take up to 24 hours for data to refresh",size:e,attribute:b,format:S});let V=(0,d.genStackColorScales)(O);return(0,t.jsxs)("div",{className:"w-full",children:[!T&&(0,t.jsx)(u.ChartHeader,{title:b,format:S,customDateFormat:v,minimalHeader:N,highlightedValue:"number"==typeof G?(0,m.numberFormatter)(G,k):G,highlightedLabel:z,syncId:I,data:h,xAxisKey:g,yAxisKey:x,xAxisIsDate:P,displayDateInUtc:C,valuePrecision:k,attributes:[]}),(0,t.jsx)(R,{children:(0,t.jsxs)(i.BarChart,{data:"percentages"===A?B:H,margin:{top:20,right:20,left:20,bottom:5},className:"cursor-pointer overflow-visible",onMouseMove:e=>{e.activeTooltipIndex!==U&&K(e.activeTooltipIndex),D(e.activeTooltipIndex)},onMouseLeave:()=>{K(null),F()},children:[!E&&(0,t.jsx)(o.Legend,{wrapperStyle:{top:-6,fontSize:"0.8rem"},iconSize:8,iconType:"circle",verticalAlign:"top"}),(0,t.jsx)(c.XAxis,{dataKey:g,interval:h.length-2,angle:0,tick:!1,axisLine:{stroke:d.CHART_COLORS.AXIS},tickLine:{stroke:d.CHART_COLORS.AXIS}}),q.map((e,r)=>(0,t.jsx)(s.Bar,{dataKey:e,type:"monotone",legendType:"circle",fill:V[r].base,stackId:1,animationDuration:300,maxBarSize:48,className:w?"cursor-pointer":"",children:H?.map((e,r)=>(0,t.jsx)(n.Cell,{className:"transition-all duration-300",opacity:U===r?.85:1},`cell-${r}`))},r)),(0,t.jsx)(l.Tooltip,{labelFormatter:P?e=>(0,m.timestampFormatter)(e,v,C):void 0,formatter:(e,t,r)=>{let a=S||"";if("percentages"===A&&B){let s=H[B.findIndex(e=>e===r.payload)][t],i=(0,m.precisionFormatter)(100*Number(e),1)+"%";return`${i} (${s}${a})`}return String(e)+a},cursor:!1,labelClassName:"text-white",contentStyle:{backgroundColor:"#444444",borderColor:"#444444",fontSize:"12px"},wrapperClassName:"bg-gray-600 rounded min-w-md",active:!!I&&M&&null!==$})]})}),H&&H[0]&&(0,t.jsxs)("div",{className:"text-foreground-lighter -mt-5 flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{children:(0,m.timestampFormatter)(H[0][g],v,C)}),(0,t.jsx)("span",{children:(0,m.timestampFormatter)(H[H?.length-1][g],v,C)})]})]})}])},580492,e=>{"use strict";var t=e.i(478902),r=e.i(55956),a=e.i(389959),s=e.i(903805),i=e.i(92092),n=e.i(625198),o=e.i(214765),l=e.i(150401),c=e.i(834869),u=e.i(682679),d=e.i(940336),m=e.i(414833);e.s(["default",0,({data:e,yAxisKey:p,xAxisKey:f,format:h,customDateFormat:g=c.DateTimeFormats.FULL,title:y,highlightedValue:x,highlightedLabel:v,displayDateInUtc:b,minimalHeader:_,className:j="",valuePrecision:S,size:N="normal",syncId:k})=>{let w,{Container:A}=(0,d.useChartSize)(N),{hoveredIndex:P,syncTooltip:C,setHover:E,clearHover:T}=(0,l.useChartHoverState)(k||"default"),[O,I]=(0,a.useState)(null),L=null!==O&&e&&void 0!==e[O]&&(w=e[O][f],b?(0,r.default)(w).utc():(0,r.default)(w)).format(g)||v,R=null!==O?e[O]?.[p]:x;return 0===e.length?(0,t.jsx)(m.default,{description:"It may take up to 24 hours for data to refresh",size:N,className:j,attribute:y,format:h}):(0,t.jsxs)("div",{className:["flex flex-col gap-3",j].join(" "),children:[(0,t.jsx)(u.ChartHeader,{title:y,format:h,customDateFormat:g,highlightedValue:"number"==typeof R?(0,d.numberFormatter)(R,S):R,highlightedLabel:L,minimalHeader:_,syncId:k,data:e,xAxisKey:f,yAxisKey:p,xAxisIsDate:!0,displayDateInUtc:b,valuePrecision:S,attributes:[]}),(0,t.jsx)(A,{children:(0,t.jsxs)(i.AreaChart,{data:e,margin:{top:0,right:0,left:0,bottom:0},className:"overflow-visible",onMouseMove:e=>{e.activeTooltipIndex!==O&&I(e.activeTooltipIndex),E(e.activeTooltipIndex)},onMouseLeave:()=>{I(null),T()},children:[(0,t.jsx)("defs",{children:(0,t.jsxs)("linearGradient",{id:"colorUv",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,t.jsx)("stop",{offset:"5%",stopColor:c.CHART_COLORS.GREEN_1,stopOpacity:.8}),(0,t.jsx)("stop",{offset:"95%",stopColor:c.CHART_COLORS.GREEN_1,stopOpacity:0})]})}),(0,t.jsx)(o.XAxis,{dataKey:f,interval:e.length-2,angle:0,tick:!1,axisLine:{stroke:c.CHART_COLORS.AXIS},tickLine:{stroke:c.CHART_COLORS.AXIS}}),(0,t.jsx)(n.Tooltip,{content:a=>k&&C&&null!==P?(0,t.jsxs)("div",{className:"bg-black/90 text-white p-2 rounded text-xs",children:[(0,t.jsx)("div",{className:"font-medium",children:(0,r.default)(e[P]?.[f]).format(g)}),(0,t.jsxs)("div",{children:[(0,d.numberFormatter)(Number(e[P]?.[p])||0,S),h]})]}):null}),(0,t.jsx)(s.Area,{type:"monotone",dataKey:p,stroke:c.CHART_COLORS.GREEN_1,fillOpacity:1,fill:"url(#colorUv)"})]})}),e&&(0,t.jsxs)("div",{className:"text-foreground-lighter -mt-8 flex items-center justify-between text-xs",children:[(0,t.jsx)("span",{children:(0,r.default)(e[0][f]).format(g)}),(0,t.jsx)("span",{children:(0,r.default)(e[e?.length-1]?.[f]).format(g)})]})]})}])},726712,(e,t,r)=>{var a=e.r(189014),s=0/0;t.exports=function(e,t){var r=null==e?0:e.length;return r?a(e,t)/r:s}},796629,(e,t,r)=>{var a=e.r(567265),s=e.r(726712);t.exports=function(e,t){return s(e,a(t,2))}},388097,e=>{"use strict";var t=e.i(478902),r=e.i(902858);e.i(128328);var a=e.i(158639),s=e.i(657588),i=e.i(604499),n=e.i(448710),o=e.i(780990),l=e.i(580492),c=e.i(536942),u=e.i(693241),d=e.i(242882),m=e.i(234745),p=e.i(510334);async function f({projectRef:e,functionId:t,interval:r},a){if(!e)throw Error("projectRef is required");if(!t)throw Error("functionId is required");if(!r)throw Error("interval is required");let{data:s,error:i}=await (0,m.get)("/platform/projects/{ref}/analytics/endpoints/functions.combined-stats",{params:{path:{ref:e},query:{function_id:t,interval:r}},signal:a});return i&&(0,m.handleError)(i),s}var h=e.i(445547),g=e.i(55956),y=e.i(520124),x=e.i(2579),v=e.i(858551),b=e.i(796629),_=e.i(586030),j=e.i(271226),S=e.i(389959),N=e.i(206413),k=e.i(592360),w=e.i(178527),A=e.i(837710),P=e.i(877555),C=e.i(127739),E=e.i(228027);let T=[{key:"15min",label:"15 min",startValue:15,startUnit:"minute",format:"MMM D, h:mm:ssa"},{key:"1hr",label:"1 hour",startValue:1,startUnit:"hour",format:"MMM D, h:mma"},{key:"3hr",label:"3 hours",startValue:3,startUnit:"hour",format:"MMM D, h:mma"},{key:"1day",label:"1 day",startValue:1,startUnit:"hour",format:"MMM D, h:mma"}],O=()=>{let e=(0,j.useRouter)(),{ref:n,functionSlug:o}=(0,a.useParams)(),m=(0,s.useFlag)("newEdgeFunctionOverviewCharts"),[O,I]=(0,S.useState)("15min"),L=T.find(e=>e.key===O)||T[1],{data:R}=(0,h.useEdgeFunctionQuery)({projectRef:n,slug:o}),$=(({projectRef:e,functionId:t,interval:r},{enabled:a=!0,...s}={})=>(0,d.useQuery)({queryKey:p.analyticsKeys.functionsCombinedStats(e,{functionId:t,interval:r}),queryFn:({signal:a})=>f({projectRef:e,functionId:t,interval:r},a),enabled:a&&void 0!==e&&void 0!==t&&void 0!==r,...s}))({projectRef:n,functionId:R?.id,interval:L.key}),M=(0,S.useMemo)(()=>$.data?.result||[],[$.data]),[D,F]=(0,S.useMemo)(()=>[(0,g.default)().subtract(L.startValue,L.startUnit).startOf(L.startUnit),(0,g.default)().startOf(L.startUnit)],[L]),{data:q,error:H,isError:B}=(0,y.useFillTimeseriesSorted)({data:M,timestampKey:"timestamp",valueKey:["requests_count","log_count","log_info_count","log_warn_count","log_error_count","success_count","redirect_count","client_err_count","server_err_count","avg_cpu_time_used","avg_memory_used","avg_execution_time","max_execution_time","avg_heap_memory_used","avg_external_memory_used","max_cpu_time_used"],defaultValue:0,startDate:D.toISOString(),endDate:F.toISOString()}),{isLoading:U,can:K}=(0,x.useAsyncCheckPermissions)(r.PermissionAction.FUNCTIONS_READ,o);return K||U?(0,t.jsx)(C.PageContainer,{size:"full",children:(0,t.jsx)(E.PageSection,{children:(0,t.jsxs)(E.PageSectionContent,{children:[(0,t.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-4",children:[(0,t.jsx)("div",{className:"flex items-center",children:T.map((e,r)=>{let a=[];return 0===r?a.push("rounded-tr-none rounded-br-none"):r===T.length-1?a.push("rounded-tl-none rounded-bl-none"):a.push("rounded-none"),(0,t.jsx)(A.Button,{type:O===e.key?"secondary":"default",onClick:()=>I(e.key),className:a.join(" "),children:e.label},`function-filter-${r}`)})}),(0,t.jsxs)("span",{className:"text-xs text-foreground-light",children:["Statistics for past ",L.label]})]}),(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 md:gap-4 lg:grid-cols-2 lg:gap-8",children:[(0,t.jsx)(i.default,{title:"Execution time",tooltip:"Average execution time of function invocations",data:q,isLoading:$.isLoading,renderer:e=>B?(0,t.jsxs)(w.Alert_Shadcn_,{variant:"warning",children:[(0,t.jsx)(P.WarningIcon,{}),(0,t.jsx)(k.AlertTitle_Shadcn_,{children:"Failed to reterieve execution time"}),(0,t.jsx)(N.AlertDescription_Shadcn_,{children:H?.message??"Unknown error"})]}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(l.default,{title:"Average execution time",className:"w-full",xAxisKey:"timestamp",customDateFormat:L.format,yAxisKey:"avg_execution_time",data:e.data,format:"ms",highlightedValue:(0,b.default)(e.data,"avg_execution_time")}),m&&(0,t.jsx)(l.default,{title:"Max execution time",className:"w-full",xAxisKey:"timestamp",customDateFormat:L.format,yAxisKey:"max_execution_time",data:e.data,format:"ms",highlightedValue:(0,v.default)(e.data,"max_execution_time")?.max_execution_time})]})}),(0,t.jsx)(i.default,{title:"Invocations",tooltip:"Requests made to a function are considered invocations, and each invocation may have worker logs.",data:q,isLoading:$.isLoading,renderer:r=>{if(B)return(0,t.jsxs)(w.Alert_Shadcn_,{variant:"warning",children:[(0,t.jsx)(P.WarningIcon,{}),(0,t.jsx)(k.AlertTitle_Shadcn_,{children:"Failed to reterieve invocations"}),(0,t.jsx)(N.AlertDescription_Shadcn_,{children:H?.message??"Unknown error"})]});{let a=r.data.map(e=>[{status:"2xx",count:e.success_count,timestamp:e.timestamp},{status:"3xx",count:e.redirect_count,timestamp:e.timestamp},{status:"4xx",count:e.client_err_count,timestamp:e.timestamp},{status:"5xx",count:e.server_err_count,timestamp:e.timestamp}]).flat(),s=r.data.map(e=>[{status:"error",count:e.log_error_count,timestamp:e.timestamp},{status:"info",count:e.log_info_count,timestamp:e.timestamp},{status:"warn",count:e.log_warn_count,timestamp:e.timestamp}]).flat();return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(c.default,{title:"Invocation Requests",className:"w-full",xAxisKey:"timestamp",yAxisKey:"count",stackKey:"status",data:a,highlightedValue:(0,_.default)(a,"count"),customDateFormat:L.format,stackColors:["brand","slate","yellow","red"],onBarClick:()=>{e.push(`/project/${n}/functions/${o}/invocations?its=${D.toISOString()}`)}}),m&&(0,t.jsx)(c.default,{title:"Worker Logs",className:"w-full",xAxisKey:"timestamp",yAxisKey:"count",stackKey:"status",data:s,highlightedValue:(0,_.default)(s,"count"),customDateFormat:L.format,stackColors:["red","brand","yellow"],onBarClick:()=>{e.push(`/project/${n}/functions/${o}/logs?its=${D.toISOString()}`)}})]})}}}),(0,t.jsx)(i.default,{title:"CPU time",tooltip:"Average CPU time usage for the function",data:q,isLoading:$.isLoading,renderer:e=>B?(0,t.jsxs)(w.Alert_Shadcn_,{variant:"warning",children:[(0,t.jsx)(P.WarningIcon,{}),(0,t.jsx)(k.AlertTitle_Shadcn_,{children:"Failed to retrieve CPU time"}),(0,t.jsx)(N.AlertDescription_Shadcn_,{children:H?.message??"Unknown error"})]}):(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(l.default,{title:"Average CPU Time",className:"w-full",xAxisKey:"timestamp",customDateFormat:L.format,yAxisKey:"avg_cpu_time_used",data:e.data,format:"ms",highlightedValue:(0,b.default)(e.data,"avg_cpu_time_used")}),m&&(0,t.jsx)(l.default,{title:"Max CPU Time",className:"w-full",xAxisKey:"timestamp",customDateFormat:L.format,yAxisKey:"max_cpu_time_used",data:e.data,format:"ms",highlightedValue:(0,v.default)(e.data,"max_cpu_time_used")?.max_cpu_time_used})]})}),(0,t.jsx)(i.default,{title:"Memory",tooltip:"Average memory usage for the function",data:q,isLoading:$.isLoading,renderer:e=>{if(B)return(0,t.jsxs)(w.Alert_Shadcn_,{variant:"warning",children:[(0,t.jsx)(P.WarningIcon,{}),(0,t.jsx)(k.AlertTitle_Shadcn_,{children:"Failed to retrieve memory usage"}),(0,t.jsx)(N.AlertDescription_Shadcn_,{children:H?.message??"Unknown error"})]});let r=e.data.map(e=>[{type:"heap",count:e.avg_heap_memory_used,timestamp:e.timestamp},{type:"external",count:e.avg_external_memory_used,timestamp:e.timestamp}]).flat();return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsx)(l.default,{title:"Average Memory Usage",className:"w-full",xAxisKey:"timestamp",customDateFormat:L.format,yAxisKey:"avg_memory_used",data:e.data,format:"MB",highlightedValue:(0,b.default)(e.data,"avg_memory_used")}),m&&(0,t.jsx)(c.default,{title:"Average Memory Usage by Type",className:"w-full",xAxisKey:"timestamp",yAxisKey:"count",stackKey:"type",format:"MB",data:r,highlightedValue:(0,_.default)(r,"count"),customDateFormat:L.format,stackColors:["blue","brand"]})]})}})]})})]})})}):(0,t.jsx)(u.default,{isFullPage:!0,resourceText:"access this edge function"})};O.getLayout=e=>(0,t.jsx)(n.default,{children:(0,t.jsx)(o.default,{children:e})}),e.s(["default",0,O],388097)},715e3,(e,t,r)=>{let a="/project/[ref]/functions/[functionSlug]";(window.__NEXT_P=window.__NEXT_P||[]).push([a,()=>e.r(388097)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([a])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},774186,e=>{e.v(t=>Promise.all(["static/chunks/117b4e5883cfc423.js"].map(t=>e.l(t))).then(()=>t(376359)))},981889,e=>{e.v(t=>Promise.all(["static/chunks/e44cabdf5aea9bff.js"].map(t=>e.l(t))).then(()=>t(242525)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/0860ba34f07162db.js","static/chunks/82dddbda1a808189.js","static/chunks/15e50b9d6c55f00a.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},753940,e=>{e.v(t=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(t=>e.l(t))).then(()=>t(478124)))},724565,e=>{e.v(t=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(t=>e.l(t))).then(()=>t(341546)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/031b0d6330b6fbae.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},926327,e=>{e.v(t=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(t=>e.l(t))).then(()=>t(72947)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},396476,e=>{e.v(t=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(t=>e.l(t))).then(()=>t(62943)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))}]);

//# debugId=33387318-4303-4286-d384-6866587211a1
//# sourceMappingURL=d21f6435f97cd887.js.map