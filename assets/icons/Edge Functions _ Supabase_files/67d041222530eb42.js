;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="05582920-dc62-ef95-c1ff-338b3144e5dd")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,513826,182074,e=>{"use strict";var a=e.i(478902);let t=(0,e.i(388019).default)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);e.s(["BookOpen",()=>t],182074);var s=e.i(837710);e.s(["DocsButton",0,({href:e,abbrev:r=!0,className:i})=>(0,a.jsx)(s.Button,{asChild:!0,type:"default",className:i,icon:(0,a.jsx)(t,{}),onClick:e=>e.stopPropagation(),children:(0,a.jsx)("a",{target:"_blank",rel:"noopener noreferrer",href:e,children:r?"Docs":"Documentation"})})],513826)},719754,e=>{"use strict";var a=e.i(130843);e.s(["SelectValue_Shadcn_",()=>a.SelectValue])},171137,e=>{"use strict";var a=e.i(688554);e.s(["SqlEditor",()=>a.default])},91810,e=>{"use strict";let a=(0,e.i(388019).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["default",()=>a])},466472,e=>{"use strict";var a=e.i(478902),t=e.i(389959),s=e.i(837710),r=e.i(843778),i=e.i(253214),n=e.i(710483);let l=(0,t.forwardRef)(({title:e,description:l,size:o="small",visible:c,onCancel:d,onConfirm:u,loading:m,cancelLabel:h="Cancel",confirmLabel:x="Submit",confirmLabelLoading:p,alert:f,children:g,variant:j="default",disabled:b,className:v,...y},N)=>{let[C,S]=(0,t.useState)(void 0!==m&&m);return(0,t.useEffect)(()=>{c&&void 0===m&&S(!1)},[c]),(0,t.useEffect)(()=>{void 0!==m&&S(m)},[m]),(0,a.jsx)(i.Dialog,{open:c,...y,onOpenChange:()=>{c&&d()},children:(0,a.jsxs)(i.DialogContent,{"aria-describedby":void 0,ref:N,className:"p-0 gap-0 pb-5 !block",size:o,children:[(0,a.jsxs)(i.DialogHeader,{className:(0,r.cn)("border-b"),padding:"small",children:[(0,a.jsx)(i.DialogTitle,{children:e}),l&&(0,a.jsx)(i.DialogDescription,{children:l})]}),f&&(0,a.jsx)(n.Admonition,{type:j,label:f.title,description:f.description,className:"border-x-0 rounded-none -mt-px",...f?.base}),g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.DialogSection,{padding:"small",className:v,children:g}),(0,a.jsx)(i.DialogSectionSeparator,{})]}),(0,a.jsxs)("div",{className:"flex gap-2 px-5 pt-5",children:[(0,a.jsx)(s.Button,{size:"medium",block:!0,type:"default",disabled:C,onClick:()=>d(),children:h}),(0,a.jsx)(s.Button,{block:!0,size:"medium",type:"destructive"===j?"danger":"warning"===j?"warning":"primary",htmlType:"submit",loading:C,disabled:C||b,onClick:e=>{e.preventDefault(),e.stopPropagation(),u(),void 0===m&&S(!0)},className:"truncate",children:C&&p?p:x})]})]})})});l.displayName="ConfirmationModal",e.s(["ConfirmationModal",0,l,"default",0,l])},479095,e=>{"use strict";var a=e.i(478902),t=e.i(389959),s=e.i(369158),r="horizontal",i=["horizontal","vertical"],n=t.forwardRef((e,t)=>{var n;let{decorative:l,orientation:o=r,...c}=e,d=(n=o,i.includes(n))?o:r;return(0,a.jsx)(s.Primitive.div,{"data-orientation":d,...l?{role:"none"}:{"aria-orientation":"vertical"===d?d:void 0,role:"separator"},...c,ref:t})});n.displayName="Separator";var l=e.i(843778);let o=t.forwardRef(({className:e,orientation:t="horizontal",decorative:s=!0,...r},i)=>(0,a.jsx)(n,{ref:i,decorative:s,orientation:t,className:(0,l.cn)("shrink-0 bg-border-muted","horizontal"===t?"h-[1px] w-full":"h-full w-[1px]",e),...r}));o.displayName=n.displayName,e.s(["Separator",()=>o],479095)},955909,e=>{"use strict";var a=e.i(478902),t=e.i(55956),s=e.i(488194),r=e.i(421781),i=e.i(389959),n=e.i(843778),l=e.i(375761),o=e.i(613580);t.default.extend(s.default),t.default.extend(r.default);let c=e=>t.default.unix(Number(e)/1e3/1e3).toISOString(),d=e=>{let a=16===String(e).length;return!Number.isNaN(Number(e))&&a},u=({utcTimestamp:e,format:a})=>{let s=d(e)?c(e):e;return t.default.utc(s).local().format(a)},m=({utcTimestamp:e,format:a})=>{let s=d(e)?c(e):e;return t.default.utc(s).format(a)};e.s(["TimestampInfo",0,({utcTimestamp:e,className:s,displayAs:r="local",format:h="DD MMM YY HH:mm:ss",labelFormat:x="DD MMM YY HH:mm:ss",label:p})=>{let f=u({utcTimestamp:e,format:h}),g=m({utcTimestamp:e,format:h}),j=(({utcTimestamp:e})=>{let a=d(e)?c(e):e;return t.default.utc(a).fromNow()})({utcTimestamp:e}),[b,v]=(0,i.useState)("start"),y=(0,i.useRef)(null),N=Intl.DateTimeFormat().resolvedOptions().timeZone;(0,i.useEffect)(()=>{let e=()=>{if(y.current){let e=y.current.getBoundingClientRect(),a=window.innerHeight;v(e.top<a/2?"start":"end")}};return e(),window.addEventListener("scroll",e),window.addEventListener("resize",e),()=>{window.removeEventListener("scroll",e),window.removeEventListener("resize",e)}},[]);let C=({label:e,value:t})=>{let[s,r]=(0,i.useState)(!1);return(0,a.jsxs)("div",{onPointerDown:e=>{e.stopPropagation()},onMouseDown:e=>{e.stopPropagation()},onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,l.copyToClipboard)(t,()=>{r(!0),setTimeout(()=>{r(!1)},1e3)})},className:(0,n.cn)("relative cursor-pointer flex gap-y-2 gap-x-0.5 hover:bg-surface-100 px-2 py-1 group",{"bg-surface-100":s}),children:[(0,a.jsxs)("div",{className:"flex items-center gap-x-2 text-left truncate",children:[(0,a.jsx)("p",{children:e}),(0,a.jsx)("div",{className:"border-t w-full border-dashed"})]}),(0,a.jsxs)("div",{className:"relative flex items-center gap-x-2 flex-grow",children:[(0,a.jsx)("div",{className:"border-t w-full border-dashed z-10"}),s&&(0,a.jsx)("span",{className:"flex items-center justify-end w-full absolute inset-0 flex items-right text-brand-600 bg-surface-100",children:"Copied!"}),(0,a.jsx)("span",{className:"flex items-center gap-x-2 justify-end whitespace-nowrap",children:t})]})]})};return(0,a.jsxs)(o.Tooltip,{children:[(0,a.jsx)(o.TooltipTrigger,{asChild:!0,ref:y,className:`text-xs ${s} border-b border-transparent hover:border-dashed hover:border-foreground-light`,children:(0,a.jsx)("span",{children:p||("local"===r?u({utcTimestamp:e,format:x}):m({utcTimestamp:e,format:x}))})}),(0,a.jsxs)(o.TooltipContent,{align:b,side:"right",className:"font-mono p-0 py-1 min-w-80",children:[(0,a.jsx)(C,{label:"UTC",value:g}),(0,a.jsx)(C,{label:N,value:f}),(0,a.jsx)(C,{label:"Relative",value:j}),(0,a.jsx)(C,{label:"Timestamp",value:String(e)})]})]})},"timestampLocalFormatter",0,u])},418341,e=>{"use strict";var a=e.i(91810);e.s(["CircleCheck",()=>a.default])},738225,e=>{"use strict";let a=(0,e.i(388019).default)("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);e.s(["List",()=>a],738225)},417403,e=>{"use strict";var a=e.i(907019);e.s(["default",0,a])},240788,e=>{"use strict";var a=e.i(242882),t=e.i(234745),s=e.i(68205);async function r({projectRef:e},a){if(!e)throw Error("projectRef is required");let{data:s,error:r}=await (0,t.get)("/v1/projects/{ref}/functions",{params:{path:{ref:e}},signal:a});return r&&(0,t.handleError)(r),s}e.s(["useEdgeFunctionsQuery",0,({projectRef:e},{enabled:t=!0,...i}={})=>(0,a.useQuery)({queryKey:s.edgeFunctionsKeys.list(e),queryFn:({signal:a})=>r({projectRef:e},a),enabled:t&&void 0!==e,...i})])},585915,e=>{"use strict";let a=(0,e.i(388019).default)("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);e.s(["Loader",()=>a],585915)},440401,701823,e=>{"use strict";var a=e.i(478902),t=e.i(867637),s=e.i(938933);let r={tiny:14,small:16,medium:20,large:24,xlarge:32};function i({style:e,size:i="medium"}){let n=(0,s.default)("inputErrorIcon");return(0,a.jsx)("div",{className:n.base,style:e,children:(0,a.jsx)(t.AlertCircle,{size:r[i],strokeWidth:2})})}e.s(["default",()=>i],440401);var n=e.i(843778);function l({icon:e,className:t,size:r}){let i=(0,s.default)("inputIconContainer");return(0,a.jsx)("div",{className:(0,n.cn)(i.base,i.size[r],t),children:e})}e.s(["default",()=>l],701823)},440523,e=>{"use strict";var a=e.i(478902),t=e.i(816467),s=e.i(389959),r=e.i(282410),i=e.i(753515),n=e.i(440401),l=e.i(701823),o=e.i(938933),c=e.i(375761),d=e.i(843778),u=e.i(837710),m=e.i(140449);function h({autoComplete:e,autoFocus:h,className:x,inputClassName:p,iconContainerClassName:f,copy:g,defaultValue:j,descriptionText:b,disabled:v,error:y,icon:N,id:C="",name:S="",inputRef:_,label:w,afterLabel:k,beforeLabel:R,labelOptional:P,layout:z,onChange:D,onBlur:T,onCopy:I,placeholder:A,type:E="text",value:B,style:L,reveal:H=!1,actions:F,size:M="medium",borderless:$=!1,validation:q,...O}){let[W,Q]=(0,s.useState)("Copy"),[K,Z]=(0,s.useState)(!0),V=(0,o.default)("input"),{formContextOnChange:U,values:Y,errors:G,handleBlur:J,touched:X,fieldLevelValidation:ee}=(0,m.useFormContext)();Y&&!B&&(B=Y[C||S]),y||(G&&!y&&(y=G[C||S]),y=X&&X[C]?y:void 0),(0,s.useEffect)(()=>{q&&ee(C,q(B))},[]);let ea=["peer/input",V.base];return y&&ea.push(V.variants.error),y||ea.push(V.variants.standard),M&&ea.push(V.size[M]),N&&ea.push(V.with_icon[M]),v&&ea.push(V.disabled),p&&ea.push(p),(0,a.jsx)(i.FormLayout,{label:w,afterLabel:k,beforeLabel:R,labelOptional:P,layout:z,id:C,error:y,descriptionText:b,style:L,size:M,className:x,children:(0,a.jsxs)("div",{className:V.container,children:[(0,a.jsx)("input",{"data-size":M,autoComplete:e,autoFocus:h,defaultValue:j,disabled:v,id:C,name:S,onChange:function(e){D&&D(e),U&&U(e),q&&ee(C,q(e.target.value))},onBlur:function(e){J&&setTimeout(()=>{J(e)},100),T&&T(e)},onCopy:I,placeholder:A,ref:_,type:E,value:H&&K?r.HIDDEN_PLACEHOLDER:B,className:(0,d.cn)(ea),...O}),N&&(0,a.jsx)(l.default,{size:M,icon:N,className:f}),g||y||F?(0,a.jsxs)("div",{className:V.actions_container,children:[y&&(0,a.jsx)(n.default,{size:M}),g&&!(H&&K)?(0,a.jsx)(u.Button,{size:"tiny",type:"default",icon:(0,a.jsx)(t.Copy,{}),onClick:()=>{var e;return e=B,void(0,c.copyToClipboard)(e,()=>{Q("Copied"),setTimeout(()=>{Q("Copy")},3e3),I?.()})},children:W}):null,H&&K?(0,a.jsx)(u.Button,{size:"tiny",type:"default",onClick:function(){Z(!1)},children:"Reveal"}):null,F&&F]}):null]})})}h.TextArea=function({className:e,textAreaClassName:r,descriptionText:l,disabled:d,error:h,icon:x,id:p="",name:f="",label:g,afterLabel:j,beforeLabel:b,labelOptional:v,layout:y,onChange:N,onBlur:C,placeholder:S,value:_,style:w,rows:k=4,limit:R,size:P="medium",borderless:z=!1,validation:D,copy:T=!1,onCopy:I,actions:A,...E}){let[B,L]=(0,s.useState)(0),[H,F]=(0,s.useState)("Copy"),{formContextOnChange:M,values:$,errors:q,handleBlur:O,touched:W,fieldLevelValidation:Q}=(0,m.useFormContext)();$&&!_&&(_=$[p||f]),h||(q&&!h&&(h=q[p||f]),h=W&&W[p||f]?h:void 0),(0,s.useEffect)(()=>{D&&Q(p,D(_))},[]);let K=(0,o.default)("input"),Z=[K.base];return h&&Z.push(K.variants.error),h||Z.push(K.variants.standard),x&&Z.push(K.with_icon[P]),P&&Z.push(K.size[P]),d&&Z.push(K.disabled),r&&Z.push(r),(0,a.jsx)(i.FormLayout,{className:e,label:g,afterLabel:j,beforeLabel:b,labelOptional:v,layout:y,id:p,error:h,descriptionText:l,style:w,size:P,children:(0,a.jsxs)("div",{className:K.container,children:[(0,a.jsx)("textarea",{disabled:d,id:p,name:f,rows:k,cols:100,placeholder:S,onChange:function(e){L(e.target.value.length),N&&N(e),M&&M(e),D&&Q(p,D(e.target.value))},onBlur:function(e){O&&setTimeout(()=>{O(e)},100),C&&C(e)},onCopy:I,value:_,className:Z.join(" "),maxLength:R,...E}),T||h||A?(0,a.jsx)("div",{className:K.textarea_actions_container,children:(0,a.jsxs)("div",{className:K.textarea_actions_container_items,children:[h&&(0,a.jsx)(n.default,{size:P}),T&&(0,a.jsx)(u.Button,{size:"tiny",type:"default",onClick:()=>{var e;return e=_,void(0,c.copyToClipboard)(e,()=>{F("Copied"),setTimeout(()=>{F("Copy")},3e3),I?.()})},icon:(0,a.jsx)(t.Copy,{}),children:H}),A&&A]})}):null]})})},e.s(["default",0,h])},171997,e=>{"use strict";var a=e.i(440523);e.s(["Input",()=>a.default])},471998,e=>{"use strict";let a=(0,e.i(388019).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);e.s(["MoreVertical",()=>a],471998)},3259,100387,e=>{"use strict";var a=e.i(478902),t=e.i(153545),s=e.i(933505);e.s(["ChevronRightIcon",()=>s.default],100387);var s=s,r=e.i(389959),i=e.i(843778);let n=r.forwardRef(({...e},t)=>(0,a.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let l=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("ol",{ref:s,className:(0,i.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...t}));l.displayName="BreadcrumbList";let o=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("li",{ref:s,className:(0,i.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...t}));o.displayName="BreadcrumbItem";let c=r.forwardRef(({asChild:e,className:s,...r},n)=>{let l=e?t.Slot:"a";return(0,a.jsx)(l,{ref:n,className:(0,i.cn)("transition-colors underline lg:no-underline hover:text-foreground",s),...r})});c.displayName="BreadcrumbLink";let d=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("no-underline text-foreground",e),...t}));d.displayName="BreadcrumbPage";let u=({children:e,className:t,...r})=>(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5 text-foreground-muted",t),...r,children:e??(0,a.jsx)(s.default,{})});u.displayName="BreadcrumbSeparator";let m=({className:e,...t})=>(0,a.jsxs)("span",{className:(0,i.cn)("flex h-4 w-4 items-center justify-center",e),...t,children:[(0,a.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"sr-only",children:"More"})]});m.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>n,"BreadcrumbEllipsis",()=>m,"BreadcrumbItem",()=>o,"BreadcrumbLink",()=>c,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},127739,e=>{"use strict";var a=e.i(478902),t=e.i(709520),s=e.i(389959),r=e.i(843778);let i=(0,t.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),n=(0,s.forwardRef)(({className:e,size:t,...s},n)=>(0,a.jsx)("div",{ref:n,...s,className:(0,r.cn)(i({size:t}),e)}));n.displayName="PageContainer",e.s(["PageContainer",0,n])},456050,e=>{"use strict";var a=e.i(478902),t=e.i(709520),s=e.i(389959),r=e.i(843778),i=e.i(3259),n=e.i(127739);let l=(0,t.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),o=(0,s.createContext)({size:"default"}),c=()=>(0,s.useContext)(o),d=({className:e,size:t,children:s,...i})=>{let n=t??"default";return(0,a.jsx)(o.Provider,{value:{size:n},children:(0,a.jsx)("div",{"data-slot":"page-header","data-size":n,className:(0,r.cn)(l({size:n}),e),...i,children:s})})},u=({className:e,children:t,...s})=>{let{size:l}=c();return(0,a.jsx)(n.PageContainer,{size:l,children:(0,a.jsx)(i.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,r.cn)("flex items-center gap-4 [&_li]:text-xs",e),...s,children:t})})};u.displayName="PageHeaderBreadcrumb";let m=({className:e,...t})=>(0,a.jsx)("div",{"data-slot":"page-header-icon",className:(0,r.cn)("text-foreground-light",e),...t});m.displayName="PageHeaderIcon";let h=({className:e,children:t,...s})=>(0,a.jsx)("div",{"data-slot":"page-header-summary",className:(0,r.cn)("flex flex-col gap-1",e),...s,children:t});h.displayName="PageHeaderSummary";let x=({className:e,children:t,...s})=>(0,a.jsx)("h1",{"data-slot":"page-header-title",className:(0,r.cn)("heading-title",e),...s,children:t}),p=({className:e,children:t,...s})=>(0,a.jsx)("div",{"data-slot":"page-header-description",className:(0,r.cn)("heading-subSection text-foreground-light",e),...s,children:t}),f=({className:e,children:t,...s})=>{let{size:i}=c();return(0,a.jsx)(n.PageContainer,{size:i,children:(0,a.jsx)("div",{"data-slot":"page-header-meta",className:(0,r.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...s,children:t})})};f.displayName="PageHeaderMeta";let g=({className:e,...t})=>(0,a.jsx)("div",{"data-slot":"page-header-actions",className:(0,r.cn)("flex items-center gap-2 shrink-0",e),...t});g.displayName="PageHeaderAside";let j=({className:e,...t})=>{let{size:s}=c();return(0,a.jsx)(n.PageContainer,{size:s,className:(0,r.cn)("full"===s&&"border-b"),children:(0,a.jsx)("div",{"data-slot":"page-header-footer",className:(0,r.cn)("w-full [&>nav]:border-b-0","full"!==s&&"border-b",e),...t})})};j.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>d,"PageHeaderAside",()=>g,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>p,"PageHeaderIcon",()=>m,"PageHeaderMeta",()=>f,"PageHeaderNavigationTabs",()=>j,"PageHeaderSummary",()=>h,"PageHeaderTitle",()=>x])},610144,e=>{"use strict";var a=e.i(755216),t=e.i(479084),s=e.i(38429),r=e.i(356003),i=e.i(355901),n=e.i(78162),l=e.i(714403),o=e.i(667286);async function c({projectRef:e,connectionString:s,schema:r,name:i,version:n,cascade:o=!1,createSchema:c=!1}){let d=new Headers;s&&d.set("x-connection-encrypted",s);let{sql:u}=a.default.extensions.create({schema:r,name:i,version:n,cascade:o}),{result:m}=await (0,l.executeSql)({projectRef:e,connectionString:s,sql:c?`create schema if not exists ${(0,t.ident)(r)}; ${u}`:u,queryKey:["extension","create"]});return m}e.s(["useDatabaseExtensionEnableMutation",0,({onSuccess:e,onError:a,...t}={})=>{let l=(0,r.useQueryClient)();return(0,s.useMutation)({mutationFn:e=>c(e),async onSuccess(a,t,s){let{projectRef:r}=t;await Promise.all([l.invalidateQueries({queryKey:o.databaseExtensionsKeys.list(r)}),l.invalidateQueries({queryKey:n.configKeys.upgradeEligibility(r)})]),await e?.(a,t,s)},async onError(e,t,s){void 0===a?i.toast.error(`Failed to enable database extension: ${e.message}`):a(e,t,s)},...t})}])},412385,e=>{"use strict";var a=e.i(389959),t=e.i(323796);e.s(["useConfirmOnClose",0,({checkIsDirty:e,onClose:s})=>{let[r,i]=(0,a.useState)(!1),n=(0,t.default)(e),l=(0,t.default)(s),o=(0,a.useCallback)(()=>{n.current()?i(!0):l.current()},[]),c=(0,a.useCallback)(()=>{i(!1),l.current()},[]),d=(0,a.useCallback)(()=>{i(!1)},[]),u=(0,a.useMemo)(()=>({visible:r,onClose:c,onCancel:d}),[r,c,d]);return(0,a.useMemo)(()=>({confirmOnClose:o,modalProps:u}),[o,u])}])},248210,e=>{"use strict";var a=e.i(478902),t=e.i(843778);e.s(["LoadingLine",0,({loading:e})=>(0,a.jsx)("div",{className:"relative overflow-hidden w-full h-px bg-border m-auto",children:(0,a.jsx)("span",{className:(0,t.cn)("absolute w-[80px] h-px ml-auto mr-auto left-0 right-0 text-center block top-0","transition-all","line-loading-bg-light dark:line-loading-bg",e&&"animate-line-loading-slower opacity-100",e?"opacity-100":"opacity-0")})})])},300424,e=>{"use strict";var a=e.i(478902),t=e.i(902858),s=e.i(370410),r=e.i(365257),i=e.i(479232),n=e.i(389959),l=e.i(801834),o=e.i(2579),c=e.i(635494),d=e.i(206413),u=e.i(592360),m=e.i(178527),h=e.i(837710),x=e.i(703526),p=e.i(917007),f=e.i(920432),g=e.i(549815),j=e.i(911509),b=e.i(996960),v=e.i(866205),y=e.i(793912),N=e.i(135144),C=e.i(689805),S=e.i(396831),_=e.i(903248);let w=({className:e,disabled:w=!1,size:k="tiny",showError:R=!0,selectedSchemaName:P,supportSelectAll:z=!1,excludedSchemas:D=[],onSelectSchema:T,onSelectCreateSchema:I,align:A="start"})=>{let[E,B]=(0,n.useState)(!1),{can:L}=(0,o.useAsyncCheckPermissions)(t.PermissionAction.TENANT_SQL_ADMIN_WRITE,"schemas"),{data:H}=(0,c.useSelectedProjectQuery)(),{data:F,isPending:M,isSuccess:$,isError:q,error:O,refetch:W}=(0,l.useSchemasQuery)({projectRef:H?.ref,connectionString:H?.connectionString}),Q=(F||[]).filter(e=>!D.includes(e.name)).sort((e,a)=>e.name.localeCompare(a.name));return(0,a.jsxs)("div",{className:e,children:[M&&(0,a.jsx)(h.Button,{type:"default",className:"w-full [&>span]:w-full",size:k,disabled:!0,children:(0,a.jsx)(_.Skeleton,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),R&&q&&(0,a.jsxs)(m.Alert_Shadcn_,{variant:"warning",className:"!px-3 !py-3",children:[(0,a.jsx)(u.AlertTitle_Shadcn_,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,a.jsxs)(d.AlertDescription_Shadcn_,{className:"text-xs mb-2 break-words",children:["Error: ",O?.message]}),(0,a.jsx)(h.Button,{type:"default",size:"tiny",onClick:()=>W(),children:"Reload schemas"})]}),$&&(0,a.jsxs)(C.Popover_Shadcn_,{open:E,onOpenChange:B,modal:!1,children:[(0,a.jsx)(N.PopoverTrigger_Shadcn_,{asChild:!0,children:(0,a.jsx)(h.Button,{size:k,disabled:w,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,a.jsx)(r.ChevronsUpDown,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:P?(0,a.jsxs)("div",{className:"w-full flex gap-1",children:[(0,a.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,a.jsx)("p",{className:"text-foreground",children:"*"===P?"All schemas":P})]}):(0,a.jsx)("div",{className:"w-full flex gap-1",children:(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema..."})})})}),(0,a.jsx)(y.PopoverContent_Shadcn_,{className:"p-0 min-w-[200px] pointer-events-auto",side:"bottom",align:A,sameWidthAsTrigger:!0,children:(0,a.jsxs)(v.Command_Shadcn_,{children:[(0,a.jsx)(f.CommandInput_Shadcn_,{className:"text-xs",placeholder:"Find schema..."}),(0,a.jsxs)(j.CommandList_Shadcn_,{children:[(0,a.jsx)(x.CommandEmpty_Shadcn_,{children:"No schemas found"}),(0,a.jsx)(p.CommandGroup_Shadcn_,{children:(0,a.jsxs)(S.ScrollArea,{className:(Q||[]).length>7?"h-[210px]":"",children:[z&&(0,a.jsxs)(g.CommandItem_Shadcn_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{T("*"),B(!1)},onClick:()=>{T("*"),B(!1)},children:[(0,a.jsx)("span",{children:"All schemas"}),"*"===P&&(0,a.jsx)(s.Check,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),Q?.map(e=>(0,a.jsxs)(g.CommandItem_Shadcn_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{T(e.name),B(!1)},onClick:()=>{T(e.name),B(!1)},children:[(0,a.jsx)("span",{children:e.name}),P===e.name&&(0,a.jsx)(s.Check,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==I&&L&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.CommandSeparator_Shadcn_,{}),(0,a.jsx)(p.CommandGroup_Shadcn_,{children:(0,a.jsxs)(g.CommandItem_Shadcn_,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{I(),B(!1)},onClick:()=>{I(),B(!1)},children:[(0,a.jsx)(i.Plus,{size:12}),"Create a new schema"]})})]})]})]})})]})]})};e.s(["SchemaSelector",0,w,"default",0,w])},418348,e=>{"use strict";var a=e.i(478902),t=e.i(20889),s=e.i(376577),r=e.i(389959),i=e.i(737018),n=e.i(843778);let l=r.forwardRef(({className:e,...s},r)=>(0,a.jsx)(t.Root,{className:(0,n.cn)("flex flex-col -space-y-px w-full",e),...s,ref:r}));l.displayName="RadioGroupStacked";let o=r.forwardRef(({image:e,label:r,showIndicator:l=!0,...o},c)=>(0,a.jsx)(t.Item,{ref:c,...o,className:(0,n.cn)("flex flex-col gap-2 w-full","bg-overlay/50 border shadow-sm","first-of-type:rounded-t-lg last-of-type:rounded-b-lg","disabled:opacity-50 disabled:cursor-not-allowed","enabled:cursor-pointer enabled:hover:bg-surface-300 enabled:hover:border-foreground-muted","hover:z-[1] focus-visible:z-[1] data-[state=checked]:z-[1]","data-[state=checked]:ring-1 data-[state=checked]:ring-border","data-[state=checked]:bg-surface-300 data-[state=checked]:border-foreground-muted","transition group",o.className),children:(0,a.jsxs)("div",{className:"flex gap-3 w-full px-[21px] py-3",children:[l&&(0,a.jsx)("div",{className:(0,n.cn)("aspect-square h-4 w-4 min-w-4 min-h-4 rounded-full border relative","flex items-center justify-center","ring-offset-background transition","group-data-[state=checked]:border-foreground-muted","group-focus:border-foreground-muted group-focus:outline-none","group-focus-visible:ring-2 group-focus-visible:ring-ring group-focus-visible:ring-offset-2","group-hover:border-foreground-muted"),children:(0,a.jsx)(t.Indicator,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2",children:(0,a.jsx)(s.Circle,{size:10,strokeWidth:0,className:"fill-current text-current"})})}),(0,a.jsxs)("div",{className:"flex flex-col gap-0.25 items-start",children:[(0,a.jsx)(i.Label,{htmlFor:o.value,className:(0,n.cn)("block -mt-[0.15rem] text-sm text-left text-light","transition-colors","enabled:group-hover:text-foreground group-data-[state=checked]:text-foreground"),children:r}),o.description&&(0,a.jsx)("p",{className:"text-left text-sm text-foreground-lighter text-balance",children:o.description}),o.children]})]})}));o.displayName="RadioGroupStackedItem",e.s(["RadioGroupStacked",()=>l,"RadioGroupStackedItem",()=>o])},843142,e=>{"use strict";var a=e.i(130843);e.s(["SelectSeparator_Shadcn_",()=>a.SelectSeparator])},121832,944334,e=>{"use strict";var a=e.i(478902),t=e.i(532728),s=e.i(513826),r=e.i(610144),i=e.i(801834),n=e.i(635494),l=e.i(392491),o=e.i(10429),c=e.i(408891),d=e.i(355901),u=e.i(587433),m=e.i(837710),h=e.i(253214),x=e.i(24315),p=e.i(61863),f=e.i(428353),g=e.i(378277),j=e.i(451031),b=e.i(831927),v=e.i(843142),y=e.i(156722),N=e.i(719754),C=e.i(449123),S=e.i(710483),_=e.i(108151),w=e.i(538482),k=e.i(531837),R=e.i(249909);let P={wrappers:"extensions"};e.s(["EXTENSION_DISABLE_WARNINGS",0,{pg_cron:"Disabling this extension will delete all scheduled jobs. This cannot be undone."},"HIDDEN_EXTENSIONS",0,["adminpack","amcheck","file_fdw","lo","old_snapshot","pageinspect","pg_buffercache","pg_freespacemap","pg_surgery","pg_visibility","supabase_vault","supautils","intagg","xml2","pg_tle","pg_stat_monitor"],"SEARCH_TERMS",0,{vector:["pgvector","pg_vector"]},"extensionsWithRecommendedSchemas",0,P],944334);var z=e.i(242882),D=e.i(714403),T=e.i(479084),I=e.i(667286);async function A({extension:e,projectRef:a,connectionString:t},s){if(!e)throw Error("extension is required");let r=(({extension:e})=>`
select name, version, schema from pg_available_extension_versions where name = ${(0,T.literal)(e)} limit 1;
`.trim())({extension:e}),{result:i}=await (0,D.executeSql)({projectRef:a,connectionString:t,sql:r,queryKey:["database-extension-default-schema",e]},s);return i[0]}let E=["vector","postgis"],B=k.object({name:k.string(),schema:k.string()}).superRefine((e,a)=>{"custom"===e.schema&&0===e.name.length&&a.addIssue({code:R.ZodIssueCode.custom,path:["name"],message:"Please provide a name for the schema"})});e.s(["EnableExtensionModal",0,({visible:e,extension:k,onCancel:R})=>{let D=(0,n.useIsOrioleDb)(),{data:T}=(0,n.useSelectedProjectQuery)(),{data:L}=(0,l.useProtectedSchemas)({excludeSchemas:["extensions"]}),H=P[k.name],{data:F=[],isPending:M}=(0,i.useSchemasQuery)({projectRef:T?.ref,connectionString:T?.connectionString},{enabled:e}),$=F.filter(e=>e.name===H||!L.some(a=>a.name===e.name)),{data:q,isPending:O}=(({projectRef:e,connectionString:a,extension:t},{enabled:s=!0,...r}={})=>(0,z.useQuery)({queryKey:I.databaseExtensionsKeys.defaultSchema(e,t),queryFn:({signal:s})=>A({projectRef:e,connectionString:a,extension:t},s),enabled:s&&void 0!==e&&void 0!==t,...r}))({projectRef:T?.ref,connectionString:T?.connectionString,extension:k.name},{enabled:e}),W="pg_cron"===k.name?"pg_catalog":q?.schema,Q=O||M,{mutate:K,isPending:Z}=(0,r.useDatabaseExtensionEnableMutation)({onSuccess:()=>{d.toast.success(`Extension "${k.name}" is now enabled`),R()},onError:e=>{d.toast.error(`Failed to enable ${k.name}: ${e.message}`)}}),V={name:k.name,schema:H??"extensions"},U=(0,c.useForm)({mode:"onBlur",reValidateMode:"onBlur",resolver:(0,t.zodResolver)(B),defaultValues:V}),{schema:Y}=U.watch(),G=async e=>{if(void 0===T)return console.error("Project is required");let a=null!=W?W:"custom"===e.schema?e.name:e.schema;K({projectRef:T.ref,connectionString:T?.connectionString,schema:a,name:k.name,version:k.default_version,cascade:!0,createSchema:!a.startsWith("pg_")})};return(0,a.jsx)(h.Dialog,{open:e,onOpenChange:e=>{e||R()},children:(0,a.jsxs)(h.DialogContent,{size:"small","aria-describedby":void 0,children:[(0,a.jsx)(h.DialogHeader,{children:(0,a.jsxs)(h.DialogTitle,{children:["Enable ",k.name]})}),(0,a.jsx)(h.DialogSectionSeparator,{}),D&&E.includes(k.name)&&(0,a.jsxs)(S.Admonition,{type:"default",title:"Extension is limited by OrioleDB",className:"border-x-0 border-t-0 rounded-none",children:[(0,a.jsxs)("span",{className:"block",children:[k.name," cannot be accelerated by indexes on tables that are using the OrioleDB access method"]}),(0,a.jsx)(s.DocsButton,{abbrev:!1,className:"mt-2",href:`${o.DOCS_URL}`})]}),"pg_cron"===k.name&&T?.cloud_provider==="FLY"&&(0,a.jsxs)(S.Admonition,{type:"warning",title:"The pg_cron extension is not fully supported for Fly projects",className:"border-x-0 border-t-0 rounded-none",children:[(0,a.jsx)("p",{children:"You can still enable the extension, but pg_cron jobs may not run due to the behavior of Fly projects."}),(0,a.jsx)(s.DocsButton,{className:"mt-2",href:`${o.DOCS_URL}/guides/platform/fly-postgres#limitations`})]}),(0,a.jsx)(h.DialogSection,{children:(0,a.jsx)(f.Form_Shadcn_,{...U,children:(0,a.jsx)("form",{id:"enable-extensions-form",onSubmit:U.handleSubmit(G),children:Q?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(_.ShimmeringLoader,{}),(0,a.jsx)("div",{className:"w-3/4",children:(0,a.jsx)(_.ShimmeringLoader,{})})]}):W?(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsx)(w.FormItemLayout,{isReactForm:!1,label:"Select a schema to enable the extension for",children:(0,a.jsx)(g.Input_Shadcn_,{disabled:!0,value:W})}),(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:["Extension must be installed in the “",W,"” schema."]})]}):(0,a.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,a.jsx)(p.FormField_Shadcn_,{name:"schema",control:U.control,render:({field:e})=>(0,a.jsx)(w.FormItemLayout,{name:"schema",label:"Select a schema to enable the extension for",children:(0,a.jsx)(x.FormControl_Shadcn_,{children:(0,a.jsxs)(C.Select_Shadcn_,{value:e.value,onValueChange:e.onChange,disabled:!!W,children:[(0,a.jsx)(y.SelectTrigger_Shadcn_,{children:(0,a.jsx)(N.SelectValue_Shadcn_,{placeholder:"Select a schema"})}),(0,a.jsxs)(j.SelectContent_Shadcn_,{children:[(0,a.jsxs)(b.SelectItem_Shadcn_,{value:"custom",children:["Create a new schema"," ",(0,a.jsx)("code",{className:"text-code-inline",children:k.name})]}),(0,a.jsx)(v.SelectSeparator_Shadcn_,{}),$.map(e=>(0,a.jsxs)(b.SelectItem_Shadcn_,{value:e.name,children:[e.name,e.name===H?(0,a.jsx)(u.Badge,{className:"ml-2",variant:"success",children:"Recommended"}):W||"extensions"!==e.name?null:(0,a.jsx)(u.Badge,{className:"ml-2",children:"Default"})]},e.id))]})]})})})},"schema"),!!H&&(0,a.jsxs)("p",{className:"text-sm text-foreground-light",children:['Use the "',H,'" schema for full compatibility with related features.']}),"custom"===Y&&(0,a.jsx)(p.FormField_Shadcn_,{name:"name",control:U.control,render:({field:e})=>(0,a.jsx)(w.FormItemLayout,{name:"name",label:"Schema name",children:(0,a.jsx)(x.FormControl_Shadcn_,{children:(0,a.jsx)(g.Input_Shadcn_,{...e})})})},"name")]})})})}),(0,a.jsxs)(h.DialogFooter,{children:[(0,a.jsx)(m.Button,{type:"default",disabled:Z,onClick:()=>R(),children:"Cancel"}),(0,a.jsx)(m.Button,{htmlType:"submit",form:"enable-extensions-form",loading:Z,disabled:Q||Z,children:"Enable extension"})]})]})})}],121832)},713629,e=>{"use strict";let a=/^((ftp|http|https):\/\/)?(www.)?(?!.*(ftp|http|https|www.))[a-zA-Z0-9_*-]+(\.[a-zA-Z0-9_*-]+)+((\/)[\w#]+)*(\/\w+\?[a-zA-Z0-9_]+=\w+(&[a-zA-Z0-9_]+=\w+)*)+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))(.*)?\/?(.)*?$/gm,t=/^[a-z0-9-]+([.][a-z0-9]+)*:\/(\/[-a-z0-9._~!$&'()*+,;=:@%]+)+(?:\.[a-z]+)*(?::\d+)?(?![^<]*(?:<\/\w+>|\/?>))(.*)?\/?(.)*?$/i,s=/^(?:^|\s)((https?:\/\/)?(?:localhost|[\w-]+(?:\.[\w-]+)+)(:\d+)?(\/\S*)?)/i,r=/chrome-extension:\/\/([a-zA-Z]*)/gm,i=/^([a-zA-Z][a-zA-Z0-9+.-]*):(?:\/{1,3})?([a-zA-Z0-9_.-]*)$/,n=/^[a-zA-Z0-9-]+\.[a-zA-Z]{2,}$/;function l(e={excludeSimpleDomains:!0}){let{excludeSimpleDomains:o}=e,c=o?`(?!${n.source})`:"";return RegExp(`${c}((${a.source})|(${s.source})|(${t.source})|(${r.source})|(${i.source}))`,"i")}e.s(["NO_REQUIRED_CHARACTERS",0,"NO_REQUIRED_CHARS","urlRegex",()=>l])},644131,e=>{"use strict";var a=e.i(81798);e.s(["ContextMenuSeparator_Shadcn_",()=>a.ContextMenuSeparator])},773720,242572,996166,165263,e=>{"use strict";var a=e.i(3259);e.s(["BreadcrumbItem_Shadcn_",()=>a.BreadcrumbItem],773720),e.s(["BreadcrumbLink_Shadcn_",()=>a.BreadcrumbLink],242572),e.s(["BreadcrumbList_Shadcn_",()=>a.BreadcrumbList],996166),e.s(["BreadcrumbSeparator_Shadcn_",()=>a.BreadcrumbSeparator],165263)},224521,e=>{"use strict";var a=e.i(389959),t=e.i(274664),s=e.i(295047),r=e.i(678001),i=e.i(174617),n=e.i(826524),l=e.i(546595),o=e.i(503867),c=e.i(889251),d=e.i(904641),u=e.i(478902),m="Collapsible",[h,x]=(0,t.createContextScope)(m),[p,f]=h(m),g=a.forwardRef((e,t)=>{let{__scopeCollapsible:s,open:r,defaultOpen:i,disabled:o,onOpenChange:c,...h}=e,[x,f]=(0,n.useControllableState)({prop:r,defaultProp:i??!1,onChange:c,caller:m});return(0,u.jsx)(p,{scope:s,disabled:o,contentId:(0,d.useId)(),open:x,onOpenToggle:a.useCallback(()=>f(e=>!e),[f]),children:(0,u.jsx)(l.Primitive.div,{"data-state":C(x),"data-disabled":o?"":void 0,...h,ref:t})})});g.displayName=m;var j="CollapsibleTrigger",b=a.forwardRef((e,a)=>{let{__scopeCollapsible:t,...s}=e,r=f(j,t);return(0,u.jsx)(l.Primitive.button,{type:"button","aria-controls":r.contentId,"aria-expanded":r.open||!1,"data-state":C(r.open),"data-disabled":r.disabled?"":void 0,disabled:r.disabled,...s,ref:a,onClick:(0,i.composeEventHandlers)(e.onClick,r.onOpenToggle)})});b.displayName=j;var v="CollapsibleContent",y=a.forwardRef((e,a)=>{let{forceMount:t,...s}=e,r=f(v,e.__scopeCollapsible);return(0,u.jsx)(c.Presence,{present:t||r.open,children:({present:e})=>(0,u.jsx)(N,{...s,ref:a,present:e})})});y.displayName=v;var N=a.forwardRef((e,t)=>{let{__scopeCollapsible:s,present:i,children:n,...c}=e,d=f(v,s),[m,h]=a.useState(i),x=a.useRef(null),p=(0,r.useComposedRefs)(t,x),g=a.useRef(0),j=g.current,b=a.useRef(0),y=b.current,N=d.open||m,S=a.useRef(N),_=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,o.useLayoutEffect)(()=>{let e=x.current;if(e){_.current=_.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let a=e.getBoundingClientRect();g.current=a.height,b.current=a.width,S.current||(e.style.transitionDuration=_.current.transitionDuration,e.style.animationName=_.current.animationName),h(i)}},[d.open,i]),(0,u.jsx)(l.Primitive.div,{"data-state":C(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!N,...c,ref:p,style:{"--radix-collapsible-content-height":j?`${j}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...e.style},children:N&&n})});function C(e){return e?"open":"closed"}var S=e.i(2664),_="Accordion",w=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[k,R,P]=(0,s.createCollection)(_),[z,D]=(0,t.createContextScope)(_,[P,x]),T=x(),I=a.default.forwardRef((e,a)=>{let{type:t,...s}=e;return(0,u.jsx)(k.Provider,{scope:e.__scopeAccordion,children:"multiple"===t?(0,u.jsx)(F,{...s,ref:a}):(0,u.jsx)(H,{...s,ref:a})})});I.displayName=_;var[A,E]=z(_),[B,L]=z(_,{collapsible:!1}),H=a.default.forwardRef((e,t)=>{let{value:s,defaultValue:r,onValueChange:i=()=>{},collapsible:l=!1,...o}=e,[c,d]=(0,n.useControllableState)({prop:s,defaultProp:r??"",onChange:i,caller:_});return(0,u.jsx)(A,{scope:e.__scopeAccordion,value:a.default.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:a.default.useCallback(()=>l&&d(""),[l,d]),children:(0,u.jsx)(B,{scope:e.__scopeAccordion,collapsible:l,children:(0,u.jsx)(q,{...o,ref:t})})})}),F=a.default.forwardRef((e,t)=>{let{value:s,defaultValue:r,onValueChange:i=()=>{},...l}=e,[o,c]=(0,n.useControllableState)({prop:s,defaultProp:r??[],onChange:i,caller:_}),d=a.default.useCallback(e=>c((a=[])=>[...a,e]),[c]),m=a.default.useCallback(e=>c((a=[])=>a.filter(a=>a!==e)),[c]);return(0,u.jsx)(A,{scope:e.__scopeAccordion,value:o,onItemOpen:d,onItemClose:m,children:(0,u.jsx)(B,{scope:e.__scopeAccordion,collapsible:!0,children:(0,u.jsx)(q,{...l,ref:t})})})}),[M,$]=z(_),q=a.default.forwardRef((e,t)=>{let{__scopeAccordion:s,disabled:n,dir:o,orientation:c="vertical",...d}=e,m=a.default.useRef(null),h=(0,r.useComposedRefs)(m,t),x=R(s),p="ltr"===(0,S.useDirection)(o),f=(0,i.composeEventHandlers)(e.onKeyDown,e=>{if(!w.includes(e.key))return;let a=e.target,t=x().filter(e=>!e.ref.current?.disabled),s=t.findIndex(e=>e.ref.current===a),r=t.length;if(-1===s)return;e.preventDefault();let i=s,n=r-1,l=()=>{(i=s+1)>n&&(i=0)},o=()=>{(i=s-1)<0&&(i=n)};switch(e.key){case"Home":i=0;break;case"End":i=n;break;case"ArrowRight":"horizontal"===c&&(p?l():o());break;case"ArrowDown":"vertical"===c&&l();break;case"ArrowLeft":"horizontal"===c&&(p?o():l());break;case"ArrowUp":"vertical"===c&&o()}let d=i%r;t[d].ref.current?.focus()});return(0,u.jsx)(M,{scope:s,disabled:n,direction:o,orientation:c,children:(0,u.jsx)(k.Slot,{scope:s,children:(0,u.jsx)(l.Primitive.div,{...d,"data-orientation":c,ref:h,onKeyDown:n?void 0:f})})})}),O="AccordionItem",[W,Q]=z(O),K=a.default.forwardRef((e,a)=>{let{__scopeAccordion:t,value:s,...r}=e,i=$(O,t),n=E(O,t),l=T(t),o=(0,d.useId)(),c=s&&n.value.includes(s)||!1,m=i.disabled||e.disabled;return(0,u.jsx)(W,{scope:t,open:c,disabled:m,triggerId:o,children:(0,u.jsx)(g,{"data-orientation":i.orientation,"data-state":X(c),...l,...r,ref:a,disabled:m,open:c,onOpenChange:e=>{e?n.onItemOpen(s):n.onItemClose(s)}})})});K.displayName=O;var Z="AccordionHeader",V=a.default.forwardRef((e,a)=>{let{__scopeAccordion:t,...s}=e,r=$(_,t),i=Q(Z,t);return(0,u.jsx)(l.Primitive.h3,{"data-orientation":r.orientation,"data-state":X(i.open),"data-disabled":i.disabled?"":void 0,...s,ref:a})});V.displayName=Z;var U="AccordionTrigger",Y=a.default.forwardRef((e,a)=>{let{__scopeAccordion:t,...s}=e,r=$(_,t),i=Q(U,t),n=L(U,t),l=T(t);return(0,u.jsx)(k.ItemSlot,{scope:t,children:(0,u.jsx)(b,{"aria-disabled":i.open&&!n.collapsible||void 0,"data-orientation":r.orientation,id:i.triggerId,...l,...s,ref:a})})});Y.displayName=U;var G="AccordionContent",J=a.default.forwardRef((e,a)=>{let{__scopeAccordion:t,...s}=e,r=$(_,t),i=Q(G,t),n=T(t);return(0,u.jsx)(y,{role:"region","aria-labelledby":i.triggerId,"data-orientation":r.orientation,...n,...s,ref:a,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function X(e){return e?"open":"closed"}J.displayName=G,e.s(["Content",()=>J,"Header",()=>V,"Item",()=>K,"Root",()=>I,"Trigger",()=>Y],224521)},350046,e=>{"use strict";var a=e.i(478902),t=e.i(224521),s=e.i(88816),r=e.i(389959),i=e.i(843778);let n=t.Root,l=r.forwardRef(({className:e,...s},r)=>(0,a.jsx)(t.Item,{ref:r,className:(0,i.cn)("border-b",e),...s}));l.displayName="AccordionItem";let o=r.forwardRef(({className:e,children:r,hideIcon:n,...l},o)=>(0,a.jsx)(t.Header,{className:"flex",children:(0,a.jsxs)(t.Trigger,{ref:o,className:(0,i.cn)("flex flex-1 gap-2 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180 text-left",e),...l,children:[r,!n&&(0,a.jsx)(s.ChevronDown,{className:"h-4 w-4 transition-transform duration-200 shrink-0"})]})}));o.displayName=t.Trigger.displayName;let c=r.forwardRef(({className:e,children:s,...r},n)=>(0,a.jsx)(t.Content,{ref:n,className:(0,i.cn)("overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",e),...r,children:(0,a.jsx)("div",{className:"pb-4 pt-0",children:s})}));c.displayName=t.Content.displayName,e.s(["Accordion",()=>n,"AccordionContent",()=>c,"AccordionItem",()=>l,"AccordionTrigger",()=>o])},350341,e=>{"use strict";var a=e.i(350046);e.s(["Accordion_Shadcn_",()=>a.Accordion])},31227,154225,e=>{"use strict";var a=e.i(350046);e.s(["AccordionContent_Shadcn_",()=>a.AccordionContent],31227),e.s(["AccordionItem_Shadcn_",()=>a.AccordionItem],154225)},66212,e=>{"use strict";var a=e.i(350046);e.s(["AccordionTrigger_Shadcn_",()=>a.AccordionTrigger])},953344,e=>{"use strict";var a=e.i(3259);e.s(["BreadcrumbPage_Shadcn_",()=>a.BreadcrumbPage])},248002,e=>{"use strict";let a=(0,e.i(388019).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["default",()=>a])},870657,e=>{"use strict";let a=(0,e.i(388019).default)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]]);e.s(["Edit3",()=>a],870657)},960432,e=>{"use strict";let a=(0,e.i(388019).default)("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);e.s(["ScrollText",()=>a],960432)},869922,e=>{"use strict";var a=e.i(755216),t=e.i(242882),s=e.i(246230),r=e.i(714403);let i=a.default.functions.list();async function n({projectRef:e,connectionString:a},t,s){let n=new Headers(s),{result:l}=await (0,r.executeSql)({projectRef:e,connectionString:a,sql:i.sql,queryKey:["database-functions"]},t,n);return l}e.s(["useDatabaseFunctionsQuery",0,({projectRef:e,connectionString:a},{enabled:r=!0,...i}={})=>(0,t.useQuery)({queryKey:s.databaseKeys.databaseFunctions(e),queryFn:({signal:t})=>n({projectRef:e,connectionString:a},t),enabled:r&&void 0!==e,...i})])},269508,e=>{"use strict";var a=e.i(478902),t=e.i(605031),s=e.i(370410),r=e.i(365257),i=e.i(479232),n=e.i(389959);e.i(128328);var l=e.i(158639),o=e.i(869922),c=e.i(635494),d=e.i(210419),u=e.i(271226),m=e.i(206413),h=e.i(592360),x=e.i(178527),p=e.i(837710),f=e.i(703526),g=e.i(917007),j=e.i(920432),b=e.i(549815),v=e.i(911509),y=e.i(996960),N=e.i(866205),C=e.i(793912),S=e.i(135144),_=e.i(689805),w=e.i(396831);e.s(["default",0,({className:e,size:k="tiny",showError:R=!0,disabled:P=!1,schema:z,value:D,onChange:T,filterFunction:I=()=>!0,noResultsLabel:A=(0,a.jsx)("span",{children:"No functions found in this schema."})})=>{let E=(0,u.useRouter)(),{ref:B}=(0,l.useParams)(),{data:L}=(0,c.useSelectedProjectQuery)(),[H,F]=(0,n.useState)(!1),{data:M,error:$,isPending:q,isError:O,isSuccess:W,refetch:Q}=(0,o.useDatabaseFunctionsQuery)({projectRef:L?.ref,connectionString:L?.connectionString}),K=(M??[]).filter(e=>z&&e.schema===z).filter(I),Z=(0,t.default)(K,e=>e.name);return(0,a.jsxs)("div",{className:e,children:[q&&(0,a.jsx)(p.Button,{type:"default",className:"justify-start",block:!0,size:k,loading:!0,children:"Loading functions..."}),R&&O&&(0,a.jsxs)(x.Alert_Shadcn_,{variant:"warning",className:"!px-3 !py-3",children:[(0,a.jsx)(h.AlertTitle_Shadcn_,{className:"text-xs text-amber-900",children:"Failed to load functions"}),(0,a.jsxs)(m.AlertDescription_Shadcn_,{className:"text-xs mb-2",children:["Error: ",$.message]}),(0,a.jsx)(p.Button,{type:"default",size:"tiny",onClick:()=>Q(),children:"Reload functions"})]}),W&&(0,a.jsxs)(_.Popover_Shadcn_,{open:H,onOpenChange:F,modal:!1,children:[(0,a.jsx)(S.PopoverTrigger_Shadcn_,{asChild:!0,children:(0,a.jsx)(p.Button,{size:k,disabled:!!P,type:"default",className:`w-full [&>span]:w-full ${"small"===k?"py-1.5":""}`,iconRight:(0,a.jsx)(r.ChevronsUpDown,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:D?(0,a.jsxs)("div",{className:"w-full flex gap-1",children:[(0,a.jsx)("p",{className:"text-foreground-lighter",children:"function:"}),(0,a.jsx)("p",{className:"text-foreground",children:D})]}):(0,a.jsx)("div",{className:"w-full flex gap-1",children:(0,a.jsx)("p",{className:"text-foreground-lighter",children:"Select a function"})})})}),(0,a.jsx)(C.PopoverContent_Shadcn_,{className:"p-0",side:"bottom",align:"start",sameWidthAsTrigger:!0,children:(0,a.jsxs)(N.Command_Shadcn_,{children:[(0,a.jsx)(j.CommandInput_Shadcn_,{placeholder:"Search functions..."}),(0,a.jsxs)(v.CommandList_Shadcn_,{children:[(0,a.jsx)(f.CommandEmpty_Shadcn_,{children:"No functions found"}),(0,a.jsx)(g.CommandGroup_Shadcn_,{children:(0,a.jsxs)(w.ScrollArea,{className:(Z||[]).length>7?"h-[210px]":"",children:[!Z.length&&(0,a.jsx)(b.CommandItem_Shadcn_,{disabled:!0,className:"flex items-center justify-between space-x-2 w-full",children:A},"no-function-found"),Z.map(e=>(0,a.jsxs)(b.CommandItem_Shadcn_,{value:e.name.replaceAll('"',""),className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{T(e.name),F(!1)},onClick:()=>{T(e.name),F(!1)},children:[(0,a.jsx)("span",{children:e.name}),D===e.name&&(0,a.jsx)(s.Check,{className:"text-brand",size:14,strokeWidth:2})]},e.id))]})}),(0,a.jsx)(y.CommandSeparator_Shadcn_,{}),(0,a.jsx)(g.CommandGroup_Shadcn_,{children:(0,a.jsx)(b.CommandItem_Shadcn_,{className:"cursor-pointer w-full",onSelect:()=>{F(!1),E.push(`/project/${B}/database/functions`)},onClick:()=>F(!1),children:(0,a.jsxs)(d.default,{href:`/project/${B}/database/functions`,onClick:()=>{F(!1)},className:"w-full flex items-center gap-2",children:[(0,a.jsx)(i.Plus,{size:14,strokeWidth:1.5}),(0,a.jsx)("p",{children:"New function"})]})})})]})]})})]})]})}])},772145,e=>{"use strict";var a=e.i(478902),t=e.i(785144),s=e.i(870657),r=e.i(738225),i=e.i(210419),n=e.i(271226),l=e.i(389959);e.i(128328);var o=e.i(158639),c=e.i(768766),d=e.i(240788),u=e.i(635494),m=e.i(412385),h=e.i(773720),x=e.i(242572),p=e.i(996166),f=e.i(953344),g=e.i(165263),j=e.i(837710),b=e.i(843778),v=e.i(672044),y=e.i(725137),N=e.i(613580),C=e.i(466472),S=e.i(456050),_=e.i(108151),w=e.i(242742),k=e.i(862905),R=e.i(55956),P=e.i(418341),z=e.i(248002),z=z,D=e.i(585915),T=e.i(591385),I=e.i(867088),A=e.i(721255),E=e.i(714403),B=e.i(517750);async function L({projectRef:e,connectionString:a,jobId:t,afterRunId:s}){if(!e)throw Error("Project ref is required");let r=`
    SELECT * FROM cron.job_run_details
    WHERE
      jobid = '${t}'
      ${"number"==typeof s?`AND runid < '${s}'`:""}
    ORDER BY runid DESC
    LIMIT 30`,{result:i}=await (0,E.executeSql)({projectRef:e,connectionString:a,sql:r});return i}var H=e.i(248210),F=e.i(955909);function M({page:e}){return(0,a.jsxs)("div",{className:"  text-center h-full w-full items-center justify-center rounded-md px-4 py-12  ",children:[(0,a.jsx)("p",{className:"text-sm text-foreground",children:"jobs"===e?"No cron jobs created yet":"No runs for this cron job yet"}),(0,a.jsx)("p",{className:"text-sm text-foreground-lighter",children:"jobs"===e?'Create one by clicking "Create a new cron job"':"Check the schedule of your cron jobs to see when they run"})]})}let $=[{id:"runid",name:"RunID",minWidth:30,width:30,value:e=>(0,a.jsx)("div",{className:"flex items-center gap-1.5",children:(0,a.jsx)("h3",{className:"text-xs",children:e.runid})})},{id:"message",name:"Message",minWidth:200,value:e=>(0,a.jsx)("div",{className:"flex items-center gap-1.5",children:e.return_message?(0,a.jsxs)(N.Tooltip,{children:[(0,a.jsx)(N.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("span",{className:"text-xs cursor-pointer truncate max-w-[300px]",children:e.return_message})}),(0,a.jsxs)(N.TooltipContent,{side:"bottom",align:"start",className:"min-w-[200px] max-w-[300px] text-wrap p-0",children:[(0,a.jsx)("p",{className:"text-xs font-mono px-2 py-1 border-b bg-surface-100",children:"Message"}),(0,a.jsx)(v.CodeBlock,{hideLineNumbers:!0,language:"sql",value:e.return_message.trim(),className:(0,b.cn)("py-0 px-3.5 max-w-full prose dark:prose-dark border-0 rounded-t-none","[&>code]:m-0 [&>code>span]:flex [&>code>span]:flex-wrap min-h-11","[&>code]:text-xs")})]})]}):(0,a.jsx)("span",{children:"-"})})},{id:"status",name:"Status",minWidth:75,value:e=>(0,a.jsx)(O,{status:e.status})},{id:"start_time",name:"Start Time",minWidth:120,value:e=>(0,a.jsx)("div",{className:"text-xs",children:(0,k.formatDate)(e.start_time)})},{id:"end_time",name:"End Time",minWidth:120,value:e=>(0,a.jsx)("div",{className:"flex items-center text-xs",children:e.end_time?(0,k.formatDate)(e.end_time):"-"})},{id:"duration",name:"Duration",minWidth:100,value:e=>(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)("span",{className:"text-xs",children:e.start_time&&e.end_time?(0,k.calculateDuration)(e.start_time,e.end_time):""})})}].map(e=>({key:e.id,name:e.name,resizable:!0,minWidth:e.minWidth??120,headerCellClass:void 0,renderHeaderCell:()=>(0,a.jsx)("div",{className:(0,b.cn)("flex items-center justify-between font-normal text-xs w-full","runid"===e.id&&"ml-8"),children:(0,a.jsx)("p",{className:"!text-foreground",children:e.name})}),renderCell:t=>{let s=e.value(t.row);if(["start_time","end_time"].includes(e.id)){let s=t.row[e.id];if(s){let e=(0,R.default)(s).valueOf();return(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(F.TimestampInfo,{utcTimestamp:e,labelFormat:"DD MMM YYYY HH:mm:ss (ZZ)",className:"text-xs"})})}}return s}})),q=()=>{let{childId:e}=(0,o.useParams)(),{data:t}=(0,u.useSelectedProjectQuery)(),s=Number(e),{data:r,isPending:i,isFetching:n,fetchNextPage:c}=(({projectRef:e,connectionString:a,jobId:t},{enabled:s=!0,...r}={})=>(0,I.useInfiniteQuery)({queryKey:B.databaseCronJobsKeys.runsInfinite(e,t),queryFn:({pageParam:s})=>L({projectRef:e,connectionString:a,jobId:t,afterRunId:s}),staleTime:0,enabled:s&&void 0!==e,initialPageParam:void 0,getNextPageParam(e){if(!(e.length<30))return(0,A.default)(e)?.runid},...r}))({projectRef:t?.ref,connectionString:t?.connectionString,jobId:s},{enabled:!!s,staleTime:3e4}),d=(0,l.useMemo)(()=>r?.pages.flatMap(e=>e)||[],[r?.pages]),m=(0,l.useCallback)(e=>{!i&&function({currentTarget:e}){return e.scrollTop+10>=e.scrollHeight-e.clientHeight}(e)&&c({cancelRefetch:!1})},[c,i]);return(0,a.jsxs)("div",{className:"h-full flex flex-col",children:[(0,a.jsx)(H.LoadingLine,{loading:n}),(0,a.jsx)(T.default,{className:"flex-grow border-t-0",rowHeight:44,headerRowHeight:36,onScroll:m,columns:$,rows:d??[],rowClass:()=>(0,b.cn)("cursor-pointer","[&>.rdg-cell]:border-box [&>.rdg-cell]:outline-none [&>.rdg-cell]:shadow-none","[&>.rdg-cell:first-child>div]:ml-8"),renderers:{renderRow:(e,t)=>(0,a.jsx)(T.Row,{...t},t.row.job_pid),noRowsFallback:i?(0,a.jsx)("div",{className:"absolute top-14 px-6 w-full",children:(0,a.jsx)(_.GenericSkeletonLoader,{})}):(0,a.jsx)("div",{className:"flex items-center justify-center w-full col-span-6",children:(0,a.jsx)(M,{page:"runs"})})}})]})};function O({status:e}){return"succeeded"===e?(0,a.jsxs)("span",{className:"text-brand-600 flex items-center gap-1 text-xs",children:[(0,a.jsx)(P.CircleCheck,{size:14})," Succeeded"]}):"failed"===e?(0,a.jsxs)("span",{className:"text-destructive flex items-center gap-1 text-xs",children:[(0,a.jsx)(z.default,{size:14})," Failed"]}):["running","starting","sending","connecting"].includes(e)?(0,a.jsxs)("span",{className:"text-_secondary flex items-center gap-1 text-xs",children:[(0,a.jsx)(D.Loader,{size:14,className:"animate-spin"})," Running"]}):null}let W=({visible:e,onClose:t,onCancel:s})=>(0,a.jsx)(C.default,{visible:e,title:"Discard changes",confirmLabel:"Discard",onCancel:s,onConfirm:t,children:(0,a.jsx)("p",{className:"text-sm text-foreground-light",children:"There are unsaved changes. Are you sure you want to close the panel? Your changes will be lost."})});e.s(["CronJobPage",0,()=>{let e=(0,n.useRouter)(),{ref:C,id:R,pageId:P,childId:z}=(0,o.useParams)(),D=e?.query?.["child-label"],{data:T}=(0,u.useSelectedProjectQuery)(),[I,A]=(0,l.useState)(!1),E=Number(z),{data:B,isPending:L}=(0,c.useCronJobQuery)({projectRef:T?.ref,connectionString:T?.connectionString,id:E}),{data:H=[]}=(0,d.useEdgeFunctionsQuery)({projectRef:T?.ref}),F=(0,k.parseCronJobCommand)(B?.command||"",T?.ref),M="edge_function"===F.type?F.edgeFunctionName:void 0,$=M?.split("/functions/v1/").pop(),O=H.some(e=>e.slug===$),[Q,K]=(0,l.useState)(!1),{confirmOnClose:Z,modalProps:V}=(0,m.useConfirmOnClose)({checkIsDirty:()=>Q,onClose:()=>{K(!1),A(!1)}}),U=D||z||"Cron Job",Y=B?(0,a.jsxs)("div",{className:"text-sm text-foreground-light",children:["Running"," ",(0,a.jsxs)(N.Tooltip,{children:[(0,a.jsx)(N.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("span",{className:"cursor-pointer underline decoration-dotted lowercase",children:(0,k.isSecondsFormat)(B.schedule)?B.schedule.toLowerCase():(0,t.toString)(B.schedule.toLowerCase())})}),(0,a.jsx)(N.TooltipContent,{side:"bottom",align:"center",children:(0,a.jsxs)("div",{className:"text-xs",children:[(0,a.jsx)("p",{className:"font-mono mb-1",children:B.schedule.toLowerCase()}),!(0,k.isSecondsFormat)(B.schedule)&&(0,a.jsx)("p",{className:"text-foreground-light",children:(0,t.toString)(B.schedule.toLowerCase())})]})})]})," ","with command"," ",(0,a.jsxs)(N.Tooltip,{children:[(0,a.jsx)(N.TooltipTrigger,{asChild:!0,children:(0,a.jsx)("code",{className:"text-code-inline max-w-[200px] inline-block truncate align-bottom cursor-pointer",children:B.command})}),(0,a.jsxs)(N.TooltipContent,{side:"bottom",align:"center",className:"min-w-[200px] max-w-[400px] text-wrap p-0",children:[(0,a.jsx)("p",{className:"text-xs font-mono px-2 py-1 border-b bg-surface-100",children:"Command"}),(0,a.jsx)(v.CodeBlock,{hideLineNumbers:!0,language:"sql",value:B.command.trim(),className:(0,b.cn)("py-0 px-3.5 max-w-full prose dark:prose-dark border-0 rounded-t-none","[&>code]:m-0 [&>code>span]:flex [&>code>span]:flex-wrap min-h-11","[&>code]:text-xs")})]})]})]}):null,G=[(0,a.jsx)(j.Button,{type:"outline",icon:(0,a.jsx)(s.Edit3,{strokeWidth:1.5,size:"14"}),onClick:()=>A(!0),children:"Edit"},"edit"),(0,a.jsx)(j.Button,{asChild:!0,type:"outline",icon:(0,a.jsx)(r.List,{strokeWidth:1.5,size:"14"}),children:(0,a.jsx)(i.default,{target:"_blank",rel:"noopener noreferrer",href:`/project/${T?.ref}/logs/pgcron-logs/`,children:"View Cron logs"})},"view-logs"),...O?[(0,a.jsx)(j.Button,{asChild:!0,type:"outline",children:(0,a.jsx)(i.default,{target:"_blank",rel:"noopener noreferrer",href:`/project/${T?.ref}/functions/${$}/logs`,children:"View Edge Function logs"})},"view-edge-logs")]:[]];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(S.PageHeader,{size:"full",className:"pb-6",children:[(0,a.jsx)(S.PageHeaderBreadcrumb,{children:(0,a.jsxs)(p.BreadcrumbList_Shadcn_,{children:[(0,a.jsx)(h.BreadcrumbItem_Shadcn_,{children:(0,a.jsx)(x.BreadcrumbLink_Shadcn_,{asChild:!0,children:(0,a.jsx)(i.default,{href:`/project/${C}/integrations`,children:"Integrations"})})}),(0,a.jsx)(g.BreadcrumbSeparator_Shadcn_,{}),(0,a.jsx)(h.BreadcrumbItem_Shadcn_,{children:(0,a.jsx)(x.BreadcrumbLink_Shadcn_,{asChild:!0,children:(0,a.jsx)(i.default,{href:`/project/${C}/integrations/${R}/${P}`,children:"Cron"})})}),(0,a.jsx)(g.BreadcrumbSeparator_Shadcn_,{}),(0,a.jsx)(h.BreadcrumbItem_Shadcn_,{children:(0,a.jsx)(f.BreadcrumbPage_Shadcn_,{children:D??B?.jobname??"Cron Job"})})]})}),(0,a.jsxs)(S.PageHeaderMeta,{children:[(0,a.jsxs)(S.PageHeaderSummary,{children:[(0,a.jsx)(S.PageHeaderTitle,{children:U}),(0,a.jsx)(S.PageHeaderDescription,{children:L?(0,a.jsx)(_.ShimmeringLoader,{className:"py-0 h-[20px] w-96"}):Y})]}),G.length>0&&(0,a.jsx)(S.PageHeaderAside,{children:G})]})]}),(0,a.jsx)(q,{}),(0,a.jsx)(y.Sheet,{open:I,onOpenChange:A,children:(0,a.jsx)(y.SheetContent,{size:"lg",children:B&&(0,a.jsx)(w.CreateCronJobSheet,{selectedCronJob:{jobname:B.jobname,schedule:B.schedule,active:B.active,command:B.command},supportsSeconds:!0,onDirty:K,onClose:()=>A(!1),onCloseWithConfirmation:Z})})}),(0,a.jsx)(W,{...V})]})}],772145)},323205,e=>{e.n(e.i(772145))}]);

//# debugId=05582920-dc62-ef95-c1ff-338b3144e5dd
//# sourceMappingURL=937a2192a18e7502.js.map