;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="9b9e4229-a779-9543-1840-a31c74e3a519")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25123,e=>{"use strict";var t=e.i(265735);function s(){let{data:e}=(0,t.useSelectedOrganizationQuery)();return e?{plan:e?.plan,usageBillingEnabled:e?.usage_billing_enabled,isLoading:!1,isSuccess:!0}:{plan:null,usageBillingEnabled:null,isLoading:!0,isSuccess:!1}}e.s(["useCurrentOrgPlan",()=>s])},929461,e=>{"use strict";var t=e.i(242882),s=e.i(234745),r=e.i(718727);async function a({projectRef:e,type:t,name:r,limit:a=10},l){if(void 0===e)throw Error("projectRef is required for getContent");let{data:i,error:n}=await (0,s.get)("/platform/projects/{ref}/content",{params:{path:{ref:e},query:{type:t,name:r,limit:a.toString()}},signal:l});return n&&(0,s.handleError)(n),{cursor:i.cursor,content:i.data}}e.s(["useContentQuery",0,({projectRef:e,type:s,name:l,limit:i},{enabled:n=!0,...o}={})=>(0,t.useQuery)({queryKey:r.contentKeys.list(e,{type:s,name:l,limit:i}),queryFn:({signal:t})=>a({projectRef:e,type:s,name:l,limit:i},t),enabled:n&&void 0!==e,...o})])},586011,e=>{"use strict";var t=e.i(38429),s=e.i(356003),r=e.i(355901),a=e.i(234745),l=e.i(718727);async function i({projectRef:e,ids:t},s){let{data:r,error:l}=await (0,a.del)("/platform/projects/{ref}/content",{headers:{Version:"2"},params:{path:{ref:e},query:{ids:t.join(",")}},signal:s});return l&&(0,a.handleError)(l),r.map(e=>e.id)}e.s(["useContentDeleteMutation",0,({onSuccess:e,onError:a,...n}={})=>{let o=(0,s.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>i(e),async onSuccess(t,s,r){let{projectRef:a}=s;await Promise.all([o.invalidateQueries({queryKey:l.contentKeys.allContentLists(a)}),o.invalidateQueries({queryKey:l.contentKeys.infiniteList(a)})]),await e?.(t,s,r)},async onError(e,t,s){void 0===a?r.toast.error(`Failed to delete contents: ${e.message}`):a(e,t,s)},...n})}])},271332,e=>{"use strict";var t=e.i(478902),s=e.i(389959),r=e.i(843778),a=e.i(837710),l=e.i(253214);let i=(0,s.forwardRef)(({children:e,customFooter:i,description:n,hideFooter:o=!1,alignFooter:c="left",layout:d="horizontal",loading:u=!1,cancelText:p="Cancel",onConfirm:m=()=>{},onCancel:x=()=>{},confirmText:g="Confirm",showCloseButton:h=!0,footerBackground:f,variant:j="success",visible:y=!1,size:v="large",style:b,overlayStyle:N,contentStyle:C,triggerElement:S,header:w,modal:I,defaultOpen:R,...k},P)=>{let[T,E]=s.default.useState(!!y&&y);(0,s.useEffect)(()=>{E(y)},[y]);let A=i||(0,t.jsxs)("div",{className:"flex w-full space-x-2",style:{width:"100%",justifyContent:"vertical"===d?"center":"right"===c?"flex-end":"flex-start"},children:[(0,t.jsx)(a.Button,{type:"default",onClick:x,disabled:u,children:p}),(0,t.jsx)(a.Button,{onClick:m,disabled:u,loading:u,type:"danger"===j?"danger":"warning"===j?"warning":"primary",children:g})]});return(0,t.jsxs)(l.Dialog,{open:T,defaultOpen:R,onOpenChange:function(e){void 0===y||e?E(e):x()},modal:I,children:[S&&(0,t.jsx)(l.DialogTrigger,{children:S}),(0,t.jsxs)(l.DialogContent,{ref:P,hideClose:!h,...k,size:v,children:[w||n?(0,t.jsxs)(l.DialogHeader,{className:(0,r.cn)("border-b"),padding:"small",children:[w&&(0,t.jsx)(l.DialogTitle,{children:w}),n&&(0,t.jsx)(l.DialogDescription,{children:n})]}):null,e,!o&&(0,t.jsx)(l.DialogFooter,{padding:"small",children:A})]})]})}),n=(0,s.forwardRef)(({...e},s)=>(0,t.jsx)(l.DialogSection,{ref:s,...e,padding:"small",className:(0,r.cn)(e.className)})),o=(0,s.forwardRef)(({...e},s)=>(0,t.jsx)(l.DialogSectionSeparator,{ref:s,...e}));i.Content=n,i.Separator=o,e.s(["default",0,i])},40892,e=>{"use strict";var t=e.i(271332);e.s(["Modal",()=>t.default])},441345,e=>{"use strict";var t=e.i(343563);e.s(["Form",()=>t.default])},95069,e=>{"use strict";let t=(0,e.i(388019).default)("ChevronsDown",[["path",{d:"m7 6 5 5 5-5",key:"1lc07p"}],["path",{d:"m7 13 5 5 5-5",key:"1d48rs"}]]);e.s(["ChevronsDown",()=>t],95069)},498377,e=>{"use strict";var t=e.i(478902),s=e.i(416050),r=e.i(95069),a=e.i(774803),l=e.i(366652),i=e.i(210419),n=e.i(389959),o=e.i(843778),c=e.i(925282),d=e.i(774234),u=e.i(554855),p=e.i(874311),m=e.i(378277);e.i(903248);var x=e.i(613580),g=e.i(792459);e.i(108151);let h=(0,n.forwardRef)(({...e},s)=>(0,t.jsx)(c.Collapsible_Shadcn_,{ref:s,...e,className:(0,o.cn)("w-full px-2 group",e.className)})),f=(0,n.forwardRef)(({...e},r)=>(0,t.jsxs)(u.CollapsibleTrigger_Shadcn_,{ref:r,...e,className:(0,o.cn)("w-full flex gap-1 items-center group px-3 text-sm font-normal font-mono uppercase text-lighter tracking-wide",e.className),children:[(0,t.jsx)(s.ChevronRight,{className:"transition-all text-foreground-muted group-data-[state=open]:rotate-90",size:16,strokeWidth:1.5}),(0,t.jsx)("span",{className:"group-hover:not-disabled:text-foreground",children:e.title})]})),j=(0,n.forwardRef)(({...e},s)=>(0,t.jsx)(d.CollapsibleContent_Shadcn_,{ref:s,...e,className:(0,o.cn)("w-full flex flex-col gap-0",e.className)})),y=(0,n.forwardRef)((e,s)=>(0,t.jsx)("div",{ref:s,...e,className:(0,o.cn)("h-px bg-border-muted",e.className)})),v=(0,n.forwardRef)(({className:e,isActive:s,forceHoverState:r,...a},l)=>(0,t.jsx)(i.default,{ref:l,...a,"aria-current":s,className:(0,o.cn)("text-sm","h-7 pl-3 pr-2","flex items-center justify-between rounded-md group relative",s?"bg-selection":"hover:bg-surface-200",r&&"bg-surface-200",s?"text-foreground":"text-foreground-light hover:text-foreground",e)})),b=(0,n.forwardRef)(({isActive:e=!0,forceHoverState:s,isPreview:r,isOpened:a=!0,...l},n)=>(0,t.jsxs)(i.default,{ref:n,...l,"aria-current":e,className:(0,o.cn)((0,g.TreeViewItemVariant)({isSelected:e&&!r,isOpened:a&&!r,isPreview:r}),"px-4",l.className),children:[!r&&e&&(0,t.jsx)("div",{className:"absolute left-0 h-full w-0.5 bg-foreground"}),l.children]})),N=(0,n.forwardRef)((e,s)=>(0,t.jsx)("div",{ref:s,...e,className:(0,o.cn)("flex px-2 gap-2 items-center",e.className)})),C=(0,n.forwardRef)(({children:e,isLoading:s=!1,...r},i)=>(0,t.jsxs)("label",{htmlFor:r.name,className:"relative w-full",children:[(0,t.jsx)("span",{className:"sr-only",children:r["aria-labelledby"]}),(0,t.jsx)(m.Input_Shadcn_,{ref:i,type:"text",className:(0,o.cn)("h-[32px] md:h-[28px] w-full","text-base md:text-xs","pl-7","pr-7","w-full","rounded",r.className),...r}),e,s?(0,t.jsx)(a.Loader2,{className:"animate-spin absolute left-2 text-foreground-muted",style:{top:7},size:14,strokeWidth:1.5}):(0,t.jsx)(l.Search,{className:"absolute left-2 top-0 bottom-0 my-auto text-foreground-muted",size:14,strokeWidth:1.5})]})),S=(0,n.forwardRef)(({value:e,onValueChange:s,contentClassName:a,triggerClassName:l,...i},n)=>(0,t.jsxs)(p.DropdownMenu,{modal:!1,children:[(0,t.jsxs)(x.Tooltip,{delayDuration:0,children:[(0,t.jsx)(p.DropdownMenuTrigger,{asChild:!0,className:(0,o.cn)("absolute right-1 top-[.4rem] md:top-[.3rem]","text-foreground transition-colors hover:text-foreground data-[state=open]:text-foreground",l),children:(0,t.jsx)(x.TooltipTrigger,{children:(0,t.jsx)(r.ChevronsDown,{size:18,strokeWidth:1})})}),(0,t.jsx)(x.TooltipContent,{side:"bottom",children:"Sort By"})]}),(0,t.jsx)(p.DropdownMenuContent,{side:"bottom",align:"end",className:(0,o.cn)("w-48",a),children:(0,t.jsx)(p.DropdownMenuRadioGroup,{value:e,onValueChange:s,children:i.children})})]})),w=(0,n.forwardRef)((e,s)=>(0,t.jsx)(p.DropdownMenuRadioItem,{ref:s,...e})),I=(0,n.forwardRef)(({illustration:e,title:s,description:r,actions:a,...l},i)=>(0,t.jsx)("div",{ref:i,...l,className:(0,o.cn)("border border-muted bg-surface-100 dark:bg-surface-75 flex flex-col gap-y-3 items-center justify-center rounded-md px-5 py-4",l.className),children:(0,t.jsxs)("div",{className:"w-full flex flex-col gap-y-1 items-center",children:[e,s&&(0,t.jsx)("p",{className:"text-xs text-foreground-light",children:s}),r&&(0,t.jsx)("p",{className:"text-xs text-foreground-lighter text-center",children:r}),a&&(0,t.jsx)("div",{className:"mt-2",children:a}),l.children]})}));e.s(["InnerSideBarEmptyPanel",()=>I,"InnerSideBarFilterSearchInput",()=>C,"InnerSideBarFilterSortDropdown",()=>S,"InnerSideBarFilterSortDropdownItem",()=>w,"InnerSideBarFilters",()=>N,"InnerSideMenuCollapsible",()=>h,"InnerSideMenuCollapsibleContent",()=>j,"InnerSideMenuCollapsibleTrigger",()=>f,"InnerSideMenuDataItem",()=>b,"InnerSideMenuItem",()=>v,"InnerSideMenuSeparator",()=>y])},223173,674742,843819,928253,993032,e=>{"use strict";var t=e.i(478902);e.i(481541);var s=e.i(126200);e.s(["Datadog",()=>s.default],674742);var s=s,r=e.i(841231);e.s(["Grafana",()=>r.default],843819);var r=r,a=e.i(660253);e.s(["Sentry",()=>a.default],928253);var a=a,l=e.i(33034),l=l,i=e.i(388019);let n=(0,i.default)("Braces",[["path",{d:"M8 3H7a2 2 0 0 0-2 2v5a2 2 0 0 1-2 2 2 2 0 0 1 2 2v5c0 1.1.9 2 2 2h1",key:"ezmyqa"}],["path",{d:"M16 21h1a2 2 0 0 0 2-2v-5c0-1.1.9-2 2-2a2 2 0 0 1-2-2V5a2 2 0 0 0-2-2h-1",key:"e1hn23"}]]);e.s(["BracesIcon",()=>n],993032);let o=(0,i.default)("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),c={height:24,width:24,className:"text-foreground-light"},d=[{value:"webhook",name:"Custom Endpoint",description:"Forward logs as a POST request to a custom HTTP endpoint",icon:(0,t.jsx)(n,{...c})},{value:"datadog",name:"Datadog",description:"Datadog is a monitoring service for cloud-scale applications",icon:(0,t.jsx)(s.default,{...c,fill:"currentColor",strokeWidth:0})},{value:"loki",name:"Loki",description:"Loki is an open-source log aggregation system designed to store and query logs from multiple sources",icon:(0,t.jsx)(r.default,{...c,fill:"currentColor",strokeWidth:0})},{value:"s3",name:"Amazon S3",description:"Forward logs to an S3 bucket",icon:(0,t.jsx)(o,{...c})},{value:"sentry",name:"Sentry",description:"Sentry is an application monitoring service that helps developers identify and debug performance issues and errors",icon:(0,t.jsx)(a.default,{...c,fill:"currentColor",strokeWidth:0})},{value:"axiom",name:"Axiom",description:"Axiom is a data platform designed to efficiently collect, store, and analyze event and telemetry data at massive scale.",icon:(0,t.jsx)(l.default,{...c,fill:"currentColor",strokeWidth:0})}];d.map(e=>e.value),e.s(["DATADOG_REGIONS",0,[{label:"AP1",value:"AP1"},{label:"AP2",value:"AP2"},{label:"EU",value:"EU"},{label:"US1",value:"US1"},{label:"US1-FED",value:"US1-FED"},{label:"US3",value:"US3"},{label:"US5",value:"US5"}],"LOG_DRAIN_TYPES",0,d],223173)},223600,e=>{"use strict";var t=e.i(478902),s=e.i(370410),r=e.i(816467),a=e.i(389959),l=e.i(837710),i=e.i(843778),n=e.i(375761);let o=(0,a.forwardRef)(({text:e,asyncText:o,iconOnly:c=!1,children:d,onClick:u,copyLabel:p="Copy",copiedLabel:m="Copied",...x},g)=>{let[h,f]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(!h)return;let e=setTimeout(()=>f(!1),2e3);return()=>clearTimeout(e)},[h]),(0,t.jsx)(l.Button,{ref:g,onClick:t=>{let s=o?o():e;f(!0),(0,n.copyToClipboard)(s),u?.(t)},...x,className:(0,i.cn)({"px-1":c},x.className),icon:h?(0,t.jsx)(s.Check,{strokeWidth:2,className:"text-brand"}):x.icon??(0,t.jsx)(r.Copy,{}),children:!c&&(0,t.jsx)(t.Fragment,{children:d??(h?m:p)})})});o.displayName="CopyButton",e.s(["default",0,o])},979377,e=>{"use strict";var t=e.i(478902),s=e.i(210419),r=e.i(265735),a=e.i(837710),l=e.i(40892),i=e.i(993394);e.s(["default",0,({show:e,setShowUpgradePrompt:n,title:o="Log retention",description:c="Logs can be retained up to a duration of 3 months depending on the plan that your project is on.",source:d="logsRetentionUpgradePrompt"})=>{let{data:u}=(0,r.useSelectedOrganizationQuery)();return(0,t.jsxs)(l.Modal,{hideFooter:!0,visible:e,size:"medium",header:o,onCancel:()=>n(!1),children:[(0,t.jsx)(l.Modal.Content,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm",children:c}),(0,t.jsxs)("div",{className:"border-control bg-surface-300 rounded border",children:[(0,t.jsxs)("div",{className:"flex items-center px-4 pt-2 pb-1",children:[(0,t.jsx)("p",{className:"text-foreground-light w-[40%] text-sm",children:"Plan"}),(0,t.jsx)("p",{className:"text-foreground-light w-[60%] text-sm",children:"Retention duration"})]}),(0,t.jsxs)("div",{className:"py-1",children:[(0,t.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,t.jsx)("p",{className:"w-[40%] text-sm",children:"Free"}),(0,t.jsx)("p",{className:"w-[60%] text-sm",children:i.TIER_QUERY_LIMITS.FREE.text})]}),(0,t.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,t.jsx)("p",{className:"w-[40%] text-sm",children:"Pro"}),(0,t.jsx)("p",{className:"w-[60%] text-sm",children:i.TIER_QUERY_LIMITS.PRO.text})]}),(0,t.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,t.jsx)("p",{className:"w-[40%] text-sm",children:"Team"}),(0,t.jsx)("p",{className:"w-[60%] text-sm",children:i.TIER_QUERY_LIMITS.TEAM.text})]}),(0,t.jsxs)("div",{className:"flex items-center px-4 py-1",children:[(0,t.jsx)("p",{className:"w-[40%] text-sm",children:"Enterprise"}),(0,t.jsx)("p",{className:"w-[60%] text-sm",children:i.TIER_QUERY_LIMITS.ENTERPRISE.text})]})]})]})]})}),(0,t.jsx)(l.Modal.Separator,{}),(0,t.jsxs)(l.Modal.Content,{className:"flex justify-end gap-3",children:[(0,t.jsx)(a.Button,{type:"default",onClick:()=>n(!1),children:"Close"}),(0,t.jsx)(a.Button,{asChild:!0,size:"tiny",children:(0,t.jsx)(s.default,{href:`/org/${u?.slug}/billing?panel=subscriptionPlan&source=${d}`,children:"Upgrade"})})]})]})}])},218786,e=>{"use strict";var t=e.i(478902);e.i(223600),e.i(460988);var s=e.i(867637),r=e.i(833655);e.i(55956);var a=e.i(843778);function l(e){let t=JSON.stringify(e,null,2);return(t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="number text-tomato-900";return/^"/.test(e)?t=/:$/.test(e)?"key text-foreground":"string text-brand-600":/true|false/.test(e)?t="boolean text-blue-900":/null/.test(e)&&(t="null text-amber-1100"),'<span class="'+t+'">'+e+"</span>"}).split(`
`).map(e=>`<span class="line text-xs">${e}</span>`).join("\n")}e.s(["ResponseCodeFormatter",0,({value:e})=>{if(!e)return(0,t.jsx)("div",{children:(0,t.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let s=({children:e,className:s})=>(0,t.jsx)("div",{className:"flex h-full items-center",children:(0,t.jsx)("div",{className:(0,a.cn)("relative flex h-6 items-center rounded-md justify-center px-2 py-1 text-center",s),children:(0,t.jsx)("label",{className:"block font-mono text-sm",children:e})})});switch(e.toString().split("")[0]){case"1":return(0,t.jsx)(s,{children:e});case"2":return(0,t.jsx)(s,{className:"bg-surface-100 text-brand",children:e});case"5":return(0,t.jsx)(s,{className:"bg-red-300 text-red-1100",children:e});case"4":case"3":return(0,t.jsx)(s,{className:"bg-amber-300 text-amber-1100",children:e});default:return(0,t.jsx)(s,{className:"bg-surface-100 text-foreground-lighter",children:e})}},"RowLayout",0,({children:e})=>(0,t.jsx)("div",{className:"flex h-full w-full items-center gap-4",children:e}),"SeverityFormatter",0,({value:e,uppercase:a=!0})=>{if(!e)return(0,t.jsx)("div",{children:(0,t.jsx)("label",{className:"text-xs text-border-stronger",children:"No data"})});let l=e.toUpperCase(),i=a?l:e,n=({className:e,children:s})=>(0,t.jsx)("div",{className:`w-24 flex items-center h-full ${e}`,children:s});switch(l){case"UNCAUGHTEXCEPTION":case"PANIC":case"FATAL":case"ERROR":return(0,t.jsxs)(n,{className:"gap-1",children:[(0,t.jsx)("div",{className:" p-0.5 rounded !text-red-900",children:(0,t.jsx)(s.AlertCircle,{size:14,strokeWidth:2})}),(0,t.jsx)("span",{className:"!text-red-900 !block titlecase",children:i})]});case"INFO":case"DEBUG":return(0,t.jsxs)(n,{className:"gap-1",children:[(0,t.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,t.jsx)(s.AlertCircle,{size:14,strokeWidth:2})}),(0,t.jsx)("span",{className:"!text-blue-900 !block titlecase",children:i})]});case"LOG":return(0,t.jsxs)(n,{className:"gap-1",children:[(0,t.jsx)("div",{className:" p-0.5 rounded !text-blue-900",children:(0,t.jsx)(r.Info,{size:14,strokeWidth:2})}),(0,t.jsx)("span",{className:"!text-blue-900 !block titlecase",children:i})]});case"WARNING":return(0,t.jsxs)(n,{className:"gap-1",children:[(0,t.jsx)("div",{className:" p-0.5 rounded !text-amber-900",children:(0,t.jsx)(s.AlertCircle,{size:14,strokeWidth:2})}),(0,t.jsx)("span",{className:"!text-amber-900 !block titlecase",children:i})]});default:return(0,t.jsx)(n,{children:(0,t.jsx)("div",{className:"relative rounded px-2 py-1 text-center h-6 flex justify-center items-center bg-surface-100",children:(0,t.jsx)("label",{className:"block font-mono text-sm text-foreground-lighter",children:i})})})}},"TextFormatter",0,({value:e,className:s})=>(0,t.jsx)("span",{className:(0,a.cn)("font-mono text-xs truncate select-text cursor-text",s),children:e}),"jsonSyntaxHighlight",()=>l])},124532,e=>{"use strict";var t=e.i(478902),s=e.i(843778);function r({title:e,description:r,illustration:a,actions:l,className:i}){return(0,t.jsxs)("div",{className:(0,s.cn)("rounded-lg border p-4 space-y-3","bg-muted/10 border-border/50","text-left [&_*]:text-left [&_div]:items-start",i),children:[a&&(0,t.jsx)("div",{className:"flex justify-start items-start",children:a}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("h3",{className:"font-medium text-sm text-foreground",children:e}),(0,t.jsx)("p",{className:"text-xs text-foreground-light",children:r})]}),l&&(0,t.jsx)("div",{className:"flex justify-start items-start gap-x-2",children:l})]})}e.s(["FeaturePreviewSidebarPanel",()=>r])},275887,e=>{"use strict";let t=(0,e.i(388019).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);e.s(["MoreHorizontal",()=>t],275887)},737051,e=>{"use strict";e.i(128328);var t=e.i(657588),s=e.i(265735);e.s(["useIsETLPrivateAlpha",0,()=>{let{data:e}=(0,s.useSelectedOrganizationQuery)(),r=(0,t.useFlag)("etlPrivateAlpha"),a="string"==typeof r?r.split(",").map(e=>e.trim()):[];return(0,t.useFlag)("etlPrivateAlphaOverride")||a.includes(e?.slug??"")}])},237664,e=>{"use strict";e.s(["replicationKeys",0,{sources:e=>["projects",e,"sources"],destinations:e=>["projects",e,"destinations"],destinationById:(e,t)=>["projects",e,"destinations",t],publications:(e,t)=>["projects",e,"sources",t,"publications"],tables:(e,t)=>["projects",e,"sources",t,"tables"],pipelines:e=>["projects",e,"pipelines"],pipelineById:(e,t)=>["projects",e,"pipelines",t],pipelinesStatus:(e,t)=>["projects",e,"pipelines",t,"status"],pipelinesReplicationStatus:(e,t)=>["projects",e,"pipelines",t,"replication-status"],pipelinesVersion:(e,t)=>["projects",e,"pipelines",t,"version"]}])},344409,633089,e=>{"use strict";var t=e.i(242882),s=e.i(234745),r=e.i(237664),a=e.i(741391);e.i(56031);var l=e.i(237948);let i=(e,t)=>!(t instanceof l.ResponseError&&503===t.code&&t.message.includes("feature flag is required"))&&e<a.MAX_RETRY_FAILURE_COUNT;async function n({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:r,error:a}=await (0,s.get)("/platform/replication/{ref}/sources",{params:{path:{ref:e}},signal:t});return a&&(0,s.handleError)(a),r}e.s(["checkReplicationFeatureFlagRetry",0,i],633089),e.s(["useReplicationSourcesQuery",0,({projectRef:e},{enabled:s=!0,...a}={})=>(0,t.useQuery)({queryKey:r.replicationKeys.sources(e),queryFn:({signal:t})=>n({projectRef:e},t),enabled:s&&void 0!==e,refetchOnMount:!1,refetchOnWindowFocus:!1,retry:i,...a})],344409)},281050,e=>{"use strict";var t=e.i(50470);e.s(["CircleHelpIcon",()=>t.default])},421605,276708,e=>{"use strict";var t=e.i(478902),s=e.i(271226),r=e.i(389959),a=e.i(355901);e.i(128328);var l=e.i(158639),i=e.i(586011),n=e.i(420985),o=e.i(874311),c=e.i(466472),d=e.i(837710),u=e.i(441345),p=e.i(171997),m=e.i(40892);let x=({visible:e,onCancel:s,onSubmit:r,initialValues:a})=>(0,t.jsx)(m.Modal,{visible:e,onCancel:s,hideFooter:!0,header:"Update saved query",size:"medium",children:(0,t.jsx)(u.Form,{onReset:s,validateOnBlur:!0,initialValues:a,validate:function(e){let t={};return e.name||(t.name="Required"),t},onSubmit:r,children:({isSubmitting:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(m.Modal.Content,{children:(0,t.jsx)(p.Input,{label:"Name",id:"name",name:"name"})}),(0,t.jsx)(m.Modal.Content,{children:(0,t.jsx)(p.Input.TextArea,{label:"Description",id:"description",placeholder:"Describe query",size:"medium",textAreaClassName:"resize-none"})}),(0,t.jsx)(m.Modal.Separator,{}),(0,t.jsxs)(m.Modal.Content,{className:"flex items-center justify-end gap-2",children:[(0,t.jsx)(d.Button,{htmlType:"reset",type:"default",onClick:s,disabled:e,children:"Cancel"}),(0,t.jsx)(d.Button,{htmlType:"submit",loading:e,disabled:e,children:"Save query"})]})]})})});var g=e.i(53071),h=e.i(211570);e.i(481541);var f=e.i(171137),j=e.i(275887),y=e.i(210419),v=e.i(843778);function b({label:e,icon:s,dropdownItems:r,href:a,isActive:l,onClick:i}){return(0,t.jsxs)("div",{className:(0,v.cn)({"bg-foreground-lighter/10":l},"relative flex [&:has([data-state=open])]:bg-foreground-lighter/10 [&:has([data-state=open])]:text-foreground hover:text-foreground hover:bg-foreground-lighter/10 transition-all text-foreground-light group"),children:[(0,t.jsxs)(y.default,{onClick:i,href:a,className:"h-7 flex-1 text-sm px-4 flex items-center gap-2 truncate",children:[(0,t.jsx)("span",{children:s}),(0,t.jsx)("span",{className:"truncate",children:e})]}),r&&(0,t.jsxs)(o.DropdownMenu,{children:[(0,t.jsx)(o.DropdownMenuTrigger,{asChild:!0,onClick:e=>{e.preventDefault()},children:(0,t.jsx)(d.Button,{type:"text",title:"Actions",className:"space-x-0 h-7 px-1.5 opacity-0 group-hover:opacity-100 !bg-transparent data-[state=open]:opacity-100",icon:(0,t.jsx)(j.MoreHorizontal,{size:14}),children:(0,t.jsx)("div",{className:"sr-only",children:"Actions"})})}),(0,t.jsx)(o.DropdownMenuContent,{className:"w-48",align:"end",children:r})]})]})}e.s(["LogsSidebarItem",()=>b],276708),e.s(["default",0,({item:e})=>{let d=(0,s.useRouter)(),{ref:u}=(0,l.useParams)(),[p,m]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),{mutate:v}=(0,i.useContentDeleteMutation)({onSuccess:()=>{m(!1),a.toast.success("Successfully deleted query")},onError:e=>{a.toast.error(`Failed to delete saved query: ${e.message}`)}}),{mutate:N}=(0,n.useContentUpsertMutation)({onSuccess:()=>{y(!1),a.toast.success("Successfully updated query")},onError:e=>{a.toast.error(`Failed to update query: ${e.message}`)}}),C=async()=>{if(!u||"string"!=typeof u)return console.error("Invalid project reference");v({projectRef:u,ids:[e.id]})},S=async({name:t,description:s})=>{if(!u||"string"!=typeof u)return console.error("Invalid project reference");N({projectRef:u,payload:{...e,name:t,description:s||void 0,type:"log_sql",visibility:"user"}})},w=d.query.queryId===e.id;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b,{label:e.name,icon:(0,t.jsx)(f.SqlEditor,{size:"15"}),href:`/project/${u}/logs/explorer?queryId=${encodeURIComponent(e.id)}&q=${encodeURIComponent(e.content.sql)}`,isActive:w,dropdownItems:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(o.DropdownMenuItem,{onClick:()=>y(!0),children:[(0,t.jsx)(g.Edit,{size:14,className:"mr-2"}),"Edit query"]}),(0,t.jsx)(o.DropdownMenuSeparator,{}),(0,t.jsxs)(o.DropdownMenuItem,{onClick:()=>{m(!0)},children:[(0,t.jsx)(h.Trash,{size:14,className:"mr-2"}),"Delete query"]})]})}),(0,t.jsx)(c.default,{variant:"destructive",visible:p,confirmLabel:"Delete query",title:"Confirm to delete saved query",onCancel:()=>{m(!1)},onConfirm:C,children:(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:["Are you sure you want to delete ",e.name,"?"]})}),(0,t.jsx)(x,{visible:j,initialValues:{name:e.name,description:e.description},onCancel:()=>{y(!1)},onSubmit:e=>{S(e)}})]})}],421605)},20318,e=>{"use strict";var t=e.i(478902),s=e.i(902858),r=e.i(693241),a=e.i(2579),l=e.i(951138),i=e.i(825713),n=e.i(416050),o=e.i(281050),c=e.i(479232),d=e.i(210419),u=e.i(271226),p=e.i(389959);e.i(128328);var m=e.i(86086),x=e.i(657588),g=e.i(158639),h=e.i(463333),f=e.i(737051),j=e.i(223173),y=e.i(421605),v=e.i(276708),b=e.i(215312),N=e.i(929461),C=e.i(344409),S=e.i(25123),w=e.i(912793),I=e.i(587433),R=e.i(837710),k=e.i(843778),P=e.i(925282),T=e.i(774234),E=e.i(554855),A=e.i(479095),F=e.i(498377),M=e.i(108151),D=e.i(124532);let L=({className:e})=>(0,t.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"15px",width:"15px",className:e,xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M10.9997 2.59833V13.9694H3.90013C3.23055 13.9694 2.83063 13.1846 3.25654 12.6326L10.9997 2.59833ZM12.9997 8.03061V2.33296C12.9997 0.521514 10.7034 -0.291434 9.58194 1.16185L1.67316 11.4108C0.246185 13.26 1.54768 15.9694 3.90013 15.9694H10.9997V21.6671C10.9997 23.4785 13.296 24.2915 14.4175 22.8382L22.3262 12.5892C23.7532 10.74 22.4517 8.03061 20.0993 8.03061H12.9997ZM12.9997 10.0306H20.0993C20.7688 10.0306 21.1688 10.8155 20.7429 11.3674L12.9997 21.4017V10.0306Z"})});function _({children:e,title:s,defaultOpen:r}){return(0,t.jsxs)(P.Collapsible_Shadcn_,{defaultOpen:r,children:[(0,t.jsxs)(E.CollapsibleTrigger_Shadcn_,{className:"flex items-center gap-x-2 px-4 [&[data-state=open]>svg]:!rotate-90 pb-2",children:[(0,t.jsx)(n.ChevronRight,{size:16,className:"text-foreground-light transition-transform duration-200"}),(0,t.jsx)("span",{className:"text-foreground-light font-mono text-sm uppercase",children:s})]}),(0,t.jsx)(T.CollapsibleContent_Shadcn_,{children:e})]})}function q(){let e=(0,u.useRouter)(),{ref:s}=(0,g.useParams)(),r=(0,x.useFlag)("unifiedLogs"),{selectFeaturePreview:a}=(0,h.useFeaturePreviewModal)(),{enable:l}=(0,h.useUnifiedLogsPreview)(),[i,n]=(0,p.useState)(""),{projectAuthAll:P,projectStorageAll:T,realtimeAll:E,logsTemplates:q,logsCollections:B}=(0,w.useIsFeatureEnabled)(["project_storage:all","project_auth:all","realtime:all","logs:templates","logs:collections"]),O=(0,f.useIsETLPrivateAlpha)(),{data:z,isPending:U}=(0,C.useReplicationSourcesQuery)({projectRef:s},{enabled:O,retry:!1,refetchOnMount:!1,refetchOnWindowFocus:!1}),$=O&&(z?.sources?.length??0)>0&&!U,{plan:Q}=(0,S.useCurrentOrgPlan)(),W=Q?.id==="free",{data:G,isPending:H}=(0,N.useContentQuery)({projectRef:s,type:"log_sql"}),V=[...G?.content??[]].filter(e=>"log_sql"===e.type).sort((e,t)=>e.name.localeCompare(t.name));function K(t){return e.asPath.includes(t)}let Y=[{name:"API Gateway",key:"edge-logs",url:`/project/${s}/logs/edge-logs`,items:[]},{name:"Postgres",key:"postgres-logs",url:`/project/${s}/logs/postgres-logs`,items:[]},{name:"PostgREST",key:"postgrest-logs",url:`/project/${s}/logs/postgrest-logs`,items:[]},m.IS_PLATFORM?{name:W?"Pooler":"Shared Pooler",key:"pooler-logs",url:`/project/${s}/logs/pooler-logs`,items:[]}:null,!W&&m.IS_PLATFORM?{name:"Dedicated Pooler",key:"dedicated-pooler-logs",url:`/project/${s}/logs/dedicated-pooler-logs`,items:[]}:null,P?{name:"Auth",key:"auth-logs",url:`/project/${s}/logs/auth-logs`,items:[]}:null,T?{name:"Storage",key:"storage-logs",url:`/project/${s}/logs/storage-logs`,items:[]}:null,E?{name:"Realtime",key:"realtime-logs",url:`/project/${s}/logs/realtime-logs`,items:[]}:null,{name:"Edge Functions",key:"edge-functions-logs",url:`/project/${s}/logs/edge-functions-logs`,items:[]},{name:"Cron",key:"pg_cron",url:`/project/${s}/logs/pgcron-logs`,items:[]},$?{name:"Replication",key:"replication_logs",url:`/project/${s}/logs/replication-logs`,items:[]}:null].filter(e=>null!==e),Z=m.IS_PLATFORM?[{name:"Postgres Version Upgrade",key:"pg-upgrade-logs",url:`/project/${s}/logs/pg-upgrade-logs`,items:[]}]:[],X=Y.filter(e=>e?.name.toLowerCase().includes(i.toLowerCase())),J=Z.filter(e=>e?.name.toLowerCase().includes(i.toLowerCase()));return(0,t.jsxs)("div",{className:"pb-4 relative",children:[m.IS_PLATFORM&&!r&&(0,t.jsx)(D.FeaturePreviewSidebarPanel,{className:"mx-4 mt-4",illustration:(0,t.jsx)(I.Badge,{variant:"default",children:"Coming soon"}),title:"New logs",description:"Get early access",actions:(0,t.jsx)(d.default,{href:"https://forms.supabase.com/unified-logs-signup",target:"_blank",children:(0,t.jsx)(R.Button,{type:"default",size:"tiny",children:"Early access"})})}),r&&(0,t.jsx)(D.FeaturePreviewSidebarPanel,{className:"mx-4 mt-4",title:"Introducing unified logs",description:"A unified view across all services with improved filtering and real-time updates.",illustration:(0,t.jsx)(I.Badge,{variant:"success",children:"New"}),actions:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.Button,{size:"tiny",type:"default",onClick:()=>{l(),e.push(`/project/${s}/logs`)},children:"Enable preview"}),(0,t.jsx)(b.ButtonTooltip,{type:"default",className:"px-1.5",icon:(0,t.jsx)(o.CircleHelpIcon,{}),onClick:()=>a("supabase-ui-preview-unified-logs"),tooltip:{content:{side:"bottom",text:"More information"}}})]})}),(0,t.jsxs)("div",{className:(0,k.cn)("flex gap-x-2 items-center sticky top-0 bg-background-200 z-[1] px-4",q?"py-4":"pt-4"),children:[(0,t.jsx)(F.InnerSideBarFilters,{className:"w-full p-0 gap-0",children:(0,t.jsx)(F.InnerSideBarFilterSearchInput,{name:"search-collections",placeholder:"Search collections...","aria-labelledby":"Search collections",value:i,onChange:e=>n(e.target.value)})}),(0,t.jsx)(R.Button,{type:"default",icon:(0,t.jsx)(c.Plus,{className:"text-foreground"}),className:"w-[26px]",onClick:()=>e.push(`/project/${s}/logs/explorer`)})]}),q&&(0,t.jsx)("div",{className:"px-2",children:(0,t.jsx)(F.InnerSideMenuItem,{title:"Templates",isActive:K(`/project/${s}/logs/explorer/templates`),href:`/project/${s}/logs/explorer/templates`,children:"Templates"})}),(0,t.jsx)(A.Separator,{className:"my-4"}),B&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(_,{title:"Collections",defaultOpen:!0,children:X.map(e=>{let s=K(e?.url??"");return(0,t.jsx)(v.LogsSidebarItem,{isActive:s,href:e?.url??"",icon:(0,t.jsx)(L,{className:"text-foreground-light"}),label:e?.name??""},e?.key??"")})}),Z.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.Separator,{className:"my-4"}),(0,t.jsx)(_,{title:"Database operations",defaultOpen:!0,children:J.map(e=>(0,t.jsx)(v.LogsSidebarItem,{isActive:K(e.url),href:e.url,icon:(0,t.jsx)(L,{className:"text-foreground-light"}),label:e.name},e.key))})]}),(0,t.jsx)(A.Separator,{className:"my-4"})]}),(0,t.jsxs)(_,{title:"Queries",defaultOpen:!0,children:[H&&(0,t.jsx)("div",{className:"p-4",children:(0,t.jsx)(M.GenericSkeletonLoader,{})}),0===V.length&&(0,t.jsx)(F.InnerSideBarEmptyPanel,{className:"mx-4",title:"No queries created yet",description:"Create and save your queries to use them in the explorer",actions:(0,t.jsx)(R.Button,{asChild:!0,type:"default",children:(0,t.jsx)(d.default,{href:`/project/${s}/logs/explorer`,children:"Create query"})})}),V.map(e=>(0,t.jsx)(y.default,{item:e},e.id))]}),(0,t.jsx)(A.Separator,{className:"my-4"}),(0,t.jsx)(D.FeaturePreviewSidebarPanel,{className:"mx-4 mt-4",title:"Capture your logs",description:"Send logs to your preferred observability or storage platform.",illustration:(0,t.jsx)("div",{className:"flex items-center gap-4",children:j.LOG_DRAIN_TYPES.map(e=>p.default.cloneElement(e.icon,{height:20,width:20}))}),actions:(0,t.jsx)(R.Button,{asChild:!0,type:"default",children:(0,t.jsx)(d.default,{href:`/project/${s}/settings/log-drains`,children:"Go to Log Drains"})})})]})}let B=(0,l.withAuth)(({title:e,children:l})=>{let{isLoading:n,can:o}=(0,a.useAsyncCheckPermissions)(s.PermissionAction.ANALYTICS_READ,"logflare");if(!o){if(n)return(0,t.jsx)(i.ProjectLayout,{isLoading:!0});if(!n&&!o)return(0,t.jsx)(i.ProjectLayout,{children:(0,t.jsx)(r.default,{isFullPage:!0,resourceText:"access your project's logs"})})}return(0,t.jsx)(i.ProjectLayout,{title:e,product:"Logs & Analytics",productMenu:(0,t.jsx)(q,{}),children:l})});e.s(["default",0,B],20318)}]);

//# debugId=9b9e4229-a779-9543-1840-a31c74e3a519
//# sourceMappingURL=7cae5a1e7ed33e2b.js.map