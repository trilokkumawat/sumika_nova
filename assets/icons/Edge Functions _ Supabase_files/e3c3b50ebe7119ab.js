;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3ac02dbe-4413-eaac-321f-583cdee5af5f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3259,100387,e=>{"use strict";var t=e.i(478902),r=e.i(153545),i=e.i(933505);e.s(["ChevronRightIcon",()=>i.default],100387);var i=i,s=e.i(389959),a=e.i(843778);let n=s.forwardRef(({...e},r)=>(0,t.jsx)("nav",{ref:r,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let o=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("ol",{ref:i,className:(0,a.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...r}));o.displayName="BreadcrumbList";let l=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("li",{ref:i,className:(0,a.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...r}));l.displayName="BreadcrumbItem";let c=s.forwardRef(({asChild:e,className:i,...s},n)=>{let o=e?r.Slot:"a";return(0,t.jsx)(o,{ref:n,className:(0,a.cn)("transition-colors underline lg:no-underline hover:text-foreground",i),...s})});c.displayName="BreadcrumbLink";let d=s.forwardRef(({className:e,...r},i)=>(0,t.jsx)("span",{ref:i,role:"link","aria-disabled":"true","aria-current":"page",className:(0,a.cn)("no-underline text-foreground",e),...r}));d.displayName="BreadcrumbPage";let u=({children:e,className:r,...s})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,a.cn)("[&>svg]:size-3.5 text-foreground-muted",r),...s,children:e??(0,t.jsx)(i.default,{})});u.displayName="BreadcrumbSeparator";let h=({className:e,...r})=>(0,t.jsxs)("span",{className:(0,a.cn)("flex h-4 w-4 items-center justify-center",e),...r,children:[(0,t.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"sr-only",children:"More"})]});h.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>n,"BreadcrumbEllipsis",()=>h,"BreadcrumbItem",()=>l,"BreadcrumbLink",()=>c,"BreadcrumbList",()=>o,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},744061,418638,e=>{"use strict";var t=e.i(478902),r=e.i(938933),i=e.i(843778);function s({children:e,className:r,tag:i="div",style:s}){let a=`${i}`;return(0,t.jsx)(a,{style:s,children:e})}s.Title=function({className:e,level:r=1,children:i,style:s}){let a=`h${r}`;return(0,t.jsx)(a,{style:s,children:i})},s.Text=function({className:e,children:r,style:i,type:s,disabled:a,mark:n,code:o,keyboard:l,underline:c,strikethrough:d,strong:u,small:h}){return o?(0,t.jsx)("code",{style:i,children:r}):n?(0,t.jsx)("mark",{style:i,children:r}):l?(0,t.jsx)("kbd",{style:i,children:r}):u?(0,t.jsx)("strong",{style:i,children:r}):(0,t.jsx)("span",{style:i,children:r})},s.Link=function({children:e,target:r="_blank",href:i,className:s,onClick:a,style:n}){return(0,t.jsx)("a",{onClick:a,href:i,target:r,rel:"noopener noreferrer",style:n,children:e})},e.s(["default",0,s],418638);var a=e.i(389959);let n=(0,a.createContext)({type:"text"}),o=e=>{let{type:r}=e;return(0,t.jsx)(n.Provider,{value:{type:r},children:e.children})},l=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function c({children:e,className:r,ulClassName:i,style:s,type:a="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:r,style:s,children:(0,t.jsx)(o,{type:a,children:(0,t.jsx)("ul",{className:i,children:e})})})}c.Item=function({children:e,icon:s,active:a,rounded:n,onClick:o,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:u}){let h=(0,r.default)("menu"),{type:f}=l(),p=[h.item.base];p.push(h.item.variants[f].base),a?p.push(h.item.variants[f].active):p.push(h.item.variants[f].normal);let m=[h.item.content.base];a?m.push(h.item.content.active):m.push(h.item.content.normal);let g=[h.item.icon.base];return a?g.push(h.item.icon.active):g.push(h.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,i.cn)("outline-none",p),style:u,onClick:o,"aria-current":a?"page":void 0,children:[s&&(0,t.jsx)("div",{className:`${g.join(" ")} min-w-fit`,children:s}),(0,t.jsx)("span",{className:m.join(" "),children:e})]})},c.Group=function({children:e,icon:i,title:s}){let a=(0,r.default)("menu"),{type:n}=l();return(0,t.jsxs)("div",{className:[a.group.base,a.group.variants[n]].join(" "),children:[i&&(0,t.jsx)("span",{className:a.group.icon,children:i}),(0,t.jsx)("span",{className:a.group.content,children:s}),e]})},c.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(s.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["default",0,c],744061)},862326,e=>{"use strict";var t=e.i(744061);e.s(["Menu",()=>t.default])},388147,799793,e=>{"use strict";var t=e.i(478902),r=e.i(587433),i=e.i(862326),s=e.i(210419),a=e.i(837710);let n=({item:e,isActive:n,target:o="_self",hoverText:l="",onClick:c})=>{let{name:d="",url:u="",icon:h,rightIcon:f,isExternal:p,label:m,disabled:g}=e,x=(0,t.jsx)(i.Menu.Item,{icon:h,active:n,onClick:c,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:l||("string"==typeof d?d:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:d}),void 0!==m&&(0,t.jsx)(r.Badge,{className:"flex-shrink-0",variant:"new"===m.toLowerCase()?"success":"warning",children:m})]}),f&&(0,t.jsx)("div",{children:f})]})});return g?(0,t.jsx)("div",{className:"opacity-50 pointer-events-none",children:x}):u?p?(0,t.jsx)(a.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:h,children:(0,t.jsx)(s.default,{href:u,target:"_blank",rel:"noreferrer",children:d})}):(0,t.jsx)(s.default,{href:u,className:"block",target:o,children:x}):x};e.s(["ProductMenuItem",0,n],799793),e.s(["ProductMenu",0,({page:e,menu:s})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(i.Menu,{type:"pills",children:s.map((a,o)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(i.Menu.Group,{title:a.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:a.title}),a.isPreview&&(0,t.jsx)(r.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:a.items.map(r=>{let i=r.pages?r.pages.includes(e??""):e===r.key;return(0,t.jsx)(n,{item:r,isActive:i,target:r.isExternal?"_blank":"_self"},r.key)})})]})}),o!==s.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},a.key||a.title))})})],388147)},127739,e=>{"use strict";var t=e.i(478902),r=e.i(709520),i=e.i(389959),s=e.i(843778);let a=(0,r.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),n=(0,i.forwardRef)(({className:e,size:r,...i},n)=>(0,t.jsx)("div",{ref:n,...i,className:(0,s.cn)(a({size:r}),e)}));n.displayName="PageContainer",e.s(["PageContainer",0,n])},456050,e=>{"use strict";var t=e.i(478902),r=e.i(709520),i=e.i(389959),s=e.i(843778),a=e.i(3259),n=e.i(127739);let o=(0,r.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),l=(0,i.createContext)({size:"default"}),c=()=>(0,i.useContext)(l),d=({className:e,size:r,children:i,...a})=>{let n=r??"default";return(0,t.jsx)(l.Provider,{value:{size:n},children:(0,t.jsx)("div",{"data-slot":"page-header","data-size":n,className:(0,s.cn)(o({size:n}),e),...a,children:i})})},u=({className:e,children:r,...i})=>{let{size:o}=c();return(0,t.jsx)(n.PageContainer,{size:o,children:(0,t.jsx)(a.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,s.cn)("flex items-center gap-4 [&_li]:text-xs",e),...i,children:r})})};u.displayName="PageHeaderBreadcrumb";let h=({className:e,...r})=>(0,t.jsx)("div",{"data-slot":"page-header-icon",className:(0,s.cn)("text-foreground-light",e),...r});h.displayName="PageHeaderIcon";let f=({className:e,children:r,...i})=>(0,t.jsx)("div",{"data-slot":"page-header-summary",className:(0,s.cn)("flex flex-col gap-1",e),...i,children:r});f.displayName="PageHeaderSummary";let p=({className:e,children:r,...i})=>(0,t.jsx)("h1",{"data-slot":"page-header-title",className:(0,s.cn)("heading-title",e),...i,children:r}),m=({className:e,children:r,...i})=>(0,t.jsx)("div",{"data-slot":"page-header-description",className:(0,s.cn)("heading-subSection text-foreground-light",e),...i,children:r}),g=({className:e,children:r,...i})=>{let{size:a}=c();return(0,t.jsx)(n.PageContainer,{size:a,children:(0,t.jsx)("div",{"data-slot":"page-header-meta",className:(0,s.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...i,children:r})})};g.displayName="PageHeaderMeta";let x=({className:e,...r})=>(0,t.jsx)("div",{"data-slot":"page-header-actions",className:(0,s.cn)("flex items-center gap-2 shrink-0",e),...r});x.displayName="PageHeaderAside";let y=({className:e,...r})=>{let{size:i}=c();return(0,t.jsx)(n.PageContainer,{size:i,className:(0,s.cn)("full"===i&&"border-b"),children:(0,t.jsx)("div",{"data-slot":"page-header-footer",className:(0,s.cn)("w-full [&>nav]:border-b-0","full"!==i&&"border-b",e),...r})})};y.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>d,"PageHeaderAside",()=>x,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>m,"PageHeaderIcon",()=>h,"PageHeaderMeta",()=>g,"PageHeaderNavigationTabs",()=>y,"PageHeaderSummary",()=>f,"PageHeaderTitle",()=>p])},737051,e=>{"use strict";e.i(128328);var t=e.i(657588),r=e.i(265735);e.s(["useIsETLPrivateAlpha",0,()=>{let{data:e}=(0,r.useSelectedOrganizationQuery)(),i=(0,t.useFlag)("etlPrivateAlpha"),s="string"==typeof i?i.split(",").map(e=>e.trim()):[];return(0,t.useFlag)("etlPrivateAlphaOverride")||s.includes(e?.slug??"")}])},812136,e=>{"use strict";var t=e.i(478902),r=e.i(271226),i=e.i(463333),s=e.i(737051),a=e.i(388147),n=e.i(450972),o=e.i(144676),l=e.i(912793),c=e.i(635494),d=e.i(951138),u=e.i(825713),h=e.i(731201);let f=()=>{let{data:e}=(0,c.useSelectedProjectQuery)(),d=(0,r.useRouter)().pathname.split("/")[4],{data:u}=(0,n.useDatabaseExtensionsQuery)({projectRef:e?.ref,connectionString:e?.connectionString}),{data:f}=(0,o.useProjectAddonsQuery)({projectRef:e?.ref}),p=void 0!==(u??[]).find(e=>"pg_net"===e.name),m=f?.selected_addons.find(e=>"pitr"===e.type)!==void 0,g=(0,i.useIsColumnLevelPrivilegesEnabled)(),x=(0,s.useIsETLPrivateAlpha)(),{databaseReplication:y,databaseRoles:b,integrationsWrappers:j}=(0,l.useIsFeatureEnabled)(["database:replication","database:roles","integrations:wrappers"]);return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(a.ProductMenu,{page:d,menu:(0,h.generateDatabaseMenu)(e,{pgNetExtensionExists:p,pitrEnabled:m,columnLevelPrivileges:g,showPgReplicate:y,enablePgReplicate:x,showRoles:b,showWrappers:j})})})},p=(0,d.withAuth)(({children:e})=>(0,t.jsx)(u.ProjectLayout,{product:"Database",productMenu:(0,t.jsx)(f,{}),isBlocking:!1,children:e}));e.s(["default",0,p])},388034,e=>{"use strict";let t=(0,e.i(388019).default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);e.s(["default",()=>t])},61187,e=>{"use strict";var t=e.i(388034);e.s(["RefreshCw",()=>t.default])},29750,(e,t,r)=>{"use strict";var i="function"==typeof Symbol&&Symbol.for,s=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,n=i?Symbol.for("react.fragment"):60107,o=i?Symbol.for("react.strict_mode"):60108,l=i?Symbol.for("react.profiler"):60114,c=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,h=i?Symbol.for("react.concurrent_mode"):60111,f=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,x=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,b=i?Symbol.for("react.fundamental"):60117,j=i?Symbol.for("react.responder"):60118,v=i?Symbol.for("react.scope"):60119;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case u:case h:case n:case l:case o:case p:return e;default:switch(e=e&&e.$$typeof){case d:case f:case x:case g:case c:return e;default:return t}}case a:return t}}}function w(e){return _(e)===h}r.AsyncMode=u,r.ConcurrentMode=h,r.ContextConsumer=d,r.ContextProvider=c,r.Element=s,r.ForwardRef=f,r.Fragment=n,r.Lazy=x,r.Memo=g,r.Portal=a,r.Profiler=l,r.StrictMode=o,r.Suspense=p,r.isAsyncMode=function(e){return w(e)||_(e)===u},r.isConcurrentMode=w,r.isContextConsumer=function(e){return _(e)===d},r.isContextProvider=function(e){return _(e)===c},r.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},r.isForwardRef=function(e){return _(e)===f},r.isFragment=function(e){return _(e)===n},r.isLazy=function(e){return _(e)===x},r.isMemo=function(e){return _(e)===g},r.isPortal=function(e){return _(e)===a},r.isProfiler=function(e){return _(e)===l},r.isStrictMode=function(e){return _(e)===o},r.isSuspense=function(e){return _(e)===p},r.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===n||e===h||e===l||e===o||e===p||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===x||e.$$typeof===g||e.$$typeof===c||e.$$typeof===d||e.$$typeof===f||e.$$typeof===b||e.$$typeof===j||e.$$typeof===v||e.$$typeof===y)},r.typeOf=_},213784,(e,t,r)=>{"use strict";t.exports=e.r(29750)},781979,(e,t,r)=>{"use strict";var i=e.r(213784),s={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return i.isMemo(e)?n:o[e.$$typeof]||s}o[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[i.Memo]=n;var c=Object.defineProperty,d=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;t.exports=function e(t,r,i){if("string"!=typeof r){if(p){var s=f(r);s&&s!==p&&e(t,s,i)}var n=d(r);u&&(n=n.concat(u(r)));for(var o=l(t),m=l(r),g=0;g<n.length;++g){var x=n[g];if(!a[x]&&!(i&&i[x])&&!(m&&m[x])&&!(o&&o[x])){var y=h(r,x);try{c(t,x,y)}catch(e){}}}}return t}},532480,e=>{"use strict";let t=(0,e.i(388019).default)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);e.s(["default",()=>t])},833655,e=>{"use strict";var t=e.i(532480);e.s(["Info",()=>t.default])},330287,e=>{"use strict";var t=e.i(242882),r=e.i(234745),i=e.i(10429),s=e.i(346691);async function a({projectRef:e},t){if(!e)throw Error("Project ref is required");let{data:i,error:s}=await (0,r.get)("/platform/projects/{ref}/load-balancers",{params:{path:{ref:e}},signal:t});return s&&(0,r.handleError)(s),i}e.s(["useLoadBalancersQuery",0,({projectRef:e},{enabled:r=!0,...n}={})=>(0,t.useQuery)({queryKey:s.replicaKeys.loadBalancers(e),queryFn:({signal:t})=>a({projectRef:e},t),enabled:r&&void 0!==e&&i.IS_PLATFORM,...n})])},224521,e=>{"use strict";var t=e.i(389959),r=e.i(274664),i=e.i(295047),s=e.i(678001),a=e.i(174617),n=e.i(826524),o=e.i(546595),l=e.i(503867),c=e.i(889251),d=e.i(904641),u=e.i(478902),h="Collapsible",[f,p]=(0,r.createContextScope)(h),[m,g]=f(h),x=t.forwardRef((e,r)=>{let{__scopeCollapsible:i,open:s,defaultOpen:a,disabled:l,onOpenChange:c,...f}=e,[p,g]=(0,n.useControllableState)({prop:s,defaultProp:a??!1,onChange:c,caller:h});return(0,u.jsx)(m,{scope:i,disabled:l,contentId:(0,d.useId)(),open:p,onOpenToggle:t.useCallback(()=>g(e=>!e),[g]),children:(0,u.jsx)(o.Primitive.div,{"data-state":w(p),"data-disabled":l?"":void 0,...f,ref:r})})});x.displayName=h;var y="CollapsibleTrigger",b=t.forwardRef((e,t)=>{let{__scopeCollapsible:r,...i}=e,s=g(y,r);return(0,u.jsx)(o.Primitive.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":w(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...i,ref:t,onClick:(0,a.composeEventHandlers)(e.onClick,s.onOpenToggle)})});b.displayName=y;var j="CollapsibleContent",v=t.forwardRef((e,t)=>{let{forceMount:r,...i}=e,s=g(j,e.__scopeCollapsible);return(0,u.jsx)(c.Presence,{present:r||s.open,children:({present:e})=>(0,u.jsx)(_,{...i,ref:t,present:e})})});v.displayName=j;var _=t.forwardRef((e,r)=>{let{__scopeCollapsible:i,present:a,children:n,...c}=e,d=g(j,i),[h,f]=t.useState(a),p=t.useRef(null),m=(0,s.useComposedRefs)(r,p),x=t.useRef(0),y=x.current,b=t.useRef(0),v=b.current,_=d.open||h,S=t.useRef(_),C=t.useRef(void 0);return t.useEffect(()=>{let e=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,l.useLayoutEffect)(()=>{let e=p.current;if(e){C.current=C.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();x.current=t.height,b.current=t.width,S.current||(e.style.transitionDuration=C.current.transitionDuration,e.style.animationName=C.current.animationName),f(a)}},[d.open,a]),(0,u.jsx)(o.Primitive.div,{"data-state":w(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!_,...c,ref:m,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...e.style},children:_&&n})});function w(e){return e?"open":"closed"}var S=e.i(2664),C="Accordion",k=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[T,E,N]=(0,i.createCollection)(C),[P,R]=(0,r.createContextScope)(C,[N,p]),A=p(),D=t.default.forwardRef((e,t)=>{let{type:r,...i}=e;return(0,u.jsx)(T.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,u.jsx)(F,{...i,ref:t}):(0,u.jsx)(M,{...i,ref:t})})});D.displayName=C;var[I,L]=P(C),[O,z]=P(C,{collapsible:!1}),M=t.default.forwardRef((e,r)=>{let{value:i,defaultValue:s,onValueChange:a=()=>{},collapsible:o=!1,...l}=e,[c,d]=(0,n.useControllableState)({prop:i,defaultProp:s??"",onChange:a,caller:C});return(0,u.jsx)(I,{scope:e.__scopeAccordion,value:t.default.useMemo(()=>c?[c]:[],[c]),onItemOpen:d,onItemClose:t.default.useCallback(()=>o&&d(""),[o,d]),children:(0,u.jsx)(O,{scope:e.__scopeAccordion,collapsible:o,children:(0,u.jsx)(q,{...l,ref:r})})})}),F=t.default.forwardRef((e,r)=>{let{value:i,defaultValue:s,onValueChange:a=()=>{},...o}=e,[l,c]=(0,n.useControllableState)({prop:i,defaultProp:s??[],onChange:a,caller:C}),d=t.default.useCallback(e=>c((t=[])=>[...t,e]),[c]),h=t.default.useCallback(e=>c((t=[])=>t.filter(t=>t!==e)),[c]);return(0,u.jsx)(I,{scope:e.__scopeAccordion,value:l,onItemOpen:d,onItemClose:h,children:(0,u.jsx)(O,{scope:e.__scopeAccordion,collapsible:!0,children:(0,u.jsx)(q,{...o,ref:r})})})}),[B,$]=P(C),q=t.default.forwardRef((e,r)=>{let{__scopeAccordion:i,disabled:n,dir:l,orientation:c="vertical",...d}=e,h=t.default.useRef(null),f=(0,s.useComposedRefs)(h,r),p=E(i),m="ltr"===(0,S.useDirection)(l),g=(0,a.composeEventHandlers)(e.onKeyDown,e=>{if(!k.includes(e.key))return;let t=e.target,r=p().filter(e=>!e.ref.current?.disabled),i=r.findIndex(e=>e.ref.current===t),s=r.length;if(-1===i)return;e.preventDefault();let a=i,n=s-1,o=()=>{(a=i+1)>n&&(a=0)},l=()=>{(a=i-1)<0&&(a=n)};switch(e.key){case"Home":a=0;break;case"End":a=n;break;case"ArrowRight":"horizontal"===c&&(m?o():l());break;case"ArrowDown":"vertical"===c&&o();break;case"ArrowLeft":"horizontal"===c&&(m?l():o());break;case"ArrowUp":"vertical"===c&&l()}let d=a%s;r[d].ref.current?.focus()});return(0,u.jsx)(B,{scope:i,disabled:n,direction:l,orientation:c,children:(0,u.jsx)(T.Slot,{scope:i,children:(0,u.jsx)(o.Primitive.div,{...d,"data-orientation":c,ref:f,onKeyDown:n?void 0:g})})})}),H="AccordionItem",[K,Q]=P(H),Y=t.default.forwardRef((e,t)=>{let{__scopeAccordion:r,value:i,...s}=e,a=$(H,r),n=L(H,r),o=A(r),l=(0,d.useId)(),c=i&&n.value.includes(i)||!1,h=a.disabled||e.disabled;return(0,u.jsx)(K,{scope:r,open:c,disabled:h,triggerId:l,children:(0,u.jsx)(x,{"data-orientation":a.orientation,"data-state":X(c),...o,...s,ref:t,disabled:h,open:c,onOpenChange:e=>{e?n.onItemOpen(i):n.onItemClose(i)}})})});Y.displayName=H;var U="AccordionHeader",W=t.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...i}=e,s=$(C,r),a=Q(U,r);return(0,u.jsx)(o.Primitive.h3,{"data-orientation":s.orientation,"data-state":X(a.open),"data-disabled":a.disabled?"":void 0,...i,ref:t})});W.displayName=U;var G="AccordionTrigger",V=t.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...i}=e,s=$(C,r),a=Q(G,r),n=z(G,r),o=A(r);return(0,u.jsx)(T.ItemSlot,{scope:r,children:(0,u.jsx)(b,{"aria-disabled":a.open&&!n.collapsible||void 0,"data-orientation":s.orientation,id:a.triggerId,...o,...i,ref:t})})});V.displayName=G;var Z="AccordionContent",J=t.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...i}=e,s=$(C,r),a=Q(Z,r),n=A(r);return(0,u.jsx)(v,{role:"region","aria-labelledby":a.triggerId,"data-orientation":s.orientation,...n,...i,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function X(e){return e?"open":"closed"}J.displayName=Z,e.s(["Content",()=>J,"Header",()=>W,"Item",()=>Y,"Root",()=>D,"Trigger",()=>V],224521)},586468,(e,t,r)=>{var i;let s;e.e,i=function e(){"use strict";var t="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t?t:{},r=!t.document&&!!t.postMessage,i=t.IS_PAPA_WORKER||!1,s={},a=0,n={parse:function(r,i){var o,l=(i=i||{}).dynamicTyping||!1;if(v(l)&&(i.dynamicTypingFunction=l,l={}),i.dynamicTyping=l,i.transform=!!v(i.transform)&&i.transform,i.worker&&n.WORKERS_SUPPORTED){var f=function(){if(!n.WORKERS_SUPPORTED)return!1;var r,i,o=(r=t.URL||t.webkitURL||null,i=e.toString(),n.BLOB_URL||(n.BLOB_URL=r.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",i,")();"],{type:"text/javascript"})))),l=new t.Worker(o);return l.onmessage=g,l.id=a++,s[l.id]=l}();return f.userStep=i.step,f.userChunk=i.chunk,f.userComplete=i.complete,f.userError=i.error,i.step=v(i.step),i.chunk=v(i.chunk),i.complete=v(i.complete),i.error=v(i.error),delete i.worker,void f.postMessage({input:r,config:i,workerId:f.id})}var p=null;return n.NODE_STREAM_INPUT,"string"==typeof r?(r=65279===(o=r).charCodeAt(0)?o.slice(1):o,p=i.download?new c(i):new u(i)):!0===r.readable&&v(r.read)&&v(r.on)?p=new h(i):(t.File&&r instanceof File||r instanceof Object)&&(p=new d(i)),p.stream(r)},unparse:function(e,t){var r=!1,i=!0,s=",",a="\r\n",o='"',l=o+o,c=!1,d=null,u=!1;if("object"==typeof t){if("string"!=typeof t.delimiter||n.BAD_DELIMITERS.filter(function(e){return -1!==t.delimiter.indexOf(e)}).length||(s=t.delimiter),("boolean"==typeof t.quotes||"function"==typeof t.quotes||Array.isArray(t.quotes))&&(r=t.quotes),"boolean"!=typeof t.skipEmptyLines&&"string"!=typeof t.skipEmptyLines||(c=t.skipEmptyLines),"string"==typeof t.newline&&(a=t.newline),"string"==typeof t.quoteChar&&(o=t.quoteChar),"boolean"==typeof t.header&&(i=t.header),Array.isArray(t.columns)){if(0===t.columns.length)throw Error("Option columns is empty");d=t.columns}void 0!==t.escapeChar&&(l=t.escapeChar+o),("boolean"==typeof t.escapeFormulae||t.escapeFormulae instanceof RegExp)&&(u=t.escapeFormulae instanceof RegExp?t.escapeFormulae:/^[=+\-@\t\r].*$/)}var h=RegExp(p(o),"g");if("string"==typeof e&&(e=JSON.parse(e)),Array.isArray(e)){if(!e.length||Array.isArray(e[0]))return f(null,e,c);if("object"==typeof e[0])return f(d||Object.keys(e[0]),e,c)}else if("object"==typeof e)return"string"==typeof e.data&&(e.data=JSON.parse(e.data)),Array.isArray(e.data)&&(e.fields||(e.fields=e.meta&&e.meta.fields||d),e.fields||(e.fields=Array.isArray(e.data[0])?e.fields:"object"==typeof e.data[0]?Object.keys(e.data[0]):[]),Array.isArray(e.data[0])||"object"==typeof e.data[0]||(e.data=[e.data])),f(e.fields||[],e.data||[],c);throw Error("Unable to serialize unrecognized input");function f(e,t,r){var n="";"string"==typeof e&&(e=JSON.parse(e)),"string"==typeof t&&(t=JSON.parse(t));var o=Array.isArray(e)&&0<e.length,l=!Array.isArray(t[0]);if(o&&i){for(var c=0;c<e.length;c++)0<c&&(n+=s),n+=m(e[c],c);0<t.length&&(n+=a)}for(var d=0;d<t.length;d++){var u=o?e.length:t[d].length,h=!1,f=o?0===Object.keys(t[d]).length:0===t[d].length;if(r&&!o&&(h="greedy"===r?""===t[d].join("").trim():1===t[d].length&&0===t[d][0].length),"greedy"===r&&o){for(var p=[],g=0;g<u;g++){var x=l?e[g]:g;p.push(t[d][x])}h=""===p.join("").trim()}if(!h){for(var y=0;y<u;y++){0<y&&!f&&(n+=s);var b=o&&l?e[y]:y;n+=m(t[d][b],y)}d<t.length-1&&(!r||0<u&&!f)&&(n+=a)}}return n}function m(e,t){if(null==e)return"";if(e.constructor===Date)return JSON.stringify(e).slice(1,25);var i=!1;u&&"string"==typeof e&&u.test(e)&&(e="'"+e,i=!0);var a=e.toString().replace(h,l);return(i=i||!0===r||"function"==typeof r&&r(e,t)||Array.isArray(r)&&r[t]||function(e,t){for(var r=0;r<t.length;r++)if(-1<e.indexOf(t[r]))return!0;return!1}(a,n.BAD_DELIMITERS)||-1<a.indexOf(s)||" "===a.charAt(0)||" "===a.charAt(a.length-1))?o+a+o:a}}};if(n.RECORD_SEP="\x1e",n.UNIT_SEP="\x1f",n.BYTE_ORDER_MARK="\uFEFF",n.BAD_DELIMITERS=["\r","\n",'"',n.BYTE_ORDER_MARK],n.WORKERS_SUPPORTED=!r&&!!t.Worker,n.NODE_STREAM_INPUT=1,n.LocalChunkSize=0xa00000,n.RemoteChunkSize=5242880,n.DefaultDelimiter=",",n.Parser=m,n.ParserHandle=f,n.NetworkStreamer=c,n.FileStreamer=d,n.StringStreamer=u,n.ReadableStreamStreamer=h,t.jQuery){var o=t.jQuery;o.fn.parse=function(e){var r=e.config||{},i=[];return this.each(function(e){if(!("INPUT"===o(this).prop("tagName").toUpperCase()&&"file"===o(this).attr("type").toLowerCase()&&t.FileReader)||!this.files||0===this.files.length)return!0;for(var s=0;s<this.files.length;s++)i.push({file:this.files[s],inputElem:this,instanceConfig:o.extend({},r)})}),s(),this;function s(){if(0!==i.length){var t,r,s,l=i[0];if(v(e.before)){var c=e.before(l.file,l.inputElem);if("object"==typeof c){if("abort"===c.action)return t=l.file,r=l.inputElem,s=c.reason,void(v(e.error)&&e.error({name:"AbortError"},t,r,s));if("skip"===c.action)return void a();"object"==typeof c.config&&(l.instanceConfig=o.extend(l.instanceConfig,c.config))}else if("skip"===c)return void a()}var d=l.instanceConfig.complete;l.instanceConfig.complete=function(e){v(d)&&d(e,l.file,l.inputElem),a()},n.parse(l.file,l.instanceConfig)}else v(e.complete)&&e.complete()}function a(){i.splice(0,1),s()}}}function l(e){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(e){var t=b(e);t.chunkSize=parseInt(t.chunkSize),e.step||e.chunk||(t.chunkSize=null),this._handle=new f(t),(this._handle.streamer=this)._config=t}).call(this,e),this.parseChunk=function(e,r){if(this.isFirstChunk&&v(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);void 0!==s&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var o=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var l=o.meta.cursor;this._finished||(this._partialLine=a.substring(l-this._baseIndex),this._baseIndex=l),o&&o.data&&(this._rowCount+=o.data.length);var c=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(i)t.postMessage({results:o,workerId:n.WORKER_ID,finished:c});else if(v(this._config.chunk)&&!r){if(this._config.chunk(o,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);o=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(o.data),this._completeResults.errors=this._completeResults.errors.concat(o.errors),this._completeResults.meta=o.meta),this._completed||!c||!v(this._config.complete)||o&&o.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),c||o&&o.meta.paused||this._nextChunk(),o}this._halted=!0},this._sendError=function(e){v(this._config.error)?this._config.error(e):i&&this._config.error&&t.postMessage({workerId:n.WORKER_ID,error:e,finished:!1})}}function c(e){var t;(e=e||{}).chunkSize||(e.chunkSize=n.RemoteChunkSize),l.call(this,e),this._nextChunk=r?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(e){this._input=e,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(t=new XMLHttpRequest,this._config.withCredentials&&(t.withCredentials=this._config.withCredentials),r||(t.onload=j(this._chunkLoaded,this),t.onerror=j(this._chunkError,this)),t.open(this._config.downloadRequestBody?"POST":"GET",this._input,!r),this._config.downloadRequestHeaders){var e=this._config.downloadRequestHeaders;for(var i in e)t.setRequestHeader(i,e[i])}if(this._config.chunkSize){var s=this._start+this._config.chunkSize-1;t.setRequestHeader("Range","bytes="+this._start+"-"+s)}try{t.send(this._config.downloadRequestBody)}catch(e){this._chunkError(e.message)}r&&0===t.status&&this._chunkError()}},this._chunkLoaded=function(){var e;4===t.readyState&&(t.status<200||400<=t.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:t.responseText.length,this._finished=!this._config.chunkSize||this._start>=(null===(e=t.getResponseHeader("Content-Range"))?-1:parseInt(e.substring(e.lastIndexOf("/")+1))),this.parseChunk(t.responseText)))},this._chunkError=function(e){var r=t.statusText||e;this._sendError(Error(r))}}function d(e){(e=e||{}).chunkSize||(e.chunkSize=n.LocalChunkSize),l.call(this,e);var t,r,i="undefined"!=typeof FileReader;this.stream=function(e){this._input=e,r=e.slice||e.webkitSlice||e.mozSlice,i?((t=new FileReader).onload=j(this._chunkLoaded,this),t.onerror=j(this._chunkError,this)):t=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var e=this._input;if(this._config.chunkSize){var s=Math.min(this._start+this._config.chunkSize,this._input.size);e=r.call(e,this._start,s)}var a=t.readAsText(e,this._config.encoding);i||this._chunkLoaded({target:{result:a}})},this._chunkLoaded=function(e){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(e.target.result)},this._chunkError=function(){this._sendError(t.error)}}function u(e){var t;l.call(this,e=e||{}),this.stream=function(e){return t=e,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var e,r=this._config.chunkSize;return r?(e=t.substring(0,r),t=t.substring(r)):(e=t,t=""),this._finished=!t,this.parseChunk(e)}}}function h(e){l.call(this,e=e||{});var t=[],r=!0,i=!1;this.pause=function(){l.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){l.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(e){this._input=e,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){i&&1===t.length&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),t.length?this.parseChunk(t.shift()):r=!0},this._streamData=j(function(e){try{t.push("string"==typeof e?e:e.toString(this._config.encoding)),r&&(r=!1,this._checkIsFinished(),this.parseChunk(t.shift()))}catch(e){this._streamError(e)}},this),this._streamError=j(function(e){this._streamCleanUp(),this._sendError(e)},this),this._streamEnd=j(function(){this._streamCleanUp(),i=!0,this._streamData("")},this),this._streamCleanUp=j(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function f(e){var t,r,i,s=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,a=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,o=this,l=0,c=0,d=!1,u=!1,h=[],f={data:[],errors:[],meta:{}};if(v(e.step)){var g=e.step;e.step=function(t){if(f=t,j())y();else{if(y(),0===f.data.length)return;l+=t.data.length,e.preview&&l>e.preview?r.abort():(f.data=f.data[0],g(f,o))}}}function x(t){return"greedy"===e.skipEmptyLines?""===t.join("").trim():1===t.length&&0===t[0].length}function y(){return f&&i&&(_("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+n.DefaultDelimiter+"'"),i=!1),e.skipEmptyLines&&(f.data=f.data.filter(function(e){return!x(e)})),j()&&function(){if(f)if(Array.isArray(f.data[0])){for(var t=0;j()&&t<f.data.length;t++)f.data[t].forEach(r);f.data.splice(0,1)}else f.data.forEach(r);function r(t,r){v(e.transformHeader)&&(t=e.transformHeader(t,r)),h.push(t)}}(),function(){if(!f||!e.header&&!e.dynamicTyping&&!e.transform)return f;function t(t,r){var i,n=e.header?{}:[];for(i=0;i<t.length;i++){var o,l,d=i,u=t[i];e.header&&(d=i>=h.length?"__parsed_extra":h[i]),e.transform&&(u=e.transform(u,d)),o=d,l=u,e.dynamicTypingFunction&&void 0===e.dynamicTyping[o]&&(e.dynamicTyping[o]=e.dynamicTypingFunction(o)),u=!0===(e.dynamicTyping[o]||e.dynamicTyping)?"true"===l||"TRUE"===l||"false"!==l&&"FALSE"!==l&&(!function(e){if(s.test(e)){var t=parseFloat(e);if(-0x20000000000000<t&&t<0x20000000000000)return!0}return!1}(l)?a.test(l)?new Date(l):""===l?null:l:parseFloat(l)):l,"__parsed_extra"===d?(n[d]=n[d]||[],n[d].push(u)):n[d]=u}return e.header&&(i>h.length?_("FieldMismatch","TooManyFields","Too many fields: expected "+h.length+" fields but parsed "+i,c+r):i<h.length&&_("FieldMismatch","TooFewFields","Too few fields: expected "+h.length+" fields but parsed "+i,c+r)),n}var r=1;return!f.data.length||Array.isArray(f.data[0])?(f.data=f.data.map(t),r=f.data.length):f.data=t(f.data,0),e.header&&f.meta&&(f.meta.fields=h),c+=r,f}()}function j(){return e.header&&0===h.length}function _(e,t,r,i){var s={type:e,code:t,message:r};void 0!==i&&(s.row=i),f.errors.push(s)}this.parse=function(s,a,o){var l=e.quoteChar||'"';if(e.newline||(e.newline=function(e,t){e=e.substring(0,1048576);var r=RegExp(p(t)+"([^]*?)"+p(t),"gm"),i=(e=e.replace(r,"")).split("\r"),s=e.split("\n"),a=1<s.length&&s[0].length<i[0].length;if(1===i.length||a)return"\n";for(var n=0,o=0;o<i.length;o++)"\n"===i[o][0]&&n++;return n>=i.length/2?"\r\n":"\r"}(s,l)),i=!1,e.delimiter)v(e.delimiter)&&(e.delimiter=e.delimiter(s),f.meta.delimiter=e.delimiter);else{var c=function(t,r,i,s,a){var o,l,c,d;a=a||[",","	","|",";",n.RECORD_SEP,n.UNIT_SEP];for(var u=0;u<a.length;u++){var h=a[u],f=0,p=0,g=0;c=void 0;for(var y=new m({comments:s,delimiter:h,newline:r,preview:10}).parse(t),b=0;b<y.data.length;b++)if(i&&x(y.data[b]))g++;else{var j=y.data[b].length;p+=j,void 0!==c?0<j&&(f+=Math.abs(j-c),c=j):c=j}0<y.data.length&&(p/=y.data.length-g),(void 0===l||f<=l)&&(void 0===d||d<p)&&1.99<p&&(l=f,o=h,d=p)}return{successful:!!(e.delimiter=o),bestDelimiter:o}}(s,e.newline,e.skipEmptyLines,e.comments,e.delimitersToGuess);c.successful?e.delimiter=c.bestDelimiter:(i=!0,e.delimiter=n.DefaultDelimiter),f.meta.delimiter=e.delimiter}var u=b(e);return e.preview&&e.header&&u.preview++,t=s,f=(r=new m(u)).parse(t,a,o),y(),d?{meta:{paused:!0}}:f||{meta:{paused:!1}}},this.paused=function(){return d},this.pause=function(){d=!0,r.abort(),t=v(e.chunk)?"":t.substring(r.getCharIndex())},this.resume=function(){o.streamer._halted?(d=!1,o.streamer.parseChunk(t,!0)):setTimeout(o.resume,3)},this.aborted=function(){return u},this.abort=function(){u=!0,r.abort(),f.meta.aborted=!0,v(e.complete)&&e.complete(f),t=""}}function p(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function m(e){var t,r=(e=e||{}).delimiter,i=e.newline,s=e.comments,a=e.step,o=e.preview,l=e.fastMode,c=t=void 0===e.quoteChar||null===e.quoteChar?'"':e.quoteChar;if(void 0!==e.escapeChar&&(c=e.escapeChar),("string"!=typeof r||-1<n.BAD_DELIMITERS.indexOf(r))&&(r=","),s===r)throw Error("Comment character same as delimiter");!0===s?s="#":("string"!=typeof s||-1<n.BAD_DELIMITERS.indexOf(s))&&(s=!1),"\n"!==i&&"\r"!==i&&"\r\n"!==i&&(i="\n");var d=0,u=!1;this.parse=function(n,h,f){if("string"!=typeof n)throw Error("Input must be a string");var m=n.length,g=r.length,x=i.length,y=s.length,b=v(a),j=[],_=[],w=[],S=d=0;if(!n)return Y();if(e.header&&!h){var C=n.split(i)[0].split(r),k=[],T={},E=!1;for(var N in C){var P=C[N];v(e.transformHeader)&&(P=e.transformHeader(P,N));var R=P,A=T[P]||0;for(0<A&&(E=!0,R=P+"_"+A),T[P]=A+1;k.includes(R);)R=R+"_"+A;k.push(R)}if(E){var D=n.split(i);D[0]=k.join(r),n=D.join(i)}}if(l||!1!==l&&-1===n.indexOf(t)){for(var I=n.split(i),L=0;L<I.length;L++){if(w=I[L],d+=w.length,L!==I.length-1)d+=i.length;else if(f)break;if(!s||w.substring(0,y)!==s){if(b){if(j=[],q(w.split(r)),U(),u)return Y()}else q(w.split(r));if(o&&o<=L)return j=j.slice(0,o),Y(!0)}}return Y()}for(var O=n.indexOf(r,d),z=n.indexOf(i,d),M=RegExp(p(c)+p(t),"g"),F=n.indexOf(t,d);;)if(n[d]!==t)if(s&&0===w.length&&n.substring(d,d+y)===s){if(-1===z)return Y();d=z+x,z=n.indexOf(i,d),O=n.indexOf(r,d)}else if(-1!==O&&(O<z||-1===z))w.push(n.substring(d,O)),d=O+g,O=n.indexOf(r,d);else{if(-1===z)break;if(w.push(n.substring(d,z)),Q(z+x),b&&(U(),u))return Y();if(o&&j.length>=o)return Y(!0)}else for(F=d,d++;;){if(-1===(F=n.indexOf(t,F+1)))return f||_.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:j.length,index:d}),K();if(F===m-1)return K(n.substring(d,F).replace(M,t));if(t!==c||n[F+1]!==c){if(t===c||0===F||n[F-1]!==c){-1!==O&&O<F+1&&(O=n.indexOf(r,F+1)),-1!==z&&z<F+1&&(z=n.indexOf(i,F+1));var B=H(-1===z?O:Math.min(O,z));if(n.substr(F+1+B,g)===r){w.push(n.substring(d,F).replace(M,t)),n[d=F+1+B+g]!==t&&(F=n.indexOf(t,d)),O=n.indexOf(r,d),z=n.indexOf(i,d);break}var $=H(z);if(n.substring(F+1+$,F+1+$+x)===i){if(w.push(n.substring(d,F).replace(M,t)),Q(F+1+$+x),O=n.indexOf(r,d),F=n.indexOf(t,d),b&&(U(),u))return Y();if(o&&j.length>=o)return Y(!0);break}_.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:j.length,index:d}),F++}}else F++}return K();function q(e){j.push(e),S=d}function H(e){var t=0;if(-1!==e){var r=n.substring(F+1,e);r&&""===r.trim()&&(t=r.length)}return t}function K(e){return f||(void 0===e&&(e=n.substring(d)),w.push(e),d=m,q(w),b&&U()),Y()}function Q(e){d=e,q(w),w=[],z=n.indexOf(i,d)}function Y(e){return{data:j,errors:_,meta:{delimiter:r,linebreak:i,aborted:u,truncated:!!e,cursor:S+(h||0)}}}function U(){a(Y()),j=[],_=[]}},this.abort=function(){u=!0},this.getCharIndex=function(){return d}}function g(e){var t=e.data,r=s[t.workerId],i=!1;if(t.error)r.userError(t.error,t.file);else if(t.results&&t.results.data){var a={abort:function(){i=!0,x(t.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(v(r.userStep)){for(var n=0;n<t.results.data.length&&(r.userStep({data:t.results.data[n],errors:t.results.errors,meta:t.results.meta},a),!i);n++);delete t.results}else v(r.userChunk)&&(r.userChunk(t.results,a,t.file),delete t.results)}t.finished&&!i&&x(t.workerId,t.results)}function x(e,t){var r=s[e];v(r.userComplete)&&r.userComplete(t),r.terminate(),delete s[e]}function y(){throw Error("Not implemented.")}function b(e){if("object"!=typeof e||null===e)return e;var t=Array.isArray(e)?[]:{};for(var r in e)t[r]=b(e[r]);return t}function j(e,t){return function(){e.apply(t,arguments)}}function v(e){return"function"==typeof e}return i&&(t.onmessage=function(e){var r=e.data;if(void 0===n.WORKER_ID&&r&&(n.WORKER_ID=r.workerId),"string"==typeof r.input)t.postMessage({workerId:n.WORKER_ID,results:n.parse(r.input,r.config),finished:!0});else if(t.File&&r.input instanceof File||r.input instanceof Object){var i=n.parse(r.input,r.config);i&&t.postMessage({workerId:n.WORKER_ID,results:i,finished:!0})}}),(c.prototype=Object.create(l.prototype)).constructor=c,(d.prototype=Object.create(l.prototype)).constructor=d,(u.prototype=Object.create(u.prototype)).constructor=u,(h.prototype=Object.create(l.prototype)).constructor=h,n},"function"==typeof define&&define.amd?void 0!==(s=i())&&e.v(s):t.exports=i()},300424,e=>{"use strict";var t=e.i(478902),r=e.i(902858),i=e.i(370410),s=e.i(365257),a=e.i(479232),n=e.i(389959),o=e.i(801834),l=e.i(2579),c=e.i(635494),d=e.i(206413),u=e.i(592360),h=e.i(178527),f=e.i(837710),p=e.i(703526),m=e.i(917007),g=e.i(920432),x=e.i(549815),y=e.i(911509),b=e.i(996960),j=e.i(866205),v=e.i(793912),_=e.i(135144),w=e.i(689805),S=e.i(396831),C=e.i(903248);let k=({className:e,disabled:k=!1,size:T="tiny",showError:E=!0,selectedSchemaName:N,supportSelectAll:P=!1,excludedSchemas:R=[],onSelectSchema:A,onSelectCreateSchema:D,align:I="start"})=>{let[L,O]=(0,n.useState)(!1),{can:z}=(0,l.useAsyncCheckPermissions)(r.PermissionAction.TENANT_SQL_ADMIN_WRITE,"schemas"),{data:M}=(0,c.useSelectedProjectQuery)(),{data:F,isPending:B,isSuccess:$,isError:q,error:H,refetch:K}=(0,o.useSchemasQuery)({projectRef:M?.ref,connectionString:M?.connectionString}),Q=(F||[]).filter(e=>!R.includes(e.name)).sort((e,t)=>e.name.localeCompare(t.name));return(0,t.jsxs)("div",{className:e,children:[B&&(0,t.jsx)(f.Button,{type:"default",className:"w-full [&>span]:w-full",size:T,disabled:!0,children:(0,t.jsx)(C.Skeleton,{className:"w-full h-3 bg-foreground-muted"})},"schema-selector-skeleton"),E&&q&&(0,t.jsxs)(h.Alert_Shadcn_,{variant:"warning",className:"!px-3 !py-3",children:[(0,t.jsx)(u.AlertTitle_Shadcn_,{className:"text-xs text-amber-900",children:"Failed to load schemas"}),(0,t.jsxs)(d.AlertDescription_Shadcn_,{className:"text-xs mb-2 break-words",children:["Error: ",H?.message]}),(0,t.jsx)(f.Button,{type:"default",size:"tiny",onClick:()=>K(),children:"Reload schemas"})]}),$&&(0,t.jsxs)(w.Popover_Shadcn_,{open:L,onOpenChange:O,modal:!1,children:[(0,t.jsx)(_.PopoverTrigger_Shadcn_,{asChild:!0,children:(0,t.jsx)(f.Button,{size:T,disabled:k,type:"default","data-testid":"schema-selector",className:"w-full [&>span]:w-full !pr-1 space-x-1",iconRight:(0,t.jsx)(s.ChevronsUpDown,{className:"text-foreground-muted",strokeWidth:2,size:14}),children:N?(0,t.jsxs)("div",{className:"w-full flex gap-1",children:[(0,t.jsx)("p",{className:"text-foreground-lighter",children:"schema"}),(0,t.jsx)("p",{className:"text-foreground",children:"*"===N?"All schemas":N})]}):(0,t.jsx)("div",{className:"w-full flex gap-1",children:(0,t.jsx)("p",{className:"text-foreground-lighter",children:"Choose a schema..."})})})}),(0,t.jsx)(v.PopoverContent_Shadcn_,{className:"p-0 min-w-[200px] pointer-events-auto",side:"bottom",align:I,sameWidthAsTrigger:!0,children:(0,t.jsxs)(j.Command_Shadcn_,{children:[(0,t.jsx)(g.CommandInput_Shadcn_,{className:"text-xs",placeholder:"Find schema..."}),(0,t.jsxs)(y.CommandList_Shadcn_,{children:[(0,t.jsx)(p.CommandEmpty_Shadcn_,{children:"No schemas found"}),(0,t.jsx)(m.CommandGroup_Shadcn_,{children:(0,t.jsxs)(S.ScrollArea,{className:(Q||[]).length>7?"h-[210px]":"",children:[P&&(0,t.jsxs)(x.CommandItem_Shadcn_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{A("*"),O(!1)},onClick:()=>{A("*"),O(!1)},children:[(0,t.jsx)("span",{children:"All schemas"}),"*"===N&&(0,t.jsx)(i.Check,{className:"text-brand",strokeWidth:2,size:16})]},"select-all"),Q?.map(e=>(0,t.jsxs)(x.CommandItem_Shadcn_,{className:"cursor-pointer flex items-center justify-between space-x-2 w-full",onSelect:()=>{A(e.name),O(!1)},onClick:()=>{A(e.name),O(!1)},children:[(0,t.jsx)("span",{children:e.name}),N===e.name&&(0,t.jsx)(i.Check,{className:"text-brand",strokeWidth:2,size:16})]},e.id))]})}),void 0!==D&&z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(b.CommandSeparator_Shadcn_,{}),(0,t.jsx)(m.CommandGroup_Shadcn_,{children:(0,t.jsxs)(x.CommandItem_Shadcn_,{className:"cursor-pointer flex items-center gap-x-2 w-full",onSelect:()=>{D(),O(!1)},onClick:()=>{D(),O(!1)},children:[(0,t.jsx)(a.Plus,{size:12}),"Create a new schema"]})})]})]})]})})]})]})};e.s(["SchemaSelector",0,k,"default",0,k])},983783,e=>{"use strict";var t=e.i(533488),r=e.i(389959);e.i(128328);var i=e.i(947748),s=e.i(158639);e.s(["useQuerySchemaState",0,()=>{var e;let{ref:a}=(0,s.useParams)(),n=a&&a.length>0&&window.localStorage.getItem(i.LOCAL_STORAGE_KEYS.LAST_SELECTED_SCHEMA(a))||"public",[o,l]=(e=(0,r.useMemo)(()=>n,[a]),(0,t.useQueryState)("schema",t.parseAsString.withDefault(e).withOptions({clearOnDefault:!1})));return(0,r.useEffect)(()=>{a&&a.length>0&&window.localStorage.setItem(i.LOCAL_STORAGE_KEYS.LAST_SELECTED_SCHEMA(a),o)},[o,a]),{selectedSchema:o,setSelectedSchema:l}}])},892277,e=>{"use strict";var t=e.i(478902),r=e.i(389959),i=e.i(837710),s=e.i(253214),a=e.i(392491),n=e.i(710483);let o=({onClose:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.DialogHeader,{children:(0,t.jsx)(s.DialogTitle,{children:"Schemas managed by Supabase"})}),(0,t.jsx)(s.DialogSectionSeparator,{}),(0,t.jsxs)(s.DialogSection,{className:"space-y-2 prose",children:[(0,t.jsx)("p",{className:"text-sm",children:"The following schemas are managed by Supabase and are currently protected from write access through the dashboard."}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:a.INTERNAL_SCHEMAS.map(e=>(0,t.jsx)("code",{className:"text-xs",children:e},e))}),(0,t.jsx)("p",{className:"text-sm !mt-4",children:"These schemas are critical to the functionality of your Supabase project and hence we highly recommend not altering them."}),(0,t.jsx)("p",{className:"text-sm",children:"You can, however, still interact with those schemas through the SQL Editor although we advise you only do so if you know what you are doing."})]}),(0,t.jsx)(s.DialogFooter,{children:(0,t.jsx)("div",{className:"flex items-center justify-end space-x-2",children:(0,t.jsx)(i.Button,{type:"default",onClick:e,children:"Understood"})})})]});e.s(["ProtectedSchemaWarning",0,({size:e="md",schema:l,entity:c})=>{let[d,u]=(0,r.useState)(!1),{isSchemaLocked:h,reason:f,fdwType:p}=(0,a.useIsProtectedSchema)({schema:l});return h?(0,t.jsx)(n.Admonition,{showIcon:"sm"!==e,layout:"sm"===e?"vertical":"horizontal",type:"note",title:"sm"===e?"Viewing protected schema":`Viewing ${c} from a protected schema`,description:"fdw"===f&&"iceberg"===p?(0,t.jsxs)("p",{children:["The ",(0,t.jsx)("code",{className:"text-code-inline",children:l})," schema is used by Supabase to connect to analytics buckets and is read-only through the dashboard."]}):"fdw"===f&&"s3_vectors"===p?(0,t.jsxs)("p",{children:["The ",(0,t.jsx)("code",{className:"text-code-inline",children:l})," schema is used by Supabase to connect to vector buckets and is read-only through the dashboard."]}):(0,t.jsxs)("p",{children:["The ",(0,t.jsx)("code",{className:"text-code-inline",children:l})," schema is managed by Supabase and is read-only through the dashboard."]}),actions:("fdw"!==f||"iceberg"!==p&&"s3_vectors"!==p)&&(0,t.jsxs)(s.Dialog,{open:d,onOpenChange:u,children:[(0,t.jsx)(s.DialogTrigger,{asChild:!0,children:(0,t.jsx)(i.Button,{type:"default",size:"tiny",onClick:()=>u(!0),children:"Learn more"})}),(0,t.jsx)(s.DialogContent,{children:(0,t.jsx)(o,{onClose:()=>u(!1)})})]})}):null}])},534499,e=>{"use strict";let t={list:e=>["projects",e,"foreignTables"],listBySchema:(e,r)=>[...t.list(e),r]};e.s(["foreignTableKeys",0,t])},528462,e=>{"use strict";var t=e.i(478902),r=e.i(311827),i=e.i(543851),s=e.i(300906),a=e.i(219195),n=e.i(843778),o=e.i(792459);e.s(["EntityTypeIcon",0,({type:e,size:l=15,strokeWidth:c=1.5,isActive:d})=>"sql"===e?(0,t.jsx)(o.SQL_ICON,{size:l,className:(0,n.cn)("transition-colors","fill-foreground-muted","group-aria-selected:fill-foreground","w-4 h-4","-ml-0.5"),strokeWidth:c}):e===r.ENTITY_TYPE.TABLE?(0,t.jsx)(a.Table2,{size:l,strokeWidth:c,className:(0,n.cn)("text-foreground-muted group-hover:text-foreground-lighter group-aria-selected:text-foreground",d&&"text-foreground-light","transition-colors")}):"schema"===e?(0,t.jsx)(s.GitBranch,{size:l,strokeWidth:c}):e===r.ENTITY_TYPE.VIEW?(0,t.jsx)(i.Eye,{size:l,strokeWidth:c,className:(0,n.cn)("text-foreground-muted group-hover:text-foreground-lighter",d&&"text-foreground-lighter","transition-colors")}):(0,t.jsx)("div",{className:(0,n.cn)("flex items-center justify-center text-xs h-4 w-4 rounded-[2px] font-bold",e===r.ENTITY_TYPE.FOREIGN_TABLE&&"text-warning-600/80 dark:text-yellow-900 bg-yellow-500",e===r.ENTITY_TYPE.MATERIALIZED_VIEW&&"text-purple-1100 bg-purple-500",e===r.ENTITY_TYPE.PARTITIONED_TABLE&&"text-foreground-light bg-surface-400 dark:bg-border-stronger"),children:Object.entries(r.ENTITY_TYPE).find(([,t])=>t===e)?.[0]?.[0]?.toUpperCase()})])},951684,e=>{"use strict";let t=(0,e.i(388019).default)("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);e.s(["default",()=>t])},300906,e=>{"use strict";var t=e.i(951684);e.s(["GitBranch",()=>t.default])},152285,e=>{"use strict";var t=e.i(478902),r=e.i(700856),i=e.i(389959),s=e.i(938933);let a=({defaultActiveId:e,activeId:a,type:n="pills",size:o="tiny",block:l,onChange:c,onClick:d,scrollable:u,wrappable:h,addOnBefore:f,addOnAfter:p,listClassNames:m,baseClassNames:g,refs:x,children:y})=>{let b=i.Children.toArray(y),[j,v]=(0,i.useState)(a??e??b?.[0]?.props?.id);(0,i.useMemo)(()=>{a&&a!==j&&v(a)},[a]);let _=(0,s.default)("tabs");function w(e){d?.(e),e!==j&&(c?.(e),v(e))}let S=[_[n].list];return u&&S.push(_.scrollable),h&&S.push(_.wrappable),m&&S.push(m),(0,t.jsxs)(r.Root,{value:j,className:[_.base,g].join(" "),ref:x?.base,children:[(0,t.jsxs)(r.List,{className:S.join(" "),ref:x?.list,children:[f,b.map(e=>{let i=j===e.props.id,s=[_[n].base,_.size[o]];return i?s.push(_[n].active):s.push(_[n].inactive),l&&s.push(_.block),(0,t.jsxs)(r.Trigger,{onKeyDown:t=>{"Enter"===t.key&&(t.preventDefault(),w(e.props.id))},onClick:()=>w(e.props.id),value:e.props.id,className:s.join(" "),children:[e.props.icon,(0,t.jsx)("span",{children:e.props.label}),e.props.iconRight]},`${e.props.id}-tab-button`)}),p]}),b]})};a.Panel=({children:e,id:i,className:a})=>{let n=(0,s.default)("tabs");return(0,t.jsx)(r.Content,{value:i,className:[n.content,a].join(" "),children:e})},e.s(["default",0,a])},200409,e=>{"use strict";var t=e.i(152285);e.s(["Tabs",()=>t.default])},238944,e=>{"use strict";var t=e.i(323796),r=e.i(271226),i=e.i(389959);function s({replace:e=!0,arrayKeys:a=[]}={}){let n=JSON.stringify(a),o=(0,i.useMemo)(()=>new Set(a),[n]),l=(0,r.useRouter)(),c=(0,i.useMemo)(()=>Object.fromEntries(Object.entries(l.query).map(([e,t])=>o.has(e)?Array.isArray(t)?[e,t]:[e,[t]]:[e,t])),[o,l.query]),d=(0,t.default)(c);return[c,(0,i.useCallback)(t=>{let r=d.current,i="function"==typeof t?t(r):t,s=Object.fromEntries(Object.entries({...r,...i}).filter(([,e])=>!!e));(e?l.replace:l.push)({pathname:l.pathname,query:s},void 0,{shallow:!0,scroll:!1})},[l,e])]}e.s(["useUrlState",()=>s])},290623,e=>{"use strict";var t=e.i(478902),r=e.i(17203),i=e.i(210419),s=e.i(355901),a=e.i(632459),n=e.i(576117),o=e.i(38429),l=e.i(356003);e.i(967533);var c=e.i(721490),d=e.i(714403),u=e.i(908937),h=e.i(201461),f=e.i(790819),p=e.i(46974);async function m({projectRef:e,connectionString:t,table:r,filters:i,roleImpersonationState:s}){let a=(0,u.wrapWithRoleImpersonation)(function({table:e,filters:t}){let r=new c.Query().from(e.name,e.schema??void 0).delete();return t.filter(e=>e.value&&""!==e.value).forEach(t=>{let i=(0,p.formatFilterValue)(e,t);r=r.filter(t.column,t.operator,i)}),r.toSql()}({table:r,filters:i}),s),{result:n}=await (0,d.executeSql)({projectRef:e,connectionString:t,sql:a,isRoleImpersonationEnabled:(0,h.isRoleImpersonationEnabled)(s?.role)});return n}var g=e.i(152992);async function x({projectRef:e,connectionString:t,table:r}){let i=function({table:e}){return new c.Query().from(e.name,e.schema??void 0).truncate().toSql()}({table:r}),{result:s}=await (0,d.executeSql)({projectRef:e,connectionString:t,sql:i});return s}var y=e.i(755216),b=e.i(497761),j=e.i(938343),v=e.i(435916),_=e.i(138658);async function w({projectRef:e,connectionString:t,id:r,name:i,schema:s,cascade:a=!1}){let{sql:n}=y.default.tables.remove({name:i,schema:s},{cascade:a}),{result:o}=await (0,d.executeSql)({projectRef:e,connectionString:t,sql:n,queryKey:["table","delete",r]});return o}var S=e.i(635494),C=e.i(636047),k=e.i(206413),T=e.i(592360),E=e.i(178527),N=e.i(837710),P=e.i(815545),R=e.i(466472);e.s(["default",0,({selectedTable:e,onTableDeleted:c})=>{let{data:d}=(0,S.useSelectedProjectQuery)(),u=(0,C.useTableEditorStateSnapshot)(),{filters:p,onApplyFilters:y}=(0,a.useTableFilter)(),{mutate:A}=(0,n.useDatabaseColumnDeleteMutation)({onSuccess:()=>{if(u.confirmationDialog?.type!=="column")return;let e=u.confirmationDialog.column;(({columnName:e})=>{y(p.filter(t=>t.column!==e))})({columnName:e.name}),s.toast.success(`Successfully deleted column "${e.name}"`)},onError:e=>{if(u.confirmationDialog?.type!=="column")return;let t=u.confirmationDialog.column;s.toast.error(`Failed to delete ${t.name}: ${e.message}`)},onSettled:()=>{u.closeConfirmationDialog()}}),{mutate:D}=(({onSuccess:e,onError:t,...r}={})=>{let i=(0,l.useQueryClient)();return(0,o.useMutation)({mutationFn:e=>w(e),async onSuccess(t,r,s){let{id:a,projectRef:n,schema:o}=r;await Promise.all([i.invalidateQueries({queryKey:j.tableEditorKeys.tableEditor(n,a)}),i.invalidateQueries({queryKey:_.tableKeys.list(n,o)}),i.invalidateQueries({queryKey:b.entityTypeKeys.list(n)}),i.invalidateQueries({queryKey:v.viewKeys.listBySchema(n,o)})]),await e?.(t,r,s)},async onError(e,r,i){void 0===t?s.toast.error(`Failed to delete database table: ${e.message}`):t(e,r,i)},...r})})({onSuccess:async()=>{s.toast.success(`Successfully deleted table "${e?.name}"`),c?.()},onError:t=>{s.toast.error(`Failed to delete ${e?.name}: ${t.message}`)},onSettled:()=>{u.closeConfirmationDialog()}}),{mutate:I,isPending:L}=(0,g.useTableRowDeleteMutation)({onSuccess:()=>{u.confirmationDialog?.type==="row"&&u.confirmationDialog.callback?.(),s.toast.success("Successfully deleted selected row(s)")},onSettled:()=>{u.closeConfirmationDialog()}}),{mutate:O,isPending:z}=(({onSuccess:e,onError:t,...r}={})=>{let i=(0,l.useQueryClient)();return(0,o.useMutation)({mutationFn:e=>m(e),async onSuccess(t,r,s){let{projectRef:a,table:n}=r;await i.invalidateQueries({queryKey:f.tableRowKeys.tableRowsAndCount(a,n.id)}),await e?.(t,r,s)},async onError(e,r,i){void 0===t?s.toast.error(`Failed to delete all table rows: ${e.message}`):t(e,r,i)},...r})})({onSuccess:()=>{u.confirmationDialog?.type==="row"&&u.confirmationDialog.callback?.(),s.toast.success("Successfully deleted selected rows")},onError:e=>{s.toast.error(`Failed to delete rows: ${e.message}`)},onSettled:()=>{u.closeConfirmationDialog()}}),{mutate:M,isPending:F}=(({onSuccess:e,onError:t,...r}={})=>{let i=(0,l.useQueryClient)();return(0,o.useMutation)({mutationFn:e=>x(e),async onSuccess(t,r,s){let{projectRef:a,table:n}=r;await i.invalidateQueries({queryKey:f.tableRowKeys.tableRowsAndCount(a,n.id)}),await e?.(t,r,s)},async onError(e,r,i){void 0===t?s.toast.error(`Failed to truncate table row: ${e.message}`):t(e,r,i)},...r})})({onSuccess:()=>{u.confirmationDialog?.type==="row"&&u.confirmationDialog.callback?.(),s.toast.success("Successfully deleted all rows from table")},onError:e=>{s.toast.error(`Failed to delete rows: ${e.message}`)},onSettled:()=>{u.closeConfirmationDialog()}}),B=u.confirmationDialog?.type==="row"&&u.confirmationDialog.allRowsSelected,$=u.confirmationDialog?.type==="row"?u.confirmationDialog.allRowsSelected?u.confirmationDialog.numRows??0:u.confirmationDialog.rows.length:0,q=(u.confirmationDialog?.type==="column"||u.confirmationDialog?.type==="table")&&u.confirmationDialog.isDeleteWithCascade,H=async()=>{if(u.confirmationDialog?.type!=="column"||void 0===d)return;let e=u.confirmationDialog.column;void 0!==e&&A({column:e,cascade:q,projectRef:d.ref,connectionString:d?.connectionString})},K=async()=>{u.confirmationDialog?.type!=="table"||void 0!==e&&D({projectRef:d?.ref,connectionString:d?.connectionString,id:e.id,name:e.name,schema:e.schema,cascade:q})},Q=(0,h.useGetImpersonatedRoleState)(),Y=async()=>{if(!d)return console.error("Project ref is required");if(!e)return console.error("Selected table required");if(u.confirmationDialog?.type!=="row")return;let t=u.confirmationDialog.rows;if(u.confirmationDialog.allRowsSelected)if(0===p.length){if(void 0!==Q().role)return u.closeConfirmationDialog(),s.toast.error("Table truncation is not supported when impersonating a role");M({projectRef:d.ref,connectionString:d.connectionString,table:e})}else O({projectRef:d.ref,connectionString:d.connectionString,table:e,filters:p,roleImpersonationState:Q()});else I({projectRef:d.ref,connectionString:d.connectionString,table:e,rows:t,roleImpersonationState:Q()})};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(R.default,{variant:"destructive",size:"small",visible:u.confirmationDialog?.type==="column",title:`Confirm deletion of column "${u.confirmationDialog?.type==="column"&&u.confirmationDialog.column.name}"`,confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{u.closeConfirmationDialog()},onConfirm:H,children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected column? This action cannot be undone."}),(0,t.jsx)(P.Checkbox,{label:"Drop column with cascade?",description:"Deletes the column and its dependent objects",checked:q,onChange:()=>u.toggleConfirmationIsWithCascade()}),q&&(0,t.jsxs)(E.Alert_Shadcn_,{variant:"warning",title:"Warning: Dropping with cascade may result in unintended consequences",children:[(0,t.jsx)(T.AlertTitle_Shadcn_,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,t.jsx)(k.AlertDescription_Shadcn_,{children:(0,t.jsx)(N.Button,{asChild:!0,size:"tiny",type:"default",icon:(0,t.jsx)(r.ExternalLink,{}),children:(0,t.jsx)(i.default,{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,t.jsx)(R.default,{variant:"destructive",size:"small",visible:u.confirmationDialog?.type==="table",title:(0,t.jsx)("span",{className:"break-words",children:`Confirm deletion of table "${e?.name}"`}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>{u.closeConfirmationDialog()},onConfirm:K,children:(0,t.jsxs)("div",{"data-testid":"confirm-delete-table-modal",className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"Are you sure you want to delete the selected table? This action cannot be undone."}),(0,t.jsx)(P.Checkbox,{label:"Drop table with cascade?",description:"Deletes the table and its dependent objects",checked:q,onChange:()=>u.toggleConfirmationIsWithCascade(!q)}),q&&(0,t.jsxs)(E.Alert_Shadcn_,{variant:"warning",children:[(0,t.jsx)(T.AlertTitle_Shadcn_,{children:"Warning: Dropping with cascade may result in unintended consequences"}),(0,t.jsx)(k.AlertDescription_Shadcn_,{children:"All dependent objects will be removed, as will any objects that depend on them, recursively."}),(0,t.jsx)(k.AlertDescription_Shadcn_,{className:"mt-4",children:(0,t.jsx)(N.Button,{asChild:!0,size:"tiny",type:"default",icon:(0,t.jsx)(r.ExternalLink,{}),children:(0,t.jsx)(i.default,{href:"https://www.postgresql.org/docs/current/ddl-depend.html",target:"_blank",rel:"noreferrer",children:"About dependency tracking"})})})]})]})}),(0,t.jsx)(R.default,{variant:"destructive",size:"small",visible:u.confirmationDialog?.type==="row",title:(0,t.jsxs)("p",{className:"break-words",children:[(0,t.jsx)("span",{children:"Confirm to delete the selected row"}),(0,t.jsx)("span",{children:$>1&&"s"})]}),confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>u.closeConfirmationDialog(),onConfirm:()=>Y(),loading:F||L||z,children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:[(0,t.jsx)("span",{children:"Are you sure you want to delete "}),(0,t.jsxs)("span",{children:[B?"all":"the selected"," "]}),(0,t.jsx)("span",{children:$>1&&`${$} `}),(0,t.jsx)("span",{children:"row"}),(0,t.jsx)("span",{children:$>1&&"s"}),(0,t.jsx)("span",{children:"? This action cannot be undone."})]})})})]})}],290623)},863562,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},480900,e=>{"use strict";let t=(0,e.i(388019).default)("Columns2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M12 3v18",key:"108xh3"}]]);e.s(["Columns",()=>t],480900)},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function r(e,t={}){let{maxDepth:i=3,redaction:s="[REDACTED]",truncationNotice:a="[REDACTED: max depth reached]",sensitiveKeys:n=[]}=t,o=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...n].map(e=>e.toLowerCase())),l=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function d(e){let t=e;for(let{re:e}of l)t=t.replace(e,s);return t}function u(e){return o.has(String(e).toLowerCase())}return e.map(e=>(function e(t,r){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return d(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(r>=i)return a;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let i=[];c.set(t,i);for(let s=0;s<t.length;s++)i[s]=e(t[s],r+1);return i}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let i={};for(let[a,n]of(c.set(t,i),Object.entries(t)))u(a)?i[a]=s:i[a]=e(n,r+1);return i}if(t instanceof Map){let i=[];for(let[a,n]of(c.set(t,i),t.entries())){let t=u(a)?s:e(a,r+1),o=u(a)?s:e(n,r+1);i.push([t,o])}return i}if(t instanceof Set){let i=[];for(let s of(c.set(t,i),t.values()))i.push(e(s,r+1));return i}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:d(t.message),stack:a};return c.set(t,e),e}try{return d(String(t))}catch{return d(Object.prototype.toString.call(t))}}return d(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>r,"sanitizeUrlHashParams",()=>t])},670099,e=>{"use strict";var t=e.i(478902),r=e.i(389959);e.i(128328);var i=e.i(158639),s=e.i(902858),a=e.i(964727),n=e.i(370410),o=e.i(480900),l=e.i(816467),c=e.i(53071),d=e.i(543851),u=e.i(532427),h=e.i(471998),f=e.i(479232),p=e.i(366652),m=e.i(211570),g=e.i(975924),x=e.i(210419),y=e.i(271226),b=e.i(533488),j=e.i(19583),v=e.i(567558),_=e.i(215312),w=e.i(423782),S=e.i(528462),C=e.i(300424),k=e.i(321605),T=e.i(311827),E=e.i(755216),N=e.i(242882),P=e.i(714403),R=e.i(534499);async function A({projectRef:e,connectionString:t,schema:r},i){let{result:s}=await (0,P.executeSql)({projectRef:e,connectionString:t,sql:E.default.foreignTables.list(r?{includedSchemas:[r]}:void 0).sql,queryKey:["foreign-tables",r]},i);return s}var D=e.i(248593),I=e.i(234745);let L={list:e=>["projects",e,"materializedViews"],listBySchema:(e,t)=>[...L.list(e),t]};async function O({projectRef:e,connectionString:t,schema:r},i){if(!e)throw Error("projectRef is required");let s=new Headers;t&&s.set("x-connection-encrypted",t);let{data:a,error:n}=await (0,I.get)("/platform/pg-meta/{ref}/materialized-views",{params:{header:{"x-connection-encrypted":t,"x-pg-application-name":D.DEFAULT_PLATFORM_APPLICATION_NAME},path:{ref:e},query:{included_schemas:r||"",include_columns:!0}},headers:s,signal:i});return n&&(0,I.handleError)(n),a}var z=e.i(941381),M=e.i(738196),F=e.i(435916);async function B({projectRef:e,connectionString:t,schema:r},i){if(!e)throw Error("projectRef is required");let s=new Headers;t&&s.set("x-connection-encrypted",t);let{data:a,error:n}=await (0,I.get)("/platform/pg-meta/{ref}/views",{params:{header:{"x-connection-encrypted":t,"x-pg-application-name":D.DEFAULT_PLATFORM_APPLICATION_NAME},path:{ref:e},query:{included_schemas:r||""}},headers:s,signal:i});return n&&(0,I.handleError)(n),a}var $=e.i(2579),q=e.i(983783),H=e.i(635494),K=e.i(392491),Q=e.i(837710),Y=e.i(627069),U=e.i(34411),W=e.i(874311),G=e.i(9679),V=e.i(793912),Z=e.i(135144),J=e.i(689805),X=e.i(492418),ee=e.i(613580),et=e.i(746301),er=e.i(108151),ei=e.i(892277);let es=({onDuplicateTable:e,onAddTable:E=a.default,onEditTable:P=a.default,onDeleteTable:D=a.default})=>{let I=(0,y.useRouter)(),{ref:es}=(0,i.useParams)(),{data:ea}=(0,H.useSelectedProjectQuery)(),en=(0,z.usePrefetchEditorTablePage)(),{selectedSchema:eo,setSelectedSchema:el}=(0,q.useQuerySchemaState)(),[ec,ed]=(0,b.useQueryState)("search",b.parseAsString.withDefault("")),[eu,eh]=(0,r.useState)(Object.values(T.ENTITY_TYPE)),{can:ef}=(0,$.useAsyncCheckPermissions)(s.PermissionAction.TENANT_SQL_ADMIN_WRITE,"tables"),{data:ep,error:em,isError:eg,isPending:ex,isSuccess:ey}=(0,M.useTablesQuery)({projectRef:ea?.ref,connectionString:ea?.connectionString,schema:eo,sortByProperty:"name",includeColumns:!0},{select:e=>0===ec.length?e:e.filter(e=>e.name.toLowerCase().includes(ec.toLowerCase()))}),{data:eb,error:ej,isError:ev,isPending:e_,isSuccess:ew}=(({projectRef:e,connectionString:t,schema:r},{enabled:i=!0,...s}={})=>(0,N.useQuery)({queryKey:r?F.viewKeys.listBySchema(e,r):F.viewKeys.list(e),queryFn:({signal:i})=>B({projectRef:e,connectionString:t,schema:r},i),enabled:i&&void 0!==e,staleTime:0,...s}))({projectRef:ea?.ref,connectionString:ea?.connectionString,schema:eo},{select:e=>0===ec.length?e:e.filter(e=>e.name.toLowerCase().includes(ec.toLowerCase()))}),{data:eS,error:eC,isError:ek,isPending:eT,isSuccess:eE}=(({projectRef:e,connectionString:t,schema:r},{enabled:i=!0,...s}={})=>(0,N.useQuery)({queryKey:r?L.listBySchema(e,r):L.list(e),queryFn:({signal:i})=>O({projectRef:e,connectionString:t,schema:r},i),enabled:i&&void 0!==e,staleTime:0,...s}))({projectRef:ea?.ref,connectionString:ea?.connectionString,schema:eo},{select:e=>0===ec.length?e:e.filter(e=>e.name.toLowerCase().includes(ec.toLowerCase()))}),{data:eN,error:eP,isError:eR,isPending:eA,isSuccess:eD}=(({projectRef:e,connectionString:t,schema:r},{enabled:i=!0,...s}={})=>(0,N.useQuery)({queryKey:r?R.foreignTableKeys.listBySchema(e,r):R.foreignTableKeys.list(e),queryFn:({signal:i})=>A({projectRef:e,connectionString:t,schema:r},i),enabled:i&&void 0!==e,...s}))({projectRef:ea?.ref,connectionString:ea?.connectionString,schema:eo},{select:e=>0===ec.length?e:e.filter(e=>e.name.toLowerCase().includes(ec.toLowerCase()))}),{data:eI}=(0,k.useDatabasePublicationsQuery)({projectRef:ea?.ref,connectionString:ea?.connectionString}),eL=(eI??[]).find(e=>"supabase_realtime"===e.name),eO=(({tables:e=[],views:t=[],materializedViews:r=[],foreignTables:i=[]})=>[...e.map(e=>({...e,type:T.ENTITY_TYPE.TABLE,rows:e.live_rows_estimate,columns:e.columns??[]})),...t.map(e=>({type:T.ENTITY_TYPE.VIEW,id:e.id,name:e.name,comment:e.comment,schema:e.schema,rows:void 0,size:void 0,columns:e.columns??[]})),...r.map(e=>({type:T.ENTITY_TYPE.MATERIALIZED_VIEW,id:e.id,name:e.name,comment:e.comment,schema:e.schema,rows:void 0,size:void 0,columns:e.columns??[]})),...i.map(e=>({type:T.ENTITY_TYPE.FOREIGN_TABLE,id:e.id,name:e.name,comment:e.comment,schema:e.schema,rows:void 0,size:void 0,columns:e.columns??[]}))].sort((e,t)=>e.name.localeCompare(t.name)))({tables:ep,views:eb,materializedViews:eS,foreignTables:eN}).filter(e=>eu.includes(e.type)),{isSchemaLocked:ez}=(0,K.useIsProtectedSchema)({schema:eo}),eM=e=>{let t=Object.entries(T.ENTITY_TYPE).find(([,t])=>t===e)?.[0]?.toLowerCase()?.split("_")?.join(" ")||"";return t.charAt(0).toUpperCase()+t.slice(1)};return(0,t.jsxs)("div",{className:"flex flex-col gap-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center gap-2 flex-wrap",children:[(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(C.default,{className:"flex-grow lg:flex-grow-0 w-[180px]",size:"tiny",showError:!1,selectedSchemaName:eo,onSelectSchema:el}),(0,t.jsxs)(J.Popover_Shadcn_,{children:[(0,t.jsx)(Z.PopoverTrigger_Shadcn_,{asChild:!0,children:(0,t.jsx)(Q.Button,{size:"tiny",type:5!==eu.length?"default":"dashed",className:"px-1",icon:(0,t.jsx)(u.Filter,{})})}),(0,t.jsx)(V.PopoverContent_Shadcn_,{className:"p-0 w-56",side:"bottom",align:"center",children:(0,t.jsxs)("div",{className:"px-3 pt-3 pb-2 flex flex-col gap-y-2",children:[(0,t.jsx)("p",{className:"text-xs",children:"Show entity types"}),(0,t.jsx)("div",{className:"flex flex-col",children:Object.entries(T.ENTITY_TYPE).map(([e,r])=>(0,t.jsxs)("div",{className:"group flex items-center justify-between py-0.5",children:[(0,t.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,t.jsx)(U.Checkbox_Shadcn_,{id:e,name:e,checked:eu.includes(r),onCheckedChange:()=>{eu.includes(r)?eh(eu.filter(e=>e!==r)):eh(eu.concat([r]))}}),(0,t.jsx)(G.Label_Shadcn_,{htmlFor:e,className:"capitalize text-xs",children:e.toLowerCase().replace("_"," ")})]}),(0,t.jsx)(Q.Button,{size:"tiny",type:"default",onClick:()=>eh([r]),className:"transition opacity-0 group-hover:opacity-100 h-auto px-1 py-0.5",children:"Select only"})]},e))})]})})]})]}),(0,t.jsxs)("div",{className:"flex flex-grow justify-between gap-2 items-center",children:[(0,t.jsx)(et.Input,{size:"tiny",className:"flex-grow lg:flex-grow-0 w-52",placeholder:"Search for a table",value:ec,onChange:e=>ed(e.target.value),icon:(0,t.jsx)(p.Search,{})}),!ez&&(0,t.jsx)(_.ButtonTooltip,{className:"w-auto ml-auto",icon:(0,t.jsx)(f.Plus,{}),disabled:!ef,onClick:()=>E(),tooltip:{content:{side:"bottom",text:ef?void 0:"You need additional permissions to create tables"}},children:"New table"})]})]}),ez&&(0,t.jsx)(ei.ProtectedSchemaWarning,{schema:eo,entity:"tables"}),(ex||e_||eT||eA)&&(0,t.jsx)(er.GenericSkeletonLoader,{}),(eg||ev||ek||eR)&&(0,t.jsx)(v.default,{error:em||ej||eC||eP,subject:"Failed to retrieve tables"}),ey&&ew&&eE&&eD&&(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)(Y.Card,{children:(0,t.jsxs)(X.Table,{children:[(0,t.jsx)(X.TableHeader,{children:(0,t.jsxs)(X.TableRow,{children:[(0,t.jsx)(X.TableHead,{className:"!px-0"},"icon"),(0,t.jsx)(X.TableHead,{children:"Name"},"name"),(0,t.jsx)(X.TableHead,{className:"hidden lg:table-cell",children:"Description"},"description"),(0,t.jsx)(X.TableHead,{className:"hidden text-right xl:table-cell",children:"Rows (Estimated)"},"rows"),(0,t.jsx)(X.TableHead,{className:"hidden text-right xl:table-cell",children:"Size (Estimated)"},"size"),(0,t.jsx)(X.TableHead,{className:"hidden xl:table-cell text-right",children:"Realtime Enabled"},"realtime"),(0,t.jsx)(X.TableHead,{},"buttons")]})}),(0,t.jsx)(X.TableBody,{children:(0,t.jsxs)(t.Fragment,{children:[0===eO.length&&0===ec.length&&(0,t.jsx)(X.TableRow,{children:(0,t.jsx)(X.TableCell,{colSpan:7,children:0===eu.length?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-sm text-foreground",children:"Please select at least one entity type to filter with"}),(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"There are currently no results based on the filter that you have applied"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"text-sm text-foreground",children:"No tables created yet"}),(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:["There are no"," ",5===eu.length?"tables":1===eu.length?`${eM(eu[0])}s`:`${eu.slice(0,-1).map(e=>`${eM(e)}s`).join(", ")}, and ${eM(eu[eu.length-1])}s`," ",'found in the schema "',eo,'"']})]})})},eo),0===eO.length&&ec.length>0&&(0,t.jsx)(X.TableRow,{children:(0,t.jsxs)(X.TableCell,{colSpan:7,children:[(0,t.jsx)("p",{className:"text-sm text-foreground",children:"No results found"}),(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:['Your search for "',ec,'" did not return any results']})]})},eo),eO.length>0&&eO.map(r=>(0,t.jsxs)(X.TableRow,{children:[(0,t.jsx)(X.TableCell,{className:"!pl-5 !pr-1",children:(0,t.jsxs)(ee.Tooltip,{children:[(0,t.jsx)(ee.TooltipTrigger,{className:"cursor-default",children:(0,t.jsx)(S.EntityTypeIcon,{type:r.type})}),(0,t.jsx)(ee.TooltipContent,{side:"bottom",children:eM(r.type)})]})}),(0,t.jsx)(X.TableCell,{children:r.name.length>20?(0,t.jsxs)(ee.Tooltip,{disableHoverableContent:!0,children:[(0,t.jsx)(ee.TooltipTrigger,{asChild:!0,className:"max-w-[95%] overflow-hidden text-ellipsis whitespace-nowrap",children:(0,t.jsx)("p",{children:r.name})}),(0,t.jsx)(ee.TooltipContent,{side:"bottom",children:r.name})]}):(0,t.jsx)("p",{children:r.name})}),(0,t.jsx)(X.TableCell,{className:"hidden lg:table-cell ",children:null!==r.comment?(0,t.jsx)("span",{className:"lg:max-w-48 truncate inline-block",title:r.comment,children:r.comment}):(0,t.jsx)("p",{className:"text-border-stronger",children:"No description"})}),(0,t.jsx)(X.TableCell,{className:"hidden text-right xl:table-cell",children:void 0!==r.rows?r.rows.toLocaleString():"-"}),(0,t.jsx)(X.TableCell,{className:"hidden text-right xl:table-cell",children:void 0!==r.size?(0,t.jsx)("code",{className:"text-code-inline",children:r.size}):"-"}),(0,t.jsx)(X.TableCell,{className:"hidden xl:table-cell text-center",children:(eL?.tables??[]).find(e=>e.id===r.id)?(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(n.Check,{size:18,strokeWidth:2,className:"text-brand"})}):(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)(g.X,{size:18,strokeWidth:2,className:"text-foreground-lighter"})})}),(0,t.jsx)(X.TableCell,{children:(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,t.jsx)(Q.Button,{asChild:!0,type:"default",iconRight:(0,t.jsx)(o.Columns,{size:14,className:"text-foreground-light"}),className:"whitespace-nowrap hover:border-muted",style:{paddingTop:3,paddingBottom:3},children:(0,t.jsxs)(x.default,{href:`/project/${es}/database/tables/${r.id}`,children:[r.columns.length," columns"]})}),!ez&&(0,t.jsxs)(W.DropdownMenu,{children:[(0,t.jsx)(W.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(Q.Button,{type:"default",className:"px-1",icon:(0,t.jsx)(h.MoreVertical,{})})}),(0,t.jsxs)(W.DropdownMenuContent,{side:"bottom",align:"end",className:"w-40",children:[(0,t.jsxs)(W.DropdownMenuItem,{className:"flex items-center space-x-2",onClick:()=>I.push((0,j.buildTableEditorUrl)({projectRef:ea?.ref,tableId:r.id,schema:r.schema})),onMouseEnter:()=>en({id:r.id?String(r.id):void 0}),children:[(0,t.jsx)(d.Eye,{size:12}),(0,t.jsx)("p",{children:"View in Table Editor"})]}),r.type===T.ENTITY_TYPE.TABLE&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W.DropdownMenuSeparator,{}),(0,t.jsxs)(w.DropdownMenuItemTooltip,{className:"gap-x-2",disabled:!ef,onClick:()=>{ef&&P(r)},tooltip:{content:{side:"left",text:"You need additional permissions to edit this table"}},children:[(0,t.jsx)(c.Edit,{size:12}),(0,t.jsx)("p",{children:"Edit table"})]}),(0,t.jsxs)(w.DropdownMenuItemTooltip,{className:"gap-x-2",disabled:!ef,onClick:()=>{ef&&e(r)},tooltip:{content:{side:"left",text:"You need additional permissions to duplicate tables"}},children:[(0,t.jsx)(l.Copy,{size:12}),(0,t.jsx)("span",{children:"Duplicate Table"})]},"duplicate-table"),(0,t.jsx)(W.DropdownMenuSeparator,{}),(0,t.jsxs)(w.DropdownMenuItemTooltip,{disabled:!ef||ez,className:"gap-x-2",onClick:()=>{ef&&!ez&&D({...r,schema:eo})},tooltip:{content:{side:"left",text:"You need additional permissions to delete tables"}},children:[(0,t.jsx)(m.Trash,{size:12}),(0,t.jsx)("p",{children:"Delete table"})]})]})]})]})]})})]},r.id))]})})]})})})]})};var ea=e.i(290623),en=e.i(565066),eo=e.i(812136),el=e.i(448710),ec=e.i(962217),ed=e.i(636047),eu=e.i(70255),eh=e.i(127739),ef=e.i(456050),ep=e.i(228027);let em=()=>{let{ref:e}=(0,i.useParams)(),s=(0,ed.useTableEditorStateSnapshot)(),[a,n]=(0,r.useState)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ef.PageHeader,{size:"large",children:(0,t.jsx)(ef.PageHeaderMeta,{children:(0,t.jsx)(ef.PageHeaderSummary,{children:(0,t.jsx)(ef.PageHeaderTitle,{children:"Database Tables"})})})}),(0,t.jsx)(eh.PageContainer,{size:"large",children:(0,t.jsx)(ep.PageSection,{children:(0,t.jsx)(ep.PageSectionContent,{children:(0,t.jsx)(es,{onAddTable:s.onAddTable,onEditTable:e=>{n((0,ec.postgresTableToEntity)(e)),s.onEditTable()},onDeleteTable:e=>{n((0,ec.postgresTableToEntity)(e)),s.onDeleteTable()},onDuplicateTable:e=>{n((0,ec.postgresTableToEntity)(e)),s.onDuplicateTable()}})})})}),void 0!==e&&void 0!==a&&(0,ec.isTableLike)(a)&&(0,t.jsx)(eu.TableEditorTableStateContextProvider,{projectRef:e,table:a,children:(0,t.jsx)(ea.default,{selectedTable:a})},`table-editor-table-${a.id}`),(0,t.jsx)(en.SidePanelEditor,{includeColumns:!0,selectedTable:a})]})};em.getLayout=e=>(0,t.jsx)(el.default,{children:(0,t.jsx)(eo.default,{title:"Database",children:e})}),e.s(["default",0,em],670099)},796624,(e,t,r)=>{let i="/project/[ref]/database/tables";(window.__NEXT_P=window.__NEXT_P||[]).push([i,()=>e.r(670099)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([i])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},774186,e=>{e.v(t=>Promise.all(["static/chunks/117b4e5883cfc423.js"].map(t=>e.l(t))).then(()=>t(376359)))},981889,e=>{e.v(t=>Promise.all(["static/chunks/e44cabdf5aea9bff.js"].map(t=>e.l(t))).then(()=>t(242525)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/0860ba34f07162db.js","static/chunks/82dddbda1a808189.js","static/chunks/15e50b9d6c55f00a.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},753940,e=>{e.v(t=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(t=>e.l(t))).then(()=>t(478124)))},724565,e=>{e.v(t=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(t=>e.l(t))).then(()=>t(341546)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/031b0d6330b6fbae.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},926327,e=>{e.v(t=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(t=>e.l(t))).then(()=>t(72947)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},396476,e=>{e.v(t=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(t=>e.l(t))).then(()=>t(62943)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))}]);

//# debugId=3ac02dbe-4413-eaac-321f-583cdee5af5f
//# sourceMappingURL=cedf0f4207aba8a7.js.map