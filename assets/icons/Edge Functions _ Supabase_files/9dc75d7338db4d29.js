;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="886a3fb1-848b-54e0-7f23-89b02a275d6f")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,965371,871895,e=>{"use strict";e.i(10429);var s=e.i(837508);function r(e){switch(e){case s.PROVIDERS.AWS.id:return"ARM";case s.PROVIDERS.FLY.id:return"x86 64-bit";default:return""}}e.s(["getCloudProviderArchitecture",()=>r],965371);var t=e.i(478902),i=e.i(843778);function a({infraComputeSize:e,className:s,...r}){let a=e?.toLocaleLowerCase()==="micro"||e?.toLocaleLowerCase()==="nano",n=!!e;return(0,t.jsx)("div",{className:(0,i.cn)("inline-flex items-center justify-center rounded-md text-center font-mono uppercase","whitespace-nowrap font-medium tracking-[0.06em] text-[11px] leading-[1.1] px-[5.5px] py-[3px]","transition-all",n?a?"bg-surface-75 text-foreground-light border border-strong bg-opacity-50":"bg-brand bg-opacity-10 text-brand-600 border border-brand-500":"bg-surface-75 text-foreground-light border border-strong","group-data-[state=open]:bg-opacity-20 group-data-[state=open]:ring-2 group-data-[state=open]:ring-opacity-20",a?"group-data-[state=open]:ring-foreground-muted group-data-[state=open]:bg-opacity-75":"group-data-[state=open]:ring-brand",s),...r,children:e})}e.s(["ComputeBadge",()=>a],871895)},297306,e=>{"use strict";var s=e.i(478902),r=e.i(210419),t=e.i(389959),i=e.i(743371),a=e.i(540203),n=e.i(144676),l=e.i(965371);e.i(10429);var o=e.i(837508),c=e.i(837710),d=e.i(71049),u=e.i(479095),g=e.i(871895),x=e.i(108151);let p=({label:e,stat:r})=>(0,s.jsxs)("div",{className:"flex flex-row gap-2",children:[(0,s.jsx)("span",{className:"text-sm text-foreground-light w-16",children:e}),(0,s.jsx)("span",{className:"text-sm",children:r})]});e.s(["ComputeBadgeWrapper",0,({slug:e,projectRef:h,cloudProvider:m,computeSize:j})=>{let[f,b]=(0,t.useState)(!1),v=(0,l.getCloudProviderArchitecture)(m),{data:N,isPending:C}=(0,n.useProjectAddonsQuery)({projectRef:h},{enabled:f}),T=N?.selected_addons??[],{computeInstance:S}=(0,i.getAddons)(T),y=S?.variant?.meta,P=void 0===y&&"micro"===j?o.INSTANCE_MICRO_SPECS:y,w=N?.available_addons.find(e=>"Compute Instance"===e.name)?.variants,_=w?.[w.length-1].identifier,R=j===_?.replace("ci_",""),{data:A,isPending:k}=(0,a.useOrgSubscriptionQuery)({orgSlug:e},{enabled:f}),I=A?.plan.id!=="free"&&"nano"===j;return j?(0,s.jsxs)(d.HoverCard,{onOpenChange:()=>b(!f),openDelay:280,children:[(0,s.jsx)(d.HoverCardTrigger,{asChild:!0,className:"group",onClick:e=>e.stopPropagation(),children:(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)(g.ComputeBadge,{infraComputeSize:j})})}),(0,s.jsxs)(d.HoverCardContent,{side:"bottom",align:"start",className:"p-0 overflow-hidden w-96",onClick:e=>e.stopPropagation(),children:[(0,s.jsx)("div",{className:"p-2 px-5 text-xs text-foreground-lighter",children:"Compute size"}),(0,s.jsx)(u.Separator,{}),(0,s.jsxs)("div",{className:"p-3 px-5 flex flex-row gap-4",children:[(0,s.jsx)("div",{children:(0,s.jsx)(g.ComputeBadge,{infraComputeSize:j})}),(0,s.jsx)("div",{className:"flex flex-col gap-4",children:C||k?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)(x.ShimmeringLoader,{className:"h-[20px] py-0 w-32"}),(0,s.jsx)(x.ShimmeringLoader,{className:"h-[20px] py-0 w-32"})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"flex flex-col gap-1",children:void 0!==P?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{label:"CPU",stat:`${P.cpu_cores??"?"}-core ${v} ${P.cpu_dedicated?"(Dedicated)":"(Shared)"}`}),(0,s.jsx)(p,{label:"Memory",stat:`${P.memory_gb??"-"} GB`})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p,{label:"CPU",stat:"Shared"}),(0,s.jsx)(p,{label:"Memory",stat:"Up to 0.5 GB"})]})})})})]}),(!R||I)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Separator,{}),(0,s.jsxs)("div",{className:"p-3 px-5 text-sm flex flex-col gap-2 bg-studio",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-0",children:[(0,s.jsx)("p",{className:"text-foreground",children:I?"Free upgrade to Micro available":"Unlock more compute"}),(0,s.jsx)("p",{className:"text-foreground-light",children:I?"Paid plans include a free upgrade to Micro compute.":"Scale your project up to 64 cores and 256 GB RAM."})]}),(0,s.jsx)("div",{children:(0,s.jsx)(c.Button,{asChild:!0,type:"default",htmlType:"button",role:"button",children:(0,s.jsx)(r.default,{href:`/project/${h}/settings/compute-and-disk`,children:"Upgrade compute"})})})]})]})]})]}):null}])},922931,e=>{"use strict";let s=(0,e.i(388019).default)("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);e.s(["Grid",()=>s],922931)},149216,656763,e=>{"use strict";var s=e.i(478902),r=e.i(389959),t=e.i(201844),i=e.i(202584);e.i(128328);var a=e.i(947748),n=e.i(158639),l=e.i(567558),o=e.i(418029),c=e.i(148210),d=e.i(823058),u=e.i(154985),g=e.i(722740),x=e.i(589314),p=e.i(124416),h=e.i(265735),m=e.i(10429),j=e.i(533488),f=e.i(627069),b=e.i(843778),v=e.i(492418),N=e.i(421165),C=e.i(903248),T=e.i(446862);let S=({type:e,isFetchingNextPage:t,fetchNextPage:a})=>{let[n,l]=(0,i.useIntersectionObserver)({threshold:0,rootMargin:"200px 0px 200px 0px"});return((0,r.useEffect)(()=>{l?.isIntersecting&&!t&&a?.()},[l?.isIntersecting,t,a]),"card"===e)?(0,s.jsx)("ul",{ref:n,className:(0,b.cn)("grid grid-cols-1 gap-2 md:gap-4","sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 pb-6"),children:[void 0,void 0].map((e,r)=>(0,s.jsx)(T.ShimmeringCard,{},r))}):(0,s.jsxs)(v.TableRow,{ref:n,children:[(0,s.jsx)(v.TableCell,{children:(0,s.jsx)(C.Skeleton,{className:"bg-surface-400 h-4 w-32"})}),(0,s.jsx)(v.TableCell,{children:(0,s.jsx)(C.Skeleton,{className:"bg-surface-400 h-4 w-16"})}),(0,s.jsx)(v.TableCell,{children:(0,s.jsx)(C.Skeleton,{className:"bg-surface-400 h-4 w-20"})}),(0,s.jsx)(v.TableCell,{children:(0,s.jsx)(C.Skeleton,{className:"bg-surface-400 h-4 w-20"})}),(0,s.jsx)(v.TableCell,{children:(0,s.jsx)(C.Skeleton,{className:"bg-surface-400 h-4 w-24"})})]})};var y=e.i(152622),P=e.i(728975),w=e.i(297306),_=e.i(237429),R=e.i(276093),A=e.i(912793),k=e.i(816467),I=e.i(398696),E=e.i(471998),O=e.i(211570),z=e.i(310474),D=e.i(355901),F=e.i(837710),U=e.i(874311),M=e.i(375761),W=e.i(837508);let H=e=>{let s;switch(e){case W.PROJECT_STATUS.ACTIVE_HEALTHY:s="isHealthy";break;case W.PROJECT_STATUS.GOING_DOWN:case W.PROJECT_STATUS.PAUSING:s="isPausing";break;case W.PROJECT_STATUS.INACTIVE:s="isPaused";break;case W.PROJECT_STATUS.PAUSE_FAILED:s="isPauseFailed";break;case W.PROJECT_STATUS.RESTARTING:s="isRestarting";break;case W.PROJECT_STATUS.RESIZING:s="isResizing";break;case W.PROJECT_STATUS.RESTORING:s="isRestoring";break;case W.PROJECT_STATUS.RESTORE_FAILED:s="isRestoreFailed";break;case W.PROJECT_STATUS.UPGRADING:s="isUpgrading";break;case W.PROJECT_STATUS.UNKNOWN:case W.PROJECT_STATUS.COMING_UP:s="isComingUp"}return s};var L=e.i(217444),G=e.i(833655),B=e.i(1606),V=e.i(740010),J=e.i(598952),Q=e.i(210942),$=e.i(587433),Y=e.i(613580);let K=({resourceWarnings:e,projectStatus:r,renderMode:t="alert"})=>{let i=e?{...e,auth_restricted_email_sending:null}:void 0,a=i?.is_readonly_mode_enabled?["is_readonly_mode_enabled"]:Object.keys(i||{}).filter(e=>"project"!==e&&"is_readonly_mode_enabled"!==e&&i?.[e]!==null),n=a.some(e=>i?.[e]==="critical"),l=a.includes("is_readonly_mode_enabled")||n,o=void 0!==i?(0,Q.getWarningContent)(i,a[0],"cardContent"):void 0,c=(()=>{switch(r){case"isPaused":return"badge"===t?"Paused":"Project is paused";case"isPausing":return"badge"===t?"Pausing":"Project is pausing";case"isRestarting":return"badge"===t?"Restarting":"Project is restarting";case"isResizing":return"badge"===t?"Resizing":"Project is resizing";case"isComingUp":return"badge"===t?"Starting":"Project is coming up";case"isRestoring":return"badge"===t?"Restoring":"Project is restoring";case"isUpgrading":return"badge"===t?"Upgrading":"Project is upgrading";case"isRestoreFailed":return"badge"===t?"Restore Failed":"Project restore failed";case"isPauseFailed":return"badge"===t?"Pause Failed":"Project pause failed"}return i?a.length>1?J.RESOURCE_WARNING_MESSAGES.multiple_resource_warnings.cardContent[n?"critical":"warning"].title:o?.title:"badge"===t&&"isHealthy"===r?"Active":void 0})(),d=(()=>{switch(r){case"isPaused":return"This project will not accept requests until resumed";case"isPausing":return"The pause process will complete in a few minutes";case"isRestarting":case"isResizing":case"isComingUp":case"isRestoring":case"isUpgrading":return"Your project will be ready in a few minutes";case"isRestoreFailed":case"isPauseFailed":return"Please contact support for assistance"}if(i)return a.length,o?.description})(),u=l?"destructive":"isPaused"===r?"default":"warning";if((0===a.length||void 0===o)&&"isHealthy"===r)return"badge"===t?(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)($.Badge,{variant:"success",children:"Active"})}):null;if("badge"===t){if(!c)return(0,s.jsx)("span",{className:"text-xs text-foreground-muted",children:"–"});let e=l?"destructive":a.length>0||"isPauseFailed"===r||"isRestoreFailed"===r?"warning":"isHealthy"===r?"success":"default";return(0,s.jsx)("div",{className:"flex items-center",children:d?(0,s.jsxs)(Y.Tooltip,{children:[(0,s.jsx)(Y.TooltipTrigger,{asChild:!0,children:(0,s.jsx)($.Badge,{variant:e,children:c})}),(0,s.jsx)(Y.TooltipContent,{side:"bottom",children:d})]}):(0,s.jsx)($.Badge,{variant:e,children:c})})}return c?(0,s.jsxs)("div",{role:"alert",className:(0,b.cn)("w-full p-5 pb-[1.25rem] flex flex-row gap-x-2 items-center"),children:[(0,s.jsx)("div",{className:(0,b.cn)("shrink-0 w-6 h-6 border rounded-md flex items-center justify-center","destructive"===u&&"border-destructive-400 [&>svg]:text-destructive-600","warning"===u&&"border-warning-400 [&>svg]:text-warning-600","default"===u&&"border-strong [&>svg]:text-foreground"),children:["isPaused","isPausing"].includes(r??"")?(0,s.jsx)(B.PauseCircle,{strokeWidth:1.5,size:14}):["isRestoring","isComingUp","isRestarting","isResizing"].includes(r??"")?(0,s.jsx)(V.RefreshCcw,{strokeWidth:1.5,size:14}):(0,s.jsx)(L.AlertTriangle,{strokeWidth:1.5,size:14})}),(0,s.jsxs)("div",{className:"flex items-center w-full gap-x-2",children:[(0,s.jsx)("p",{className:"text-xs",children:c}),(0,s.jsxs)(Y.Tooltip,{children:[(0,s.jsx)(Y.TooltipTrigger,{children:(0,s.jsx)(G.Info,{size:12,className:"text-foreground-lighter hover:text-foreground transition-colors"})}),(0,s.jsx)(Y.TooltipContent,{side:"bottom",children:d})]})]})]}):null},q=({slug:e,project:t,organization:i,rewriteHref:a,githubIntegration:n,vercelIntegration:l,resourceWarnings:o})=>{let{name:c,ref:d}=t,[u,x]=(0,r.useState)(!1),{infraAwsNimbusLabel:p}=(0,R.useCustomContent)(["infra:aws_nimbus_label"]),h="AWS_NIMBUS"===t.cloud_provider?p:t.cloud_provider,j=`${h} | ${t.region}`,{projectHomepageShowInstanceSize:f}=(0,A.useIsFeatureEnabled)(["project_homepage:show_instance_size"]),b=void 0!==n,v=n?.metadata.name??void 0,N=H(t.status);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("li",{className:"list-none h-min",children:(0,s.jsx)(P.default,{linkHref:a||`/project/${d}`,className:"h-44 !px-0 group pt-5 pb-0 overflow-hidden relative",hideChevron:!0,title:(0,s.jsxs)("div",{className:"w-full flex flex-col gap-y-4 justify-between px-5",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-y-0.5 relative",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h5",{className:"text-sm flex-shrink truncate pr-5",children:c}),(0,s.jsx)("div",{onClick:e=>e.preventDefault(),children:(0,s.jsxs)(U.DropdownMenu,{children:[(0,s.jsx)(U.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(F.Button,{type:"text",icon:(0,s.jsx)(E.MoreVertical,{size:14}),className:"w-6 h-6 px-0",onClick:e=>{e.stopPropagation(),e.preventDefault()},onPointerDown:e=>e.stopPropagation()})}),(0,s.jsxs)(U.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,s.jsxs)(U.DropdownMenuItem,{className:"gap-x-2",onClick:e=>{e.stopPropagation(),(0,M.copyToClipboard)(d),D.toast.success("Copied project ID to clipboard")},children:[(0,s.jsx)(k.Copy,{size:14}),(0,s.jsx)("span",{children:"Copy project ID"})]}),(0,s.jsxs)(U.DropdownMenuItem,{className:"gap-x-2",onClick:e=>{e.stopPropagation(),x(!0)},children:[(0,s.jsx)(O.Trash,{size:14}),(0,s.jsx)("span",{children:"Delete project"})]})]})]})})]}),(0,s.jsx)("p",{className:"text-sm text-foreground-lighter",children:j})]}),(0,s.jsxs)("div",{className:"flex items-center gap-x-1.5 relative",children:[(0,s.jsx)(K,{projectStatus:N,resourceWarnings:o,renderMode:"badge"}),"INACTIVE"!==t.status&&f&&(0,s.jsx)(w.ComputeBadgeWrapper,{slug:e,projectRef:t.ref,cloudProvider:t.cloud_provider,computeSize:(0,g.getComputeSize)(t)}),void 0!==l&&(0,s.jsx)("div",{className:"bg-surface-100 w-5 h-5 p-1 border border-strong rounded-md flex items-center justify-center text-black dark:text-white",children:(0,s.jsx)(z.default,{src:`${m.BASE_PATH}/img/icons/vercel-icon.svg`,title:"Vercel Icon",className:"w-3"})}),b&&(0,s.jsxs)("div",{className:"bg-surface-100 flex items-center gap-x-0.5 h-5 pr-1 border border-strong rounded-md",children:[(0,s.jsx)("div",{className:"w-5 h-5 p-1 flex items-center justify-center",children:(0,s.jsx)(I.Github,{size:12,strokeWidth:1.5})}),(0,s.jsx)("p",{className:"text-xs text-foreground-light truncate",children:v})]})]})]}),footer:(0,s.jsx)(K,{projectStatus:N,resourceWarnings:o}),containerElement:(0,s.jsx)(_.ProjectIndexPageLink,{projectRef:d})})}),(0,s.jsx)(y.DeleteProjectModal,{visible:u,onClose:()=>x(!1),project:t,organization:i})]})};var X=e.i(370410),Z=e.i(271226),ee=e.i(570958),es=e.i(955909);let er=({project:e,organization:t,rewriteHref:i,githubIntegration:a,vercelIntegration:n,resourceWarnings:l})=>{let o=(0,Z.useRouter)(),{name:c,ref:d}=e,u=H(e.status),[x,p]=(0,r.useState)(!1),[h,j]=(0,r.useState)(!1),f=i??`/project/${e.ref}`,b=void 0!==a,N=void 0!==n,C=a?.metadata.name??void 0,T=(0,ee.createNavigationHandler)(f,o),S=e=>{e.stopPropagation(),(0,M.copyToClipboard)(d),j(!0),D.toast.success("Copied project ID to clipboard"),setTimeout(()=>j(!1),2e3)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(v.TableRow,{className:"cursor-pointer hover:bg-surface-200 inset-focus",onClick:T,onAuxClick:T,onKeyDown:T,tabIndex:0,children:[(0,s.jsx)(v.TableCell,{children:(0,s.jsxs)("div",{className:"flex flex-col gap-y-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h5",{className:"text-sm",children:c}),(0,s.jsxs)("button",{tabIndex:0,onClick:S,onKeyDown:e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),S(e))},className:"inline-flex items-center gap-x-1 cursor-pointer border border-transparent border-dashed rounded transition-colors hover:bg-surface-100 hover:border hover:border-strong group font-mono text-xs text-foreground-lighter hover:text-foreground-light px-1 -ml-1",children:[d,h?(0,s.jsx)(X.Check,{size:12,strokeWidth:1.25,className:"text-brand"}):(0,s.jsx)(k.Copy,{size:12,strokeWidth:1.25,className:"opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),(b||N)&&(0,s.jsxs)("div",{className:"flex items-center gap-x-1.5",children:[N&&(0,s.jsx)("div",{className:"bg-surface-100 w-5 h-5 p-1 border border-strong rounded-md flex items-center text-black dark:text-white",children:(0,s.jsx)(z.default,{src:`${m.BASE_PATH}/img/icons/vercel-icon.svg`,title:"Vercel Icon",className:"w-3"})}),b&&(0,s.jsxs)("div",{className:"bg-surface-100 flex items-center gap-x-0.5 h-5 pr-1 border border-strong rounded-md",children:[(0,s.jsx)("div",{className:"w-5 h-5 p-1 flex items-center",children:(0,s.jsx)(I.Github,{size:12,strokeWidth:1.5})}),C&&(0,s.jsx)("p",{className:"text-xs text-foreground-light truncate",children:C})]})]})]})}),(0,s.jsx)(v.TableCell,{children:(0,s.jsx)(K,{projectStatus:u,resourceWarnings:l,renderMode:"badge"})}),(0,s.jsx)(v.TableCell,{children:(0,s.jsx)("div",{className:"w-fit",children:"INACTIVE"!==e.status?(0,s.jsx)(w.ComputeBadgeWrapper,{slug:t?.slug,projectRef:e.ref,cloudProvider:e.cloud_provider,computeSize:(0,g.getComputeSize)(e)}):(0,s.jsx)("span",{className:"text-xs text-foreground-muted",children:"–"})})}),(0,s.jsx)(v.TableCell,{children:(0,s.jsxs)("span",{className:"lowercase text-sm text-foreground-light",children:[e.cloud_provider," | ",e.region||"N/A"]})}),(0,s.jsx)(v.TableCell,{children:e.inserted_at?(0,s.jsx)(es.TimestampInfo,{className:"text-sm text-foreground-light",utcTimestamp:e.inserted_at}):(0,s.jsx)("span",{className:"text-sm text-foreground-light",children:"N/A"})}),(0,s.jsx)(v.TableCell,{className:"text-right",children:(0,s.jsx)("div",{onClick:e=>e.stopPropagation(),children:(0,s.jsxs)(U.DropdownMenu,{children:[(0,s.jsx)(U.DropdownMenuTrigger,{asChild:!0,children:(0,s.jsx)(F.Button,{type:"default",icon:(0,s.jsx)(E.MoreVertical,{}),"aria-label":"More actions",className:"w-7",onClick:e=>e.stopPropagation()})}),(0,s.jsx)(U.DropdownMenuContent,{align:"end",className:"w-48",children:(0,s.jsxs)(U.DropdownMenuItem,{className:"gap-x-2",onClick:e=>{e.stopPropagation(),p(!0)},children:[(0,s.jsx)(O.Trash,{size:14}),(0,s.jsx)("span",{children:"Delete project"})]})})]})})})]}),(0,s.jsx)(y.DeleteProjectModal,{visible:x,onClose:()=>p(!1),project:e,organization:t})]})};e.s(["ProjectList",0,({organization:e,rewriteHref:C})=>{let{slug:T}=(0,n.useParams)(),{data:y}=(0,h.useSelectedOrganizationQuery)(),[P]=(0,j.useQueryState)("search",j.parseAsString.withDefault("")),w=(0,i.useDebounce)(P,500),[_,R]=(0,j.useQueryState)("status",(0,j.parseAsArrayOf)(j.parseAsString,",").withDefault([])),[A]=(0,p.useLocalStorageQuery)(a.LOCAL_STORAGE_KEYS.PROJECTS_VIEW,"grid"),k=e??y,I=k?.slug??T,{data:E,error:O,isLoading:z,isSuccess:D,isError:F,isFetchingNextPage:U,hasNextPage:M,fetchNextPage:W}=(0,g.useOrgProjectsInfiniteQuery)({slug:I,search:0===P.length?P:w,statuses:_},{placeholderData:t.keepPreviousData}),H=(0,r.useMemo)(()=>E?.pages.flatMap(e=>e.projects),[E?.pages])||[],{isPending:L,isError:G,error:B}=(0,u.usePermissionsQuery)(),{data:V}=(0,x.useResourceWarningsQuery)({slug:I}),{data:J}=(0,d.useOrgIntegrationsQuery)({orgSlug:k?.slug}),{data:Q}=(0,c.useGitHubConnectionsQuery)({organizationId:k?.id}),$=!!m.IS_PLATFORM&&L,Y=0===w.length&&0===_.length&&(!H||0===H.length),K=[...H||[]].sort((e,s)=>e.name.localeCompare(s.name)),X=w.length>0&&D&&0===H.length,Z=_.length>0&&D&&0===H.length,ee=Z||X,es=Q?.map(e=>({id:String(e.id),added_by:{id:String(e.user?.id),primary_email:e.user?.primary_email??"",username:e.user?.username??""},foreign_project_id:String(e.repository.id),supabase_project_ref:e.project.ref,organization_integration_id:"unused",inserted_at:e.inserted_at,updated_at:e.updated_at,metadata:{name:e.repository.name}})),et=J?.filter(e=>"Vercel"===e.integration.name).flatMap(e=>e.connections);return G?(0,s.jsx)(l.default,{subject:"Failed to retrieve permissions for your account",error:B}):F?(0,s.jsx)(l.default,{subject:`Failed to retrieve projects under ${k?.name}`,error:O}):$||z||!k?"table"===A?(0,s.jsx)(N.LoadingTableView,{}):(0,s.jsx)(N.LoadingCardView,{}):Y?(0,s.jsx)(N.NoProjectsState,{slug:k?.slug??""}):"table"===A?(0,s.jsx)(f.Card,{className:"flex-1 min-h-0 overflow-y-auto mb-8",children:(0,s.jsxs)(v.Table,{children:[(0,s.jsx)(v.TableHeader,{children:(0,s.jsxs)(v.TableRow,{children:[(0,s.jsx)(v.TableHead,{className:(0,b.cn)(ee&&"text-foreground-muted"),children:"Project"}),(0,s.jsx)(v.TableHead,{className:(0,b.cn)(ee&&"text-foreground-muted"),children:"Status"}),(0,s.jsx)(v.TableHead,{className:(0,b.cn)(ee&&"text-foreground-muted"),children:"Compute"}),(0,s.jsx)(v.TableHead,{className:(0,b.cn)(ee&&"text-foreground-muted"),children:"Region"}),(0,s.jsx)(v.TableHead,{className:(0,b.cn)(ee&&"text-foreground-muted"),children:"Created"}),(0,s.jsx)(v.TableHead,{className:(0,b.cn)(ee&&"text-foreground-muted")})]})}),(0,s.jsx)(v.TableBody,{children:Z?(0,s.jsx)(v.TableRow,{className:"[&>td]:hover:bg-inherit",children:(0,s.jsx)(v.TableCell,{colSpan:5,children:(0,s.jsx)(o.NoSearchResults,{withinTableCell:!0,label:0===_.length?"No projects found":`No ${"INACTIVE"===_[0]?"paused":"active"} projects found`,description:"Your search for projects with the specified status did not return any results",onResetFilter:()=>R([])})})}):X?(0,s.jsx)(v.TableRow,{className:"[&>td]:hover:bg-inherit",children:(0,s.jsx)(v.TableCell,{colSpan:5,children:(0,s.jsx)(o.NoSearchResults,{searchString:P,withinTableCell:!0})})}):(0,s.jsxs)(s.Fragment,{children:[K?.map(e=>(0,s.jsx)(er,{project:e,organization:k,rewriteHref:C?C(e.ref):void 0,resourceWarnings:V?.find(s=>s.project===e.ref),githubIntegration:es?.find(s=>s.supabase_project_ref===e.ref),vercelIntegration:et?.find(s=>s.supabase_project_ref===e.ref)},e.ref)),M&&(0,s.jsx)(S,{type:"table",isFetchingNextPage:U,fetchNextPage:W})]})})]})}):(0,s.jsx)(s.Fragment,{children:Z?(0,s.jsx)(o.NoSearchResults,{label:0===_.length?"No projects found":`No ${"INACTIVE"===_[0]?"paused":"active"} projects found`,description:"Your search for projects with the specified status did not return any results",onResetFilter:()=>R([])}):X?(0,s.jsx)(o.NoSearchResults,{searchString:P}):(0,s.jsxs)("div",{className:"flex flex-col gap-y-2 md:gap-y-4 pb-6",children:[(0,s.jsx)("ul",{className:(0,b.cn)("min-h-0 w-full mx-auto","grid grid-cols-1 gap-2 md:gap-4","sm:grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-3"),children:K?.map(e=>(0,s.jsx)(q,{slug:I,project:e,rewriteHref:C?C(e.ref):void 0,resourceWarnings:V?.find(s=>s.project===e.ref),githubIntegration:es?.find(s=>s.supabase_project_ref===e.ref),vercelIntegration:et?.find(s=>s.supabase_project_ref===e.ref)},e.ref))}),M&&(0,s.jsx)(S,{type:"card",isFetchingNextPage:U,fetchNextPage:W})]})})}],149216);var et=e.i(532427),ei=e.i(922931),ea=e.i(738225),en=e.i(774803),el=e.i(479232),eo=e.i(366652),ec=e.i(975924),ed=e.i(210419),eu=e.i(34411),eg=e.i(9679),ex=e.i(793912),ep=e.i(135144),eh=e.i(689805),em=e.i(666555),ej=e.i(746301);e.s(["HomePageActions",0,({slug:e,hideNewProject:r=!1,showViewToggle:l=!1})=>{let{slug:o}=(0,n.useParams)(),c=(0,A.useIsFeatureEnabled)("projects:create"),d=e??o,[u,x]=(0,j.useQueryState)("search",j.parseAsString.withDefault("")),h=(0,i.useDebounce)(u,500),[m,f]=(0,j.useQueryState)("status",(0,j.parseAsArrayOf)(j.parseAsString,",").withDefault([])),[b,v]=(0,p.useLocalStorageQuery)(a.LOCAL_STORAGE_KEYS.PROJECTS_VIEW,"grid"),{isFetching:N}=(0,g.useOrgProjectsInfiniteQuery)({slug:d,search:0===u.length?u:h,statuses:m},{placeholderData:t.keepPreviousData});return(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(ej.Input,{placeholder:"Search for a project",icon:(0,s.jsx)(eo.Search,{}),size:"tiny",className:"w-32 md:w-64",value:u,onChange:e=>x(e.target.value),actions:[u&&(0,s.jsx)(F.Button,{size:"tiny",type:"text",icon:(0,s.jsx)(ec.X,{}),onClick:()=>x(""),className:"p-0 h-5 w-5"})]}),(0,s.jsxs)(eh.Popover_Shadcn_,{children:[(0,s.jsx)(ep.PopoverTrigger_Shadcn_,{asChild:!0,children:(0,s.jsx)(F.Button,{type:0===m.length?"dashed":"secondary",className:"h-[26px] w-[26px]",icon:(0,s.jsx)(et.Filter,{})})}),(0,s.jsx)(ex.PopoverContent_Shadcn_,{className:"p-0 w-56",side:"bottom",align:"center",sideOffset:6,children:(0,s.jsxs)("div",{className:"px-3 pt-3 pb-2 flex flex-col gap-y-2",children:[(0,s.jsx)("p",{className:"text-xs",children:"Filter projects by status"}),(0,s.jsx)("div",{className:"flex flex-col",children:[{key:W.PROJECT_STATUS.ACTIVE_HEALTHY,label:"Active"},{key:W.PROJECT_STATUS.INACTIVE,label:"Paused"}].map(({key:e,label:r})=>(0,s.jsxs)("div",{className:"flex items-center gap-x-2 py-1",children:[(0,s.jsx)(eu.Checkbox_Shadcn_,{id:e,name:e,checked:m.includes(e),onCheckedChange:()=>{m.includes(e)?f(m.filter(s=>s!==e)):f(m.concat([e]))}}),(0,s.jsx)(eg.Label_Shadcn_,{htmlFor:e,className:"capitalize text-xs w-full",children:r})]},e))})]})})]}),N&&(0,s.jsx)(en.Loader2,{className:"animate-spin",size:14})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[l&&b&&v&&(0,s.jsxs)(em.ToggleGroup,{type:"single",size:"sm",value:b,onValueChange:e=>e&&v(e),children:[(0,s.jsx)(em.ToggleGroupItem,{value:"grid",size:"sm",className:"h-[26px] w-[26px] p-0",children:(0,s.jsx)(ei.Grid,{size:14,strokeWidth:1.5})}),(0,s.jsx)(em.ToggleGroupItem,{value:"table",size:"sm",className:"h-[26px] w-[26px] p-0",children:(0,s.jsx)(ea.List,{size:14,strokeWidth:1.5})})]}),c&&!r&&(0,s.jsx)(F.Button,{asChild:!0,icon:(0,s.jsx)(el.Plus,{}),type:"primary",size:"tiny",children:(0,s.jsx)(ed.default,{href:`/new/${d}`,children:"New project"})})]})]})}],656763)}]);

//# debugId=886a3fb1-848b-54e0-7f23-89b02a275d6f
//# sourceMappingURL=550db21129b6cf29.js.map