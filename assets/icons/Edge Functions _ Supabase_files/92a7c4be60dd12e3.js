;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="190909d3-cbd4-aef0-b3da-639c9613cf58")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,263298,e=>{"use strict";function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function n(e,t,n,i,s,r,o){try{var a=e[r](o),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(i,s)}function i(e){return function(){var t=this,i=arguments;return new Promise(function(s,r){var o=e.apply(t,i);function a(e){n(o,s,r,a,c,"next",e)}function c(e){n(o,s,r,a,c,"throw",e)}a(void 0)})}}function s(e,t,n){return t=d(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e,p()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function r(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,T(i.key),i)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=y(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,s=function(){};return{s:s,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:s}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){a=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(a)throw r}}}}function u(e,t,n){return(t=T(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!({}).hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var s=Object.getOwnPropertyDescriptor(i,t);return s.get?s.get.call(arguments.length<3?e:n):s.value}}).apply(null,arguments)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}function p(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(p=function(){return!!e})()}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function S(){S=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function l(t,n,i,r){var o,a,c,u,l=Object.create((n&&n.prototype instanceof v?n:v).prototype);return s(l,"_invoke",{value:(o=t,a=i,c=new b(r||[]),u=h,function(t,n){if(u===p)throw Error("Generator is already running");if(u===g){if("throw"===t)throw n;return{value:e,done:!0}}for(c.method=t,c.arg=n;;){var i=c.delegate;if(i){var s=function t(n,i){var s=i.method,r=n.iterator[s];if(r===e)return i.delegate=null,"throw"===s&&n.iterator.return&&(i.method="return",i.arg=e,t(n,i),"throw"===i.method)||"return"!==s&&(i.method="throw",i.arg=TypeError("The iterator does not provide a '"+s+"' method")),f;var o=d(r,n.iterator,i.arg);if("throw"===o.type)return i.method="throw",i.arg=o.arg,i.delegate=null,f;var a=o.arg;return a?a.done?(i[n.resultName]=a.value,i.next=n.nextLoc,"return"!==i.method&&(i.method="next",i.arg=e),i.delegate=null,f):a:(i.method="throw",i.arg=TypeError("iterator result is not an object"),i.delegate=null,f)}(i,c);if(s){if(s===f)continue;return s}}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(u===h)throw u=g,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);u=p;var r=d(o,a,c);if("normal"===r.type){if(u=c.done?g:"suspendedYield",r.arg===f)continue;return{value:r.arg,done:c.done}}"throw"===r.type&&(u=g,c.method="throw",c.arg=r.arg)}})}),l}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",p="executing",g="completed",f={};function v(){}function E(){}function I(){}var T={};u(T,o,function(){return this});var C=Object.getPrototypeOf,y=C&&C(C(D([])));y&&y!==n&&i.call(y,o)&&(T=y);var _=I.prototype=v.prototype=Object.create(T);function A(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e)})})}function m(e,t){var n;s(this,"_invoke",{value:function(s,r){function o(){return new t(function(n,o){!function n(s,r,o,a){var c=d(e[s],e,r);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&i.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,o,a)},function(e){n("throw",e,o,a)}):t.resolve(l).then(function(e){u.value=e,o(u)},function(e){return n("throw",e,o,a)})}a(c.arg)}(s,r,n,o)})}return n=n?n.then(o,o):o()}})}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function b(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function D(t){if(t||""===t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var s=-1,r=function n(){for(;++s<t.length;)if(i.call(t,s))return n.value=t[s],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw TypeError(typeof t+" is not iterable")}return E.prototype=I,s(_,"constructor",{value:I,configurable:!0}),s(I,"constructor",{value:E,configurable:!0}),E.displayName=u(I,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===E||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,I):(e.__proto__=I,u(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},A(m.prototype),u(m.prototype,a,function(){return this}),t.AsyncIterator=m,t.async=function(e,n,i,s,r){void 0===r&&(r=Promise);var o=new m(l(e,n,i,s),r);return t.isGeneratorFunction(n)?o:o.next().then(function(e){return e.done?e.value:o.next()})},A(_),u(_,c,"Generator"),u(_,o,function(){return this}),u(_,"toString",function(){return"[object Generator]"}),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=D,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function s(i,s){return a.type="throw",a.arg=t,n.next=i,s&&(n.method="next",n.arg=e),!!s}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],a=o.completion;if("root"===o.tryLoc)return s("end");if(o.tryLoc<=this.prev){var c=i.call(o,"catchLoc"),u=i.call(o,"finallyLoc");if(c&&u){if(this.prev<o.catchLoc)return s(o.catchLoc,!0);if(this.prev<o.finallyLoc)return s(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return s(o.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return s(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&i.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var r=s;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=e,o.arg=t,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var s=i.arg;N(n)}return s}}throw Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:D(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),f}},t}function v(e,t){return(v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function E(e,t,n,i){var s=l(d(1&i?e.prototype:e),t,n);return 2&i&&"function"==typeof s?function(e){return s.apply(n,e)}:s}function I(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||y(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,n){if(e){if("string"==typeof e)return t(e,n);var i=({}).toString.call(e).slice(8,-1);return"Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?t(e,n):void 0}}function _(e){var t="function"==typeof Map?new Map:void 0;return(_=function(e){if(null===e||!function(e){try{return -1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return function(e,t,n){if(p())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var s=new(e.bind.apply(e,i));return n&&v(s,n.prototype),s}(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),v(n,e)})(e)}var A,m,O,N,b,D,R=function(e,t){return(R=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function L(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}R(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var w,P,V,U=function(){return(U=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function M(e,t,n,i){return new(n||(n=Promise))(function(s,r){function o(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?s(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}c((i=i.apply(e,t||[])).next())})}function k(e,t){var n,i,s,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},o=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){var u=[a,c];if(n)throw TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=2&u[0]?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[2&u[0],s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(!(s=(s=r.trys).length>0&&s[s.length-1])&&(6===u[0]||2===u[0])){r=0;continue}if(3===u[0]&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(6===u[0]&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(e){u=[6,e],i=0}finally{n=s=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}}function F(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,s,r=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(e){s={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function G(e,t,n){if(n||2==arguments.length)for(var i,s=0,r=t.length;s<r;s++)!i&&s in t||(i||(i=Array.prototype.slice.call(t,0,s)),i[s]=t[s]);return e.concat(i||Array.prototype.slice.call(t))}function x(e){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(n){t[n]=e[n]&&function(t){return new Promise(function(i,s){var r;r=(t=e[n](t)).done,Promise.resolve(t.value).then(function(e){i({value:e,done:r})},s)})}}}"function"==typeof SuppressedError&&SuppressedError,(B=w||(w={})).CONSENT_RESPONSE="consent-response",B.CONSENT_UI="consent-ui",(H=P||(P={})).ACCEPT="accept",H.REJECT="reject",H.DISMISS="dismiss",H.FULLSCREEN="enter-fullscreen",H.READY="ready",(j=V||(V={}))[j.TCF_V2=2]="TCF_V2",j[j.CCPA=3]="CCPA",(Y=es||(es={}))[Y.FALSE=0]="FALSE",Y[Y.TRUE=1]="TRUE",(J=er||(er={}))[J.DATA_LAYER=0]="DATA_LAYER",J[J.WINDOW_EVENT=1]="WINDOW_EVENT",(W=eo||(eo={}))[W.MAJOR=0]="MAJOR",W[W.MINOR=1]="MINOR",W[W.PATCH=2]="PATCH",(K=ea||(ea={})).CALL_INIT="Usercentrics: You have to call the init method before!",K.DATA_LOCAL="Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!",K.UNKNOWN_VARIANT="Usercentrics: Unknown variant",K.NOT_CCPA="Usercentrics: CCPA was not initialized",K.NOT_DEFAULT="Usercentrics: GDPR was not initialized",K.NOT_TCF="Usercentrics: TCF was not initialized",(q=ec||(ec={})).BANNER="BANNER",q.WALL="WALL",(Q=eu||(eu={})).CENTER="CENTER",Q.SIDE="SIDE",(z=el||(el={}))[z.DARK=0]="DARK",z[z.LIGHT=1]="LIGHT",(X=ed||(ed={})).LINK="LINK",X.BUTTON="BUTTON",X.MORE_LINK_BUTTON="MORE_LINK_BUTTON",($=eh||(eh={})).LEFT="LEFT",$.RIGHT="RIGHT",(Z=ep||(ep={})).HORIZONTAL="HORIZONTAL",Z.VERTICAL="VERTICAL",(ee=eg||(eg={})).ALL="ALL",ee.SHORT="SHORT",(et=ef||(ef={})).CROSS_DEVICE_DATA_NOT_AVAILABLE="Usercentrics: Cross Device Consents data is not available",et.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Device TCF data is not available",et.CROSS_DEVICE_FEATURE_DISABLED="Usercentrics: The `Cross-Device Consent Sharing` feature is not enabled. Please contact the support team in order to enable this feature for your configuration",(en=eS||(eS={})).CROSS_DOMAIN_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain Consents data is not available",en.CROSS_DOMAIN_TCF_DATA_NOT_AVAILABLE="Usercentrics: Cross Domain TCF data is not available",en.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent Sharing is not available.",en.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE="Usercentrics: Cross Domain Consent language is not available",en.CROSS_DOMAIN_SET_DATA_FAILURE="Usercentrics: Unable to set Cross Domain data",en.CROSS_DOMAIN_SET_TCF_DATA_FAILURE="Usercentrics: Unable to set Cross Domain TCF data",en.CROSS_DOMAIN_IFRAME_ERROR="Usercentrics: Iframe error",en.CROSS_DOMAIN_IFRAME_NOT_FOUND="Usercentrics: Cross Domain iFrame not found",en.CROSS_DOMAIN_IFRAME_LOAD_ERROR="Usercentrics: IFrame did not load",(ei=ev||(ev={})).CLEAR="clear",ei.GET_CROSS_DOMAIN_LANGUAGE="getCrossDomainLanguage",ei.GET_CROSS_DOMAIN_SESSION_DATA="getCrossDomainSessionData",ei.GET_CROSS_DOMAIN_TCF_DATA="getCrossDomainTcfData",ei.GET_CROSS_DOMAIN_CCPA_DATA="getCrossDomainCcpaData",ei.GET_TC_STRING="getTCString",ei.PING="ping",ei.SET_CROSS_DOMAIN_DATA="setCrossDomainData",ei.SET_CROSS_DOMAIN_TCF_DATA="setCrossDomainTcfData",ei.SET_CROSS_DOMAIN_CCPA_DATA="setCrossDomainCcpaData",ei.SET_TC_STRING="setTCString";var B,H,j,Y,J,W,K,q,Q,z,X,$,Z,ee,et,en,ei,es,er,eo,ea,ec,eu,el,ed,eh,ep,eg,ef,eS,ev,eE,eI,eT="ucMobileSdk",eC=["*.usercentrics-sandbox.eu","*.usercentrics.eu"],ey="4.42.0",e_="1---",eA=/^[1][nNyY-][nNyY-][nNyY-]$/;(em=eE||(eE={})).CCPA="uc_usprivacy",em.CCPA_DATA="uc_ccpa",em.CONSENTS_BUFFER="uc_consents_buffer",em.CONSENTS_V2_BUFFER="uc_consents_v2_buffer",em.GCM_DATA="uc_gcm",em.LEGACY_SETTINGS="ucSettings",em.SERVICES="uc_services",em.SETTINGS="uc_settings",em.TCF="uc_tcf",em.USER_INTERACTION="uc_user_interaction",em.AB_TEST_VARIANT="uc_ab_variant",(eI||(eI={})).USER_COUNTRY="uc_user_country";var em,eO,eN,eb,eD,eR="uc-cross-domain-bridge",eL="".concat("https://app.usercentrics.eu","/browser-sdk/").concat(ey,"/cross-domain-bridge.html"),ew="".concat("https://app.eu.usercentrics.eu","/browser-sdk/").concat(ey,"/cross-domain-bridge.html"),eP=function(){function e(){}return e.setDomainBridgeUri=function(t){var n="";t&&(t.crossDomainConsentSharingIFrame?n=t.crossDomainConsentSharingIFrame:t.app&&(n="".concat(t.app,"/browser-sdk/").concat(ey,"/cross-domain-bridge.html")));var i=""!==n?n:eL;e.domainBridgeUri=e.useEuCdn?ew:i},e.getDomainBridgeUri=function(){return e.domainBridgeUri},e.init=function(t,n){return M(this,void 0,void 0,function(){return k(this,function(i){return e.setDomainBridgeUri(n),e.setUseEuCdn((null==t?void 0:t.useEuCdn)||!1),e.setDomainBridgeUri(n),[2,this.initIFrame(e.getDomainBridgeUri(),eR)]})})},e.initIFrame=function(t,n){return M(this,void 0,void 0,function(){var i=this;return k(this,function(s){return[2,new Promise(function(s,r){var o=e.createIFrame(t,n);o.onload=function(){return M(i,void 0,void 0,function(){var i;return k(this,function(a){return i=setTimeout(function(){o={},r(Error(eS.CROSS_DOMAIN_IFRAME_LOAD_ERROR))},1e3),e.queryIFrame(t,n,ev.PING).then(function(){clearTimeout(i),s(!0)}).catch(function(e){clearTimeout(i),r(e)}),[2]})})},o.onerror=function(){return M(i,void 0,void 0,function(){return k(this,function(e){return r(Error(eS.CROSS_DOMAIN_IFRAME_ERROR)),[2]})})},e.appendIFrame(o)})]})})},e.setIsCrossDomainAvailable=function(t){e.crossDomainAvailable=t},e.isCookieBridgeAvailable=function(){return e.cookieBridgeAvailable},e.setIsCookieBridgeAvailable=function(t){e.cookieBridgeAvailable=t},e.isCrossDomainAvailable=function(){return e.crossDomainAvailable},e.getCrossDomainId=function(){return e.crossDomainId},e.setCrossDomainId=function(t){e.crossDomainId="".concat("uc_cross_domain_data","_").concat(t)},e.setCookieBridgeDomain=function(e,t){this.cookieBridgeDomain="".concat(e).concat(t)},e.setUseEuCdn=function(t){e.useEuCdn=t},e.createIFrame=function(t,n){e.removeIFrame(n);var i=document.createElement("iframe");return i.style.display="none",i.id=n,i.src=t,i},e.removeIFrame=function(e){var t=document.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t)},e.queryIFrame=function(e,t,n,i,s){return M(this,void 0,void 0,function(){var r;return k(this,function(o){if(!(r=document.getElementById(t))||!r.id)throw Error(eS.CROSS_DOMAIN_IFRAME_NOT_FOUND);return[2,new Promise(function(t,o){var a=JSON.stringify({crossDomainId:s,method:n,payload:i}),c=new MessageChannel;c.port1.onmessage=function(e){var n=JSON.parse(e.data),i=n.success,s=n.data;i?t(s):o(e)},r&&r.contentWindow&&r.contentWindow.postMessage(a,e,[c.port2])})]})})},e.appendIFrame=function(e){try{document.body?document.body.appendChild(e):document.addEventListener("DOMContentLoaded",function(){document.body.appendChild(e)})}catch(e){return Error(eS.CROSS_DOMAIN_IFRAME_ERROR)}return null},e.query=function(t,n){return M(this,void 0,void 0,function(){return k(this,function(i){return[2,e.queryIFrame(e.getDomainBridgeUri(),eR,t,n,e.crossDomainId)]})})},e.getCrossDomainLanguage=function(){return e.query(ev.GET_CROSS_DOMAIN_LANGUAGE)},e.setCrossDomainData=function(t){return M(this,void 0,void 0,function(){return k(this,function(n){return[2,e.query(ev.SET_CROSS_DOMAIN_DATA,{consents:t.services.map(function(e){return e.history.map(function(t){return{action:t.action,consentId:"",settingsVersion:t.versions.settings,status:t.status,templateId:e.id,timestamp:"".concat(t.timestamp),updatedBy:t.type}})}).reduce(function(e,t){return e.concat(t)},[]).sort(function(e,t){return parseInt(e.timestamp,10)-parseInt(t.timestamp,10)}),controllerId:t.controllerId,language:t.language})]})})},e.setCrossDomainCcpaData=function(t){return M(this,void 0,void 0,function(){return k(this,function(n){return[2,e.query(ev.SET_CROSS_DOMAIN_CCPA_DATA,t)]})})},e.getCrossDomainCcpaData=function(){return M(this,void 0,void 0,function(){return k(this,function(t){return[2,e.query(ev.GET_CROSS_DOMAIN_CCPA_DATA)]})})},e.getCrossDomainSessionData=function(){return M(this,void 0,void 0,function(){return k(this,function(t){return[2,e.query(ev.GET_CROSS_DOMAIN_SESSION_DATA)]})})},e.getCrossDomainTcfData=function(){return M(this,void 0,void 0,function(){return k(this,function(t){return[2,e.query(ev.GET_CROSS_DOMAIN_TCF_DATA)]})})},e.setCrossDomainTcfData=function(t){return M(this,void 0,void 0,function(){return k(this,function(n){return[2,e.query(ev.SET_CROSS_DOMAIN_TCF_DATA,t)]})})},e.clearCrossDomainStorage=function(){return M(this,void 0,void 0,function(){return k(this,function(t){return[2,e.query(ev.CLEAR)]})})},e.crossDomainId="",e.cookieBridgeDomain="",e.domainBridgeUri=eL,e.useEuCdn=!1,e.cookieBridgeAvailable=!1,e.crossDomainAvailable=!1,e}(),eV=function(){function e(){this.length=0,this.data={}}return e.prototype.updateLength=function(){this.length=Object.keys(this.data).length},e.prototype.key=function(e){var t=Object.keys(this.data)[e];return void 0===C(t)?null:t},e.prototype.getItem=function(e){return void 0!==this.data[e]?this.data[e]:null},e.prototype.setItem=function(e,t){this.data[e]=String(t),this.updateLength()},e.prototype.removeItem=function(e){delete this.data[e],this.updateLength()},e.prototype.clear=function(){this.data={},this.updateLength()},e}();(eQ=eO||(eO={})).COOKIE_BRIDGE_NOT_AVAILABLE="Usercentrics: Cookie bridge is not available.",eQ.COOKIE_BRIDGE_OPTIONS_NOT_SET="Usercentrics: Cookie bridge options are not set",eQ.GET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to get the Global TC string",eQ.INIT_TCF_ERROR="Usercentrics: Unable to init TCF",eQ.RESET_GVL_FAILURE="Usercentrics: Unable to reset Global Vendor List",eQ.SET_GLOBAL_TC_STRING_FAILURE="Usercentrics: Unable to set the Global TC string",eQ.VENDOR_REMOVED="Usercentrics: The following vendor is not part of the official vendors list anymore: ",eQ.TC_MODEL_UNDEFINED="Usercentrics: tcModel can not be null.",eQ.SELECTED_LANGUAGE_UNDEFINED="Usercentrics: Selected language can not be undefined",(ez=eN||(eN={})).LEGITIMATE_INTEREST="legIntPurposes",ez.PURPOSES="purposes",(eX=eb||(eb={}))[eX.ID=0]="ID",eX[eX.LEGITIMATE_INTEREST=1]="LEGITIMATE_INTEREST",eX[eX.PURPOSES=2]="PURPOSES",eX[eX.SPECIAL_PURPOSES=3]="SPECIAL_PURPOSES",(e$=eD||(eD={}))[e$.FIRST_LAYER=1]="FIRST_LAYER",e$[e$.SECOND_LAYER=2]="SECOND_LAYER";var eU=function(e){switch(e){case"onAcceptAllBtnClick":case"onSpecialFunctionAcceptAllConsentTrigger":return"onAcceptAllServices";case"onDenyAllAnchorClick":case"onDenyAllBtnClick":return"onDenyAllServices";case"onNonEURegion":return"onNonEURegion";case"onInitialPageLoad":case"onCountdownFinished":default:return"onInitialPageLoad";case"onToggleCategory":case"onToggleConsent":case"onToggleSelectAll":return"onEssentialChange";case"onWindowFunctionUpdateConsent":case"bySettingsUpdate":case"onSaveBtnClick":return"onUpdateServices"}},eM=function(e){switch(e){case"update":case"implicit":default:return"implicit";case"explicit":return"explicit"}},ek="RAMDOM_KEY_LOCAL_STORAGE",eF=function(){function e(){this.localStorage=null,this.sessionStorage=null,this.storeServiceIdToNameMapping=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.localStorage=null,e.instance.sessionStorage=null},e.prototype.setStoreServiceIdToNameMapping=function(e){this.storeServiceIdToNameMapping=e},e.prototype.getStoreServiceIdToNameMapping=function(){return this.storeServiceIdToNameMapping},e.prototype.init=function(){try{localStorage.setItem(ek,ek),localStorage.removeItem(ek),this.localStorage=localStorage}catch(e){this.localStorage=new eV}try{sessionStorage.setItem(ek,ek),sessionStorage.removeItem(ek),this.sessionStorage=sessionStorage}catch(e){this.sessionStorage=new eV}},e.appendToConsentsBuffer=function(t){var n,i=e.fetchConsentsBuffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null==(n=e.getInstance().localStorage)||n.setItem(eE.CONSENTS_BUFFER,JSON.stringify(i))},e.appendToConsentsV2Buffer=function(t){var n,i=e.fetchConsentsV2Buffer(),s=(new Date).valueOf();i.push({consents:t,timestamp:s}),null==(n=e.getInstance().localStorage)||n.setItem(eE.CONSENTS_V2_BUFFER,JSON.stringify(i))},e.clearOnNewSettingsId=function(t){t!==e.fetchSettingsId()&&e.clear()},e.findBufferItem=function(t){return e.fetchConsentsBuffer().slice().find(function(e){return JSON.stringify(e.consents)===JSON.stringify(t)})},e.findV2BufferItem=function(t){return e.fetchConsentsV2Buffer().slice().find(function(e){return JSON.stringify(e.consents)===JSON.stringify(t)})},e.removeConsentsBufferItem=function(t){var n,i,s=e.fetchConsentsBuffer(),r=s.length+0;(s=s.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)})).length&&s.length!==r?null==(n=e.getInstance().localStorage)||n.setItem(eE.CONSENTS_BUFFER,JSON.stringify(s)):null==(i=e.getInstance().localStorage)||i.removeItem(eE.CONSENTS_BUFFER)},e.removeConsentsV2BufferItem=function(t){var n,i,s=e.fetchConsentsV2Buffer(),r=s.length+0;(s=s.filter(function(e){return JSON.stringify(e)!==JSON.stringify(t)})).length&&s.length!==r?null==(n=e.getInstance().localStorage)||n.setItem(eE.CONSENTS_V2_BUFFER,JSON.stringify(s)):null==(i=e.getInstance().localStorage)||i.removeItem(eE.CONSENTS_V2_BUFFER)},e.getCcpaString=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.CCPA);return n&&eA.test(n)?n:e_},e.getCcpaData=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.CCPA_DATA);return n?JSON.parse(n):null},e.fetchConsentsBuffer=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.CONSENTS_BUFFER);return n?JSON.parse(n):[]},e.fetchConsentsV2Buffer=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.CONSENTS_V2_BUFFER);return n?JSON.parse(n):[]},e.fetchControllerId=function(){var t=e.fetchSettings();return t?t.controllerId:""},e.fetchLanguage=function(){var t=e.fetchSettings();return t?t.language:""},e.fetchServices=function(){var t=e.fetchSettings();return t?t.services:[]},e.fetchLegacySettings=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.LEGACY_SETTINGS);return n?JSON.parse(n):null},e.fetchSettings=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.SETTINGS);return n?JSON.parse(n):{}},e.fetchSettingsId=function(){var t=e.fetchSettings();return t?t.id:""},e.fetchSettingsVersion=function(){var t=e.fetchSettings();return t?t.version:""},e.fetchTCFData=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.TCF),i=n?JSON.parse(n):{acString:"",tcString:"",timestamp:Date.now(),vendors:[]};return i.vendors||(i.vendors=[]),i},e.fetchTCFVendorsDisclosedObject=function(t){var n,i=e.fetchTCFData(),s=i.acString,r=i.tcString,o=i.vendors,a=i.vendorsDisclosed;if(!o&&!a)return{};if((a||!a&&!o.length&&r)&&t){var c=Object.keys(t).map(Number);n=(a||c).filter(function(e){return t[e]}).map(function(e){var n=t[e];return[n.id,n.legIntPurposes,n.purposes,n.specialPurposes]}),e.saveTCFData({acString:s,tcString:r,timestamp:Date.now(),vendors:n})}else n=o;return n.reduce(function(e,t){var n;return U(U({},e),((n={})[t[eb.ID]]=!0,n))},{})},e.fetchTCString=function(){return e.fetchTCFData().tcString||""},e.fetchACString=function(){return e.fetchTCFData().acString||""},e.fetchUserActionPerformed=function(){var t;return"true"===(null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.USER_INTERACTION))},e.fetchUserCountryResponse=function(){var t;try{return JSON.parse((null==(t=e.getInstance().sessionStorage)?void 0:t.getItem(eI.USER_COUNTRY))||"null")}catch(e){return null}},e.setUserCountryResponse=function(t){var n;null==(n=e.getInstance().sessionStorage)||n.setItem(eI.USER_COUNTRY,JSON.stringify(t))},e.mapServices=function(e){return e.map(function(e){return{history:e.consent.history,id:e.id,processorId:e.processorId,status:e.consent.status}})},e.mapSettings=function(t,n){return{controllerId:t.controllerId,id:t.id,language:t.selectedLanguage,services:e.mapServices(n),version:t.version}},e.migrateLegacySettings=function(t){if(!e.settingsExist()){var n,i,s=e.fetchLegacySettings();if(e.clearLegacySettings(),null==s?void 0:s[t]){var r=(n=s[t])&&eH(n.ucConsents.consents)?((i={})[eE.SETTINGS]={controllerId:n.ucConsents.consents[0].controllerId,id:n.usercentrics.settings.settingsId,language:n.usercentrics.settings.language,services:n.ucConsents.consents.map(function(e){return{history:e.history.map(function(e){return{action:eU(e.action),language:e.language,status:e.consentStatus,timestamp:e.updatedAt,type:eM(e.updatedBy),versions:{application:e.appVersion,service:e.consentTemplateVersion,settings:e.settingsVersion}}}),id:e.templateId,processorId:e.processorId,status:e.consentStatus}}),version:n.usercentrics.settings.version},i[eE.USER_INTERACTION]=n.usercentrics.firstUserInteraction.stateSaved,i):null;r&&(e.saveSettings(r[eE.SETTINGS]),r[eE.USER_INTERACTION]&&e.setUserActionPerformed(!0))}}},e.saveSettings=function(t,n){var i,s;if(null==(i=e.getInstance().localStorage)||i.setItem(eE.SETTINGS,JSON.stringify(t)),e.getInstance().getStoreServiceIdToNameMapping()&&n&&n.length){var r=n.reduce(function(e,t){return e[t.id]=t.name,e},{});null==(s=e.getInstance().localStorage)||s.setItem(eE.SERVICES,JSON.stringify(r))}eP.isCrossDomainAvailable()&&eP.setCrossDomainData(t).catch(function(){console.warn(eS.CROSS_DOMAIN_SET_DATA_FAILURE)})},e.saveTCFData=function(t){var n;null==(n=e.getInstance().localStorage)||n.setItem(eE.TCF,JSON.stringify(t)),eP.isCrossDomainAvailable()&&eP.setCrossDomainTcfData(t).catch(function(){console.warn(eS.CROSS_DOMAIN_SET_TCF_DATA_FAILURE)})},e.fetchGcmData=function(){var t,n=null==(t=e.getInstance().localStorage)?void 0:t.getItem(eE.GCM_DATA);return n?JSON.parse(n):null},e.saveGcmData=function(t){var n;null==(n=e.getInstance().localStorage)||n.setItem(eE.GCM_DATA,JSON.stringify(t))},e.saveTCString=function(t){var n=e.fetchTCFData();this.saveTCFData(U(U({},n),{tcString:t}))},e.setCcpaTimeStamp=function(t){var n,i=t||{ccpaString:this.getCcpaString()||"",timestamp:(new Date).getTime()};null==(n=e.getInstance().localStorage)||n.setItem(eE.CCPA_DATA,JSON.stringify(i))},e.getCcpaTimeStamp=function(){var e=this.getCcpaData();return e&&e.timestamp?e.timestamp:(new Date).getTime()},e.setCcpaString=function(t){var n;null==(n=e.getInstance().localStorage)||n.setItem(eE.CCPA,t),this.setCcpaTimeStamp()},e.settingsExist=function(){return ej(e.fetchSettings())},e.setUserActionPerformed=function(t){var n;null==(n=e.getInstance().localStorage)||n.setItem(eE.USER_INTERACTION,JSON.stringify(t))},e.clearCcpa=function(){var t;this.clearCcpaData(),null==(t=e.getInstance().localStorage)||t.removeItem(eE.CCPA)},e.clearCcpaData=function(){var t;null==(t=e.getInstance().localStorage)||t.removeItem(eE.CCPA_DATA)},e.clearTcf=function(){var t;null==(t=e.getInstance().localStorage)||t.removeItem(eE.TCF)},e.clearGcm=function(){var t;null==(t=e.getInstance().localStorage)||t.removeItem(eE.GCM_DATA)},e.clear=function(){var t,n;e.clearCcpa(),e.clearTcf(),e.clearGcm(),null==(t=e.getInstance().localStorage)||t.removeItem(eE.SETTINGS),null==(n=e.getInstance().localStorage)||n.removeItem(eE.USER_INTERACTION)},e.clearAll=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return this.clear(),eP.isCrossDomainAvailable()?[4,eP.clearCrossDomainStorage()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.fetchAbTestVariant=function(t){var n,i,s=(null==(n=e.getInstance().localStorage)?void 0:n.getItem(eE.AB_TEST_VARIANT))||"";if(t.includes(s))return s;var r=t[Math.floor(Math.random()*t.length)];return null==(i=e.getInstance().localStorage)||i.setItem(eE.AB_TEST_VARIANT,r),r},e.clearLegacySettings=function(){var t;null==(t=e.getInstance().localStorage)||t.removeItem(eE.LEGACY_SETTINGS)},e}(),eG=function(e,t){return -1!==e.indexOf(t)},ex=function(){return"SDK-".concat(ey)},eB=function(){return parseInt("3",10)},eH=function(e){return Array.isArray(e)&&e.length>0},ej=function(e){return"object"===C(e)&&null!==e&&Object.keys(e).length>0},eY=function(e,t){if(void 0===t)throw Error("altElement of nullishOperation can not be undefined");return null!=e?e:t},eJ=function(e,t,n,i,s,r){return{applicationVersion:ex(),consent:{action:n,status:t.consent.status,type:i},service:{categorySlug:s||"",id:t.id,name:t.name,processorId:t.processorId,version:t.version},settings:{controllerId:e.controllerId,id:e.id,language:e.selectedLanguage,referrerControllerId:eY(null==r?void 0:r.referrerControllerId,""),version:e.version},timestamp:eY(null==r?void 0:r.timestamp,(new Date).valueOf())}},eW=function(e){var t=e.dataTransferSettings,n=e.services,i=e.consentAction,s=e.consentString,r=e.isCcpa,o=e.isTcf,a=e.isAnalyticsEnabled,c=e.isConsentXDeviceEnabled,u=(void 0===n?[]:n).map(function(e){return{consentStatus:e.consent.status,consentTemplateId:e.id,consentTemplateVersion:e.version}}),l="",d="",h="";if(o){var p=eF.fetchTCFData(),g=p.acString,f=p.tcString,S=p.timestamp,v=p.vendors,E=p.vendorsDisclosed;d=eY(d?null==s?void 0:s.TCF2:f,""),h=JSON.stringify({timestamp:S,vendors:v,vendorsDisclosed:E}),g&&(l=g)}else r&&(d=eY(null==s?void 0:s.CCPA,""));return U(U(U(U(U({action:i,analytics:eY(a,!1),appVersion:ex().replace("SDK-","")},h&&{consentMeta:h}),{consents:u}),d&&{consentString:d}),l&&{acString:l}),{controllerId:t.controllerId,language:t.selectedLanguage,settingsId:t.id,settingsVersion:t.version,xdevice:eY(c,!1)})},eK=function(e,t){return e.reduce(function(e,n){var i=t[n];if(!(null==i?void 0:i.name))return e;var s=i.name;return G(G([],F(e),!1),[{id:n,name:s}],!1)},[])};function eq(e){return G([],F(new Set(e)),!1)}var eQ,ez,eX,e$,eZ,e0,e1,e2,e3,e4,e6,e5,e8,e7,e9=function(e){return e.filter(function(e){return["onAcceptAllServices","onDenyAllServices","onUpdateServices"].indexOf(e.action)>-1}).sort(function(e,t){return t.timestamp-e.timestamp})},te=function(e){return e&&"object"===C(e)},tt=function(e,t,n){void 0===n&&(n=!1);var i=U({},t);if(!te(i))throw Error("Source param should be an object");return te(e)&&Object.keys(e).forEach(function(t){var s,r,o,a,c,u=e[t],l=i[t];void 0!==l&&(i=Array.isArray(u)&&Array.isArray(l)?U(U({},i),n?((s={})[t]=(c=u.concat(l)).filter(function(e,t){return c.indexOf(e)===t}),s):((r={})[t]=u,r)):te(u)&&te(l)?U(U({},i),((o={})[t]=tt(U({},u),l),o)):U(U({},i),((a={})[t]=u,a)))}),i},tn=function(e,t,n,i){return void 0===n&&(n=2e4),void 0===i&&(i=5),new Promise(function(s,r){var o=setInterval(function(){e()&&(clearTimeout(a),clearInterval(o),s())},i),a=setTimeout(function(){clearTimeout(a),clearInterval(o),r(Error(t))},n)})},ti=function(e,t){for(var n=e.split("."),i=t.split("."),s=Math.min(n.length,i.length),r=0;r<s;r+=1){var o=Number(n[r])||0,a=Number(i[r])||0;if(o!==a)return o>a?1:-1}return i.length-n.length};(ts=eZ||(eZ={}))[ts.COOKIE=0]="COOKIE",ts[ts.WEB=1]="WEB",ts[ts.APP=2]="APP",(tr=e0||(e0={})).LEFT="LEFT",tr.CENTER="CENTER",tr.RIGHT="RIGHT",(to=e1||(e1={})).CAT="CAT",to.SRV="SRV",(ta=e2||(e2={})).AVAILABLE_LANGUAGES_NOT_FOUND="Unable to find available languages using given settingsId and version.",ta.FETCH_ACM_VENDORS="Something went wrong while fetching the atp vendors.",ta.FETCH_AVAILABLE_LANGUAGES="Something went wrong while fetching the available languages.",ta.FETCH_DATA_PROCESSING_SERVICES="Something went wrong while fetching the data processing services.",ta.FETCH_LEGAL_BASIS="Something went wrong while fetching the legal data translations.",ta.FETCH_SETTINGS="Something went wrong while fetching the settings.",ta.FETCH_USER_CONSENTS="Something went wrong while fetching the user's consents.",ta.FETCH_USER_COUNTRY="Something went wrong while fetching the user's country.",ta.FETCH_USER_TCF_DATA="Something went wrong while fetching the user's tcf data.",ta.GENERATE_DATA_PROCESSING_SERVICES="Something went wrong while generating the data processing services.",ta.RULESET_NOT_FOUND="Config Map not found!",ta.TAGLOGGER="Tag logger API is being called just before browser unload, some browsers like firefox cancel the api call and throw the error.",ta.SAVE_CONSENTS="Something went wrong while saving user consents.",ta.SAVE_CONSENTS_RETRY="Number of retries exceeded for saving user consents.",ta.SETTINGS_NOT_FOUND="Unable to find settings using given settingsId and version.",ta.CUSTOM_REFERRER_NOT_VALID="A custom referrer was passed to setTrackingPixel but it is not a valid URL. Origin and pathname will be passed instead.",(tc=e3||(e3={})).US_CA_ONLY="US_CA_ONLY",tc.US="US",(tu=e4||(e4={}))[tu.FIRST_LAYER=1]="FIRST_LAYER",tu[tu.SECOND_LAYER=3]="SECOND_LAYER",(tl=e6||(e6={}))[tl.DATA_LAYER=1]="DATA_LAYER",tl[tl.WINDOW_EVENT=4]="WINDOW_EVENT",(td=e5||(e5={})).DATA_COLLECTED_LIST="dataCollectedList",td.DATA_PURPOSES_LIST="dataPurposesList",td.DATA_RECIPIENTS_LIST="dataRecipientsList",td.TECHNOLOGY_USED="technologyUsed",(th=e8||(e8={})).MAJOR="major",th.MINOR="minor",th.PATCH="patch",(tp=e7||(e7={})).ICON="ICON",tp.LINK="LINK";var ts,tr,to,ta,tc,tu,tl,td,th,tp,tg,tf={acceptAllButton:"Accept All",ccpaButton:"Agree to CCPA",ccpaMoreInformation:"More Information",closeButton:"Close Second Layer",collapse:"Collapse",cookiePolicyButton:"Open Cookie Policy",copyControllerId:"Copy Controller ID",denyAllButton:"Deny all",expand:"Expand",fullscreenButton:"Enter full screen",imprintButton:"Open Imprint",languageSelector:"Select language",privacyButton:"Open",privacyPolicyButton:"Open Privacy Policy",saveButton:"Save",serviceInCategoryDetails:"View Service details",servicesInCategory:"List of Services in this category",tabButton:"Tab",usercentricsCard:"Card",usercentricsCMPButtons:"Footer including buttons",usercentricsCMPContent:"Content",usercentricsCMPHeader:"Header including language selection and external links",usercentricsCMPUI:"Consent Management Platform Interface",usercentricsList:"List",vendorConsentToggle:"Consent",vendorDetailedStorageInformation:"Detailed Storage Information",vendorLegIntToggle:"Legitimate Interest"},tS=function(e,t){return"boolean"==typeof e?e:t},tv=function(e){if(!e)return null;var t=e.startsWith("#")?e:"#".concat(e);return tE(t)?t:"#0045A5"},tE=function(e){return""!==e&&!!e&&/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(e)},tI=function(e){if(null!=e.firstLayer.isOverlayEnabled)return e.firstLayer.isOverlayEnabled;var t=e.backgroundOverlay.find(function(e){var t;return(null==(t=e.target)?void 0:t[0])===e4.FIRST_LAYER});return!!t&&(null==t?void 0:t.darken)>0},tT=function(e){if(null!=e.secondLayer.isOverlayEnabled)return e.secondLayer.isOverlayEnabled;var t=e.backgroundOverlay.find(function(e){var t;return(null==(t=e.target)?void 0:t[0])===e4.SECOND_LAYER});return!!t&&(null==t?void 0:t.darken)>0},tC=function(e){return"number"!=typeof e&&("string"!=typeof e||e.includes("px"))?e:"".concat(e,"px")},ty=function(e){switch(e){case e0.CENTER:return"center";case e0.RIGHT:return"right";case e0.LEFT:default:return"left"}},t_={description:"",id:"",legalBasis:[],name:""},tA=function(e,t){return e.map(function(e){var n=t.find(function(t){return t.id===e.id});return U(U(U({},e),n||t_),{description:e.description||(null==n?void 0:n.description)||t_.description,id:e.id,subServices:tA(e.subServices,t)})})},tm=function(){return"https://www.usercentrics.com/consent-management-platform-powered-by-usercentrics/"},tO=function(e){return null!=e&&null!=e.region},tN=function(e){return null!=e&&null!=e.changedPurposes},tb=function(e){return null!=e&&!tO(e)&&!tN(e)},tD=function(e){var t;return null!=e&&null!=(null==(t=e.buttons)?void 0:t.optOutNotice)},tR=function(e){return null!=e&&null!=e.vendor},tL=function(e){var t;return null!=e&&null!=(null==(t=e.buttons)?void 0:t.showSecondLayer)},tw=function(e){return null!=e&&null!=e.privacyButton},tP=function(e){return null!=e&&(tD(e)||tL(e)||tR(e))},tV=function(e){var t,n;return null!=e&&null!=(null==(t=e.firstLayer)?void 0:t.showShortDescriptionOnMobile)&&null==(null==(n=e.firstLayer)?void 0:n.isCategoryTogglesEnabled)},tU=function(e){var t;return null!=e&&null!=(null==(t=e.firstLayer)?void 0:t.hideNonIabPurposes)},tM=function(e){var t;return null!=e&&null!=(null==(t=e.firstLayer)?void 0:t.isCategoryTogglesEnabled)},tk=function(e){return null!=e&&!tV(e)&&!tM(e)&&!tU(e)},tF=function(){function e(){this.ampEnabled=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.ampEnabled=!1},e.prototype.isAmpEnabled=function(){return this.ampEnabled},e.prototype.setIsAmpEnabled=function(e){this.ampEnabled=e},e}(),tG="latest",tx={EU_URI:{AGGREGATOR:"https://aggregator.eu.usercentrics.eu/aggregate/",CDN:"https://config.eu.usercentrics.eu",FETCH_CONSENTS:"https://consents.eu.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics.eu",FETCH_TCF_DATA:"https://consents.eu.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.eu.usercentrics.eu/consentState",GRAPHQL:"https://api.eu.usercentrics.eu/graphql",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.eu.usercentrics.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics.eu/aggregate/",CDN:"https://api.usercentrics.eu",FETCH_CONSENTS:"https://consents.usercentrics.eu/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics.eu",FETCH_TCF_DATA:"https://consents.usercentrics.eu/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://consents.usercentrics.eu/consentState",GRAPHQL:"https://graphql.usercentrics.eu/graphql",RULESET:"https://api.usercentrics.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics.eu/session/1px.png"}},tB={EU_URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.eu1.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",SAVE_CONSENTS_V2:"https://consent-api.service.consent.eu1.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.eu.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:{AGGREGATOR:"https://aggregator.service.usercentrics-sandbox.eu/aggregate/",CDN:"https://api.usercentrics-sandbox.eu",FETCH_CONSENTS:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistory",FETCH_CONSENTS_V2:"https://consent-rt-ret.service.consent.usercentrics-staging.eu",FETCH_TCF_DATA:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentsHistoryTCF",FETCH_TCF_DATA_V2:"https://api-consent-sandbox-dot-usercentrics-playground.nw.r.appspot.com/consentState",GRAPHQL:"https://api-v2-sandbox-consent-dot-usercentrics-playground.nw.r.appspot.com/",RULESET:"https://api.usercentrics-sandbox.eu",SAVE_CONSENTS_V2:"https://consent-api.service.consent.usercentrics-staging.eu/consent",TRACK_EVENT:"https://uct.service.usercentrics.eu/uct",TRACK_SESSION:"https://app.usercentrics-sandbox.eu/session/1px.png"}},tH=["onEssentialChange","onInitialPageLoad","onNonEURegion"],tj=["onSessionRestored","onMobileSessionRestore"],tY=function(e,t,n){return M(void 0,void 0,void 0,function(){return k(this,function(i){return[2,tW(e,t,null,n)]})})},tJ=function(e,t,n,i){return M(void 0,void 0,void 0,function(){return k(this,function(s){return[2,tW(e,n,t,i)]})})},tW=function(e,t,n,i){return M(void 0,void 0,void 0,function(){var s,r;return k(this,function(o){return s={"Content-Type":"application/json"},r=U(U({},i),{headers:s,method:n?"POST":"GET"}),n&&(r.body=JSON.stringify(n)),(null==i?void 0:i.headers)&&(r.headers=U(U({},s),i.headers)),[2,fetch(e,r).then(function(e){return M(void 0,void 0,void 0,function(){return k(this,function(n){if(e.ok)return[2,tq(e)];throw tK(t,e.status)})})})]})})},tK=function(e,t){return{errorMessage:e,statusCode:t}},tq=function(e){return M(void 0,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,tQ(e)];case 1:return[2,{data:t.sent(),location:e.headers.get("x-client-geo-location"),statusCode:e.status}]}})})},tQ=function(e){return M(void 0,void 0,void 0,function(){var t,n;return k(this,function(i){switch(i.label){case 0:return[4,e.text()];case 1:return[2,(n=""===(t=i.sent())?{}:JSON.parse(t)).data||n]}})})};(tz=tg||(tg={}))[tz.RESOURCE_NOT_FOUND=403]="RESOURCE_NOT_FOUND";var tz,tX,t$="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:e.g,tZ={exports:{}},t0={exports:{}};t0.exports=tX=tX||function(e,t){if("undefined"!=typeof window&&window.crypto&&(n=window.crypto),"undefined"!=typeof self&&self.crypto&&(n=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(n=globalThis.crypto),!n&&"undefined"!=typeof window&&window.msCrypto&&(n=window.msCrypto),!n&&void 0!==t$&&t$.crypto&&(n=t$.crypto),!n)try{n={}}catch(e){}var n,i=function(){if(n){if("function"==typeof n.getRandomValues)try{return n.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof n.randomBytes)try{return n.randomBytes(4).readInt32LE()}catch(e){}}throw Error("Native crypto module could not be used to get secure random number.")},s=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),r={},o=r.lib={},a=o.Base={extend:function(e){var t=s(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=o.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes,s=e.sigBytes;if(this.clamp(),i%4)for(var r=0;r<s;r++){var o=n[r>>>2]>>>24-r%4*8&255;t[i+r>>>2]|=o<<24-(i+r)%4*8}else for(var a=0;a<s;a+=4)t[i+a>>>2]=n[a>>>2];return this.sigBytes+=s,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=0xffffffff<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=r.enc={},l=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,i=[],s=0;s<n;s++){var r=t[s>>>2]>>>24-s%4*8&255;i.push(String.fromCharCode(r))}return i.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new c.init(n,t)}},h=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=o.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,i=this._data,s=i.words,r=i.sigBytes,o=this.blockSize,a=r/(4*o),u=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,l=e.min(4*u,r);if(u){for(var d=0;d<u;d+=o)this._doProcessBlock(s,d);n=s.splice(0,u),i.sigBytes-=l}return new c.init(n,l)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});o.Hasher=p.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new g.HMAC.init(e,n).finalize(t)}}});var g=r.algo={};return r}(Math),t1=t0.exports,function(e){var t=t1.lib,n=t.WordArray,i=t.Hasher,s=t1.algo,r=[],o=[];function a(e){return 0x100000000*(e-(0|e))|0}for(var c=2,u=0;u<64;)(function(t){for(var n=e.sqrt(t),i=2;i<=n;i++)if(!(t%i))return!1;return!0})(c)&&(u<8&&(r[u]=a(e.pow(c,.5))),o[u]=a(e.pow(c,1/3)),u++),c++;var l=[],d=s.SHA256=i.extend({_doReset:function(){this._hash=new n.init(r.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],s=n[1],r=n[2],a=n[3],c=n[4],u=n[5],d=n[6],h=n[7],p=0;p<64;p++){if(p<16)l[p]=0|e[t+p];else{var g=l[p-15],f=(g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3,S=l[p-2],v=(S<<15|S>>>17)^(S<<13|S>>>19)^S>>>10;l[p]=f+l[p-7]+v+l[p-16]}var E=i&s^i&r^s&r,I=(i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22),T=h+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&d)+o[p]+l[p];h=d,d=u,u=c,c=a+T|0,a=r,r=s,s=i,i=T+(I+E)|0}n[0]=n[0]+i|0,n[1]=n[1]+s|0,n[2]=n[2]+r|0,n[3]=n[3]+a|0,n[4]=n[4]+c|0,n[5]=n[5]+u|0,n[6]=n[6]+d|0,n[7]=n[7]+h|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,s=8*t.sigBytes;return n[s>>>5]|=128<<24-s%32,n[14+(s+64>>>9<<4)]=e.floor(i/0x100000000),n[15+(s+64>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=i.clone.call(this);return e._hash=this._hash.clone(),e}});t1.SHA256=i._createHelper(d),t1.HmacSHA256=i._createHmacHelper(d)}(Math),tZ.exports=t1.SHA256;for(var t1,t2,t3=tZ.exports,t4=new Uint8Array(16),t6=[],t5=0;t5<256;++t5)t6.push((t5+256).toString(16).slice(1));var t8={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function t7(e,t,n){if(t8.randomUUID&&!t&&!e)return t8.randomUUID();var i=(e=e||{}).random||(e.rng||function(){if(!t2&&!(t2="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t2(t4)})();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=i[s];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t6[e[t+0]]+t6[e[t+1]]+t6[e[t+2]]+t6[e[t+3]]+"-"+t6[e[t+4]]+t6[e[t+5]]+"-"+t6[e[t+6]]+t6[e[t+7]]+"-"+t6[e[t+8]]+t6[e[t+9]]+"-"+t6[e[t+10]]+t6[e[t+11]]+t6[e[t+12]]+t6[e[t+13]]+t6[e[t+14]]+t6[e[t+15]]}(i)}var t9=function(){function e(){this.needsSessionRestore=!1,this.controllerId=""}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.controllerId=""},Object.defineProperty(e.prototype,"value",{get:function(){return this.controllerId},set:function(e){this.controllerId=e},enumerable:!1,configurable:!0}),e.prototype.setControllerIdByResolvedSettingsId=function(e,t){var n=t.find(function(t){return e===t.settingsId});n&&(this.value=n.controllerId)},e.prototype.setNeedSessionRestore=function(){this.needsSessionRestore=""!==this.controllerId},e.prototype.init=function(){if(""===this.controllerId){var e=this.getStorageControllerId();this.controllerId=e||this.generateControllerId()}},e.prototype.generateControllerId=function(){return"".concat(t3(t7()))},e.prototype.getStorageControllerId=function(){return eF.fetchControllerId()},e}(),ne=["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","IS","LI","LT","LU","LV","MT","NL","NO","PL","PT","RO","SE","SI","SK"],nt=function(){function e(){this.userCountryData={},this.convertUserCountryString=function(e){var t=null==e?void 0:e.split(","),n=t&&t[0]?t[0]:"DE";return{countryCode:n,countryName:n||"Germany (default)",regionCode:t&&t[1]&&t[1].length>=3?t[1].substring(2):""}}}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.userCountryData={}},e.prototype.setUserCountryData=function(e){this.userCountryData=e},e.prototype.getUserCountryData=function(){return M(this,void 0,void 0,function(){return k(this,function(e){return[2,this.userCountryData]})})},e.prototype.getIsUserInCalifornia=function(){return M(this,void 0,void 0,function(){return k(this,function(e){return[2,this.getIsUserInUS("CA")]})})},e.prototype.getIsUserInEU=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.getUserCountryData()];case 1:return[2,eG(ne,e.sent().code.toUpperCase())]}})})},e.prototype.getIsUserInUS=function(e){return M(this,void 0,void 0,function(){var t,n;return k(this,function(i){switch(i.label){case 0:return[4,this.getUserCountryData()];case 1:return(n=(t=i.sent()).regionCode).length>2&&(n=n.slice(2)),[2,"US"===t.code&&(!e||n===e)]}})})},e.prototype.resolveLocation=function(t){return M(this,void 0,void 0,function(){var n;return k(this,function(i){switch(i.label){case 0:return n=this.convertUserCountryString(t),[4,e.getInstance().getUserCountryData()];case 1:return ej(i.sent())||(eF.setUserCountryResponse(n),this.setUserCountryData({code:n.countryCode,name:n.countryName,regionCode:n.regionCode})),[2]}})})},e.mapUserCountryData=function(e){return{countryCode:e.code,countryName:e.name,regionCode:e.regionCode}},e}(),nn={numOfAttempts:7,onFirstFail:function(){},onFirstRetriedSuccess:function(){},startingDelay:100,timeMultiple:2};function ni(e,t){return void 0===t&&(t={}),M(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:var i,s;return i=t,(s=U(U({},nn),i)).numOfAttempts<1&&(s.numOfAttempts=1),[4,new nr(e,s).execute()];case 1:return[2,n.sent()]}})})}var ns,nr=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return M(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:if(this.attemptLimitReached)return[3,7];n.label=1;case 1:return n.trys.push([1,5,,6]),this.attemptNumber?[4,this.wait(this.delay)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[4,this.request()];case 4:return e=n.sent(),this.attemptNumber&&this.options.onFirstRetriedSuccess(),[2,e];case 5:if(t=n.sent(),this.attemptNumber||this.options.onFirstFail(),this.attemptNumber+=1,this.attemptLimitReached)throw t;return[3,6];case 6:return[3,0];case 7:throw Error("Something went wrong.")}})})},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!1,configurable:!0}),e.prototype.wait=function(e){return new Promise(function(t){return setTimeout(t,e)})},Object.defineProperty(e.prototype,"delay",{get:function(){return this.options.startingDelay*Math.pow(this.options.timeMultiple,this.attemptNumber)},enumerable:!1,configurable:!0}),e}(),no=function(e){if(!e)return[];var t,n,i=e.reduce(function(e,t){return G(G([],F(e),!1),[{id:t.templateId,version:t.version}],!1)},[]);return t=function(e,t){return e.id===t.id&&e.version===t.version},n=[],i.forEach(function(e){-1===n.findIndex(function(n){return t(e,n)})&&n.push(e)}),n.sort(function(e,t){return e.id>t.id?1:-1})},na=function(){function e(){this.API=tx,this.abTestVariant="",this.controllerIdInstance=t9.getInstance(),this.jsonCacheBustingString="",this.jsonFileLanguage="",this.jsonFileVersion=tG,this.settingsId="",this.rulesetId="",this.useEuCdn=!1,this.disableServerConsents=!1,this.aggregatedServicesCache=null,this.translationsCache=null}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.jsonCacheBustingString="",e.instance.jsonFileLanguage="",e.instance.jsonFileVersion=tG,e.instance.settingsId="",e.instance.disableServerConsents=!1},e.prototype.resetAggregatedServicesCache=function(){this.aggregatedServicesCache=null},e.prototype.resetTranslationsCache=function(){this.translationsCache=null},e.prototype.getAbTestVariant=function(){return this.abTestVariant},e.prototype.getJsonFileLanguage=function(){return this.jsonFileLanguage},e.prototype.getJsonFileVersion=function(){return this.jsonFileVersion},e.prototype.getSettingsId=function(){return this.settingsId},e.prototype.getRulesetId=function(){return this.rulesetId},e.prototype.getDisableServerConsents=function(){return this.disableServerConsents},e.prototype.setJsonCacheBustingString=function(e){this.jsonCacheBustingString=e},e.prototype.setJsonFileLanguage=function(e){this.jsonFileLanguage=e},e.prototype.setJsonFileVersion=function(e){this.jsonFileVersion=e},e.prototype.setDisableServerConsents=function(e){this.disableServerConsents=e},e.prototype.setDomains=function(e,t){this.API=e?tB:t?{EU_URI:{AGGREGATOR:tx.EU_URI.AGGREGATOR,CDN:tx.EU_URI.CDN,FETCH_CONSENTS:tx.EU_URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:tx.EU_URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:tx.EU_URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:tx.EU_URI.FETCH_TCF_DATA_V2,GRAPHQL:tx.EU_URI.GRAPHQL,SAVE_CONSENTS_V2:tx.EU_URI.SAVE_CONSENTS_V2,TRACK_EVENT:tx.EU_URI.TRACK_EVENT,TRACK_SESSION:tx.EU_URI.TRACK_SESSION},FOLDER:{RULESET:"ruleSet",SETTINGS:"settings",TEMPLATES:"consent-templates",TRANSLATIONS:"translations"},URI:U(U({AGGREGATOR:""!==t.aggregator?"".concat(t.aggregator,"/aggregate/"):tx.URI.AGGREGATOR,CDN:""!==t.cdn?t.cdn:tx.URI.CDN,RULESET:tx.URI.RULESET},""!==t.consents?{FETCH_CONSENTS:"".concat(t.consents,"/consentsHistory"),FETCH_CONSENTS_V2:"".concat(t.consents),FETCH_TCF_DATA:"".concat(t.consents,"/consentsHistoryTCF"),FETCH_TCF_DATA_V2:"".concat(t.consents,"/consentState")}:{FETCH_CONSENTS:tx.URI.FETCH_CONSENTS,FETCH_CONSENTS_V2:tx.URI.FETCH_CONSENTS_V2,FETCH_TCF_DATA:tx.URI.FETCH_TCF_DATA,FETCH_TCF_DATA_V2:tx.URI.FETCH_TCF_DATA_V2}),{GRAPHQL:""!==t.graphql?"".concat(t.graphql,"/graphql"):tx.URI.GRAPHQL,SAVE_CONSENTS_V2:""!==t.consentsV2?"".concat(t.consentsV2,"/consent"):tx.URI.SAVE_CONSENTS_V2,TRACK_EVENT:""!==t.trackingEvent?"".concat(t.trackingEvent,"/uct"):tx.URI.TRACK_EVENT,TRACK_SESSION:""!==t.app?"".concat(t.app,"/session/1px.png"):tx.URI.TRACK_SESSION})}:tx},e.prototype.setSettingsId=function(e){this.settingsId=e},e.prototype.setRulesetId=function(e){this.rulesetId=e},e.prototype.setEuMode=function(e){this.useEuCdn=e},e.prototype.isEuMode=function(){return this.useEuCdn},e.prototype.getAggregatorUri=function(){return this.isEuMode()?this.API.EU_URI.AGGREGATOR:this.API.URI.AGGREGATOR},e.prototype.getCdnUri=function(){return this.isEuMode()?this.API.EU_URI.CDN:this.API.URI.CDN},e.prototype.getGraphQLUri=function(){return this.isEuMode()?this.API.EU_URI.GRAPHQL:this.API.URI.GRAPHQL},e.prototype.getTcfDataV2Uri=function(){return this.isEuMode()?this.API.EU_URI.FETCH_TCF_DATA_V2:this.API.URI.FETCH_TCF_DATA_V2},e.prototype.fetchAggregatedServices=function(e,t){return void 0===t&&(t=!0),M(this,void 0,void 0,function(){var n;return k(this,function(i){switch(i.label){case 0:return this.aggregatedServicesCache&&t?[2,this.aggregatedServicesCache]:[4,tY("".concat(this.getAggregatorUri()).concat(this.jsonFileLanguage,"?templates=").concat(e.map(function(e){return"".concat(e.id,"@").concat(e.version)}).join(",")),e2.GENERATE_DATA_PROCESSING_SERVICES)];case 1:return n=i.sent(),t&&(this.aggregatedServicesCache=n.data.templates),[2,n.data.templates]}})})},e.prototype.fetchRuleset=function(){var e;return M(this,void 0,void 0,function(){var t,n,i;return k(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,tY(this.createRulesetUrl(),e2.RULESET_NOT_FOUND)];case 1:return n=null==(e=(t=s.sent()).location)?void 0:e.split(","),[2,{defaultRule:t.data.defaultRule,description:t.data.description,location:{code:n?n[0]:"",name:t.location||"",regionCode:n&&n[1]?n[1]:""},rules:t.data.rules}];case 2:throw(i=s.sent()).statusCode&&i.statusCode===tg.RESOURCE_NOT_FOUND&&(i.errorMessage=e2.RULESET_NOT_FOUND),i;case 3:return[2]}})})},e.prototype.fetchAvailableLanguages=function(){return M(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),[4,tY(this.createAvailableLanguagesUrl(),e2.FETCH_AVAILABLE_LANGUAGES)];case 1:return e=n.sent(),[4,nt.getInstance().resolveLocation(e.location)];case 2:return n.sent(),[2,e.data.languagesAvailable];case 3:throw(t=n.sent()).statusCode&&t.statusCode===tg.RESOURCE_NOT_FOUND&&(t.errorMessage=e2.AVAILABLE_LANGUAGES_NOT_FOUND),t;case 4:return[2]}})})},e.prototype.fetchTranslations=function(){return M(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:if(this.translationsCache)return[2,this.translationsCache];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,tY(this.createLanguagesUrl(),e2.FETCH_LEGAL_BASIS)];case 2:return e=n.sent(),this.translationsCache=e.data,[2,e.data];case 3:return(t=n.sent()).statusCode&&t.statusCode===tg.RESOURCE_NOT_FOUND&&(t.errorMessage=e2.FETCH_LEGAL_BASIS),[2,null];case 4:return[2]}})})},e.prototype.mergeAbVariant=function(e){return M(this,void 0,void 0,function(){var t,n;return k(this,function(i){switch(i.label){case 0:if(t=JSON.parse(e.data.variants.experiments),"UC"===e.data.variants.activateWith)return n=Object.keys(t),this.abTestVariant=eF.fetchAbTestVariant(n),[2,tt(t[this.abTestVariant],e.data)];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,tn(function(){return!!window.UC_AB_VARIANT},"window.UC_AB_VARIANT is not defined",2e3)];case 2:return i.sent(),[3,4];case 3:return console.warn(i.sent()),[3,4];case 4:return window.UC_AB_VARIANT&&t&&t[window.UC_AB_VARIANT]?(this.abTestVariant=window.UC_AB_VARIANT,[2,tt(t[window.UC_AB_VARIANT],e.data)]):[2,e.data]}})})},e.prototype.fetchAcmVendors=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,tY(this.createAcmVendorsJsonUrl(),e2.FETCH_ACM_VENDORS)];case 1:return[2,e.sent().data]}})})},e.prototype.fetchSettingsJson=function(){return M(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return n.trys.push([0,4,,5]),[4,tY(this.createSettingsJsonUrl(),e2.FETCH_SETTINGS)];case 1:return e=n.sent(),["ccpa","firstLayer","secondLayer"].forEach(function(t){e.data[t]||(e.data[t]={})}),e.data.tcf2&&(e.data.tcf2.selectedVendorIds=(e.data.tcf2.selectedVendorIds||[]).sort(function(e,t){return e-t})),e.data.consentTemplates&&(e.data.consentTemplates=e.data.consentTemplates.reduce(function(e,t){return t.isDeactivated||e.push(t),e},[])),e.data.variants&&e.data.variants.enabled&&function(e,t){try{JSON.parse(e)}catch(n){return console.warn("Invalid JSON string from ".concat(t,': "').concat(e,'"')),!1}return!0}(e.data.variants.experiments,"A/B Testing")?[4,this.mergeAbVariant(e)]:[3,3];case 2:return[2,n.sent()];case 3:return[2,e.data];case 4:throw(t=n.sent()).statusCode&&t.statusCode===tg.RESOURCE_NOT_FOUND&&(t.errorMessage=e2.SETTINGS_NOT_FOUND),t;case 5:return[2]}})})},e.prototype.fetchUserConsents=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return this.getDisableServerConsents()?[3,2]:[4,tY(this.createFetchUserConsentsUrl(),e2.FETCH_USER_CONSENTS)];case 1:return[2,e.sent().data.reverse()];case 2:return[2,[]]}})})},e.prototype.fetchUserConsentsV2=function(e,t){return M(this,void 0,void 0,function(){var n,i,s,r,o,a;return k(this,function(c){switch(c.label){case 0:return n=function(e){return G(G([],F(tH),!1),F(tj),!1).includes(e)?"implicit":"explicit"},this.getDisableServerConsents()?[3,2]:[4,tY(this.createFetchUserConsentsV2Url(),e2.FETCH_USER_CONSENTS)];case 1:return i=c.sent().data,s=null,r=null,e&&(o=JSON.parse(i.consentMeta),s={acString:i.acString||"",tcString:i.consentString,timestamp:o.timestamp,vendors:o.vendors,vendorsDisclosed:o.vendorsDisclosed}),t&&(r={ccpaString:i.consentString,timestamp:i.timestamp||Date.now()}),a=i.consents.reduce(function(e,t){return G(G([],F(e),!1),[{action:i.action,consentId:"",settingsVersion:i.settingsVersion,status:t.consentStatus,templateId:t.consentTemplateId,timestamp:i.timestamp||Date.now(),updatedBy:n(i.action)}],!1)},[]),[2,U(U({consents:a},r&&{ccpa:r}),s&&{tcf:s})];case 2:return[2,null]}})})},e.prototype.fetchUserTcfData=function(){return M(this,void 0,void 0,function(){var e,t,n;return k(this,function(i){switch(i.label){case 0:return this.getDisableServerConsents()?[3,2]:[4,tY(this.createFetchUserTcfDataUrl(),e2.FETCH_USER_TCF_DATA)];case 1:return t=(e=i.sent().data).tcString,n=e.meta,[2,U({tcString:t},JSON.parse(n)||{})];case 2:return[2,null]}})})},e.prototype.fetchUserTcfDataV2=function(){return M(this,void 0,void 0,function(){var e,t,n,i;return k(this,function(s){switch(s.label){case 0:return[4,tY(this.createFetchUserTcfDataV2Url(),e2.FETCH_USER_TCF_DATA)];case 1:if((e=s.sent()).data&&e.data.tcf2)return n=(t=e.data.tcf2).tcString,i=t.meta,[2,U({tcString:n},JSON.parse(i)||{})];throw Error(e2.FETCH_USER_TCF_DATA)}})})},e.prototype.fetchVendorsList=function(e,t){return M(this,void 0,void 0,function(){return k(this,function(n){return[2,fetch(e).then(function(e){return e.json()}).then(function(e){return(null==t?void 0:t.length)&&(e.purposes=Object.entries(e.purposes).reduce(function(e,n){var i,s=F(n,2),r=s[0],o=s[1];return U(U({},e),-1===t.indexOf(parseInt(r,10))&&((i={})[r]=o,i))},{}),e.vendors=Object.entries(e.vendors).reduce(function(e,n){var i,s=F(n,2),r=s[0],o=s[1];return U(U({},e),((i={})[r]=U(U({},o),{flexiblePurposes:o.flexiblePurposes.filter(function(e){return -1===t.indexOf(e)}),legIntPurposes:o.legIntPurposes.filter(function(e){return -1===t.indexOf(e)}),purposes:o.purposes.filter(function(e){return -1===t.indexOf(e)})}),i))},{})),e})]})})},e.prototype.saveTCFConsents=function(e,t,n,i,s,r){return M(this,void 0,void 0,function(){var o,a,c,u,l,d,h;return k(this,function(p){switch(p.label){case 0:return o={consent:{status:!0},id:"tcf2",name:"tcf2",processorId:"abcd",version:"1.0.0"},a=t.tcString,c=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(e);s<i.length;s++)0>t.indexOf(i[s])&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(n[i[s]]=e[i[s]])}return n}(t,["tcString"]),u=[],r&&(l=eJ(e,o,n,i),d={consentMeta:{TCF2:JSON.stringify(c)},consentString:{TCF2:a},dataTransferObjects:[l]},u.push(this.saveConsentsV1_DEPRECATED(d))),s&&(h=eW({consentAction:n,consentString:{TCF2:a},dataTransferSettings:e,isAnalyticsEnabled:!0===s.isAnalyticsEnabled,isCcpa:!1,isConsentXDeviceEnabled:!0===s.isConsentAPIv2Enabled,isTcf:!0}),u.push(this.saveConsents(h))),[4,Promise.all(u)];case 1:return p.sent(),[2]}})})},e.prototype.saveConsentsV1_DEPRECATED=function(e){return M(this,void 0,void 0,function(){var t,n,i,s=this;return k(this,function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=nc(),n=nu(e),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ni(function(){return tJ(s.getGraphQLUri(),n,e2.SAVE_CONSENTS,t)},{onFirstFail:function(){return eF.appendToConsentsBuffer(e)},onFirstRetriedSuccess:function(){var t=eF.findBufferItem(e);t&&eF.removeConsentsBufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(i=r.sent())instanceof Error&&console.error("".concat(e2.SAVE_CONSENTS_RETRY,": ").concat(i.message)),console.error(e2.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}})})},e.prototype.saveConsents=function(e){return M(this,void 0,void 0,function(){var t,n,i,s;return k(this,function(r){switch(r.label){case 0:if(this.getDisableServerConsents())return[3,4];t=this.createSaveConsentsV2Url(),n=e,i=nc(),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,ni(function(){return tJ(t,n,e2.SAVE_CONSENTS,i)},{onFirstFail:function(){return eF.appendToConsentsV2Buffer(e)},onFirstRetriedSuccess:function(){var t=eF.findV2BufferItem(e);t&&eF.removeConsentsV2BufferItem(t)}})];case 2:return r.sent(),[3,4];case 3:return(s=r.sent())instanceof Error&&console.error("".concat(e2.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(e2.SAVE_CONSENTS_RETRY),[3,4];case 4:return[2]}})})},e.prototype.sendConsents=function(e,t){return tJ(this.getGraphQLUri(),e,e2.SAVE_CONSENTS,t)},e.prototype.sendConsentsV2=function(e,t){return tJ(this.createSaveConsentsV2Url(),e,e2.SAVE_CONSENTS,t)},e.prototype.saveConsentsFromBuffer=function(){var e,t,n,i;return M(this,void 0,void 0,function(){var s,r,o,a,c,u=this;return k(this,function(l){switch(l.label){case 0:if(this.getDisableServerConsents()||!Array.isArray(s=eF.fetchConsentsBuffer())||!s.length)return[3,13];l.label=1;case 1:l.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return k(this,function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=nc(),n=nu(e.consents),r.label=2;case 2:return r.trys.push([2,4,,5]),[4,ni(function(){return u.sendConsents(n,t)})];case 3:return r.sent(),eF.removeConsentsBufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(e2.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(e2.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}})},o=!0,a=x(s),l.label=2;case 2:return[4,a.next()];case 3:return(e=(c=l.sent()).done)?[3,6]:[5,r()];case 4:l.sent(),l.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return t={error:l.sent()},[3,13];case 8:return l.trys.push([8,,11,12]),!o&&!e&&(n=a.return)?[4,n.call(a)]:[3,10];case 9:l.sent(),l.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.saveConsentsV2FromBuffer=function(){var e,t,n,i;return M(this,void 0,void 0,function(){var s,r,o,a,c,u=this;return k(this,function(l){switch(l.label){case 0:if(this.getDisableServerConsents()||!Array.isArray(s=eF.fetchConsentsV2Buffer())||!s.length)return[3,13];l.label=1;case 1:l.trys.push([1,7,8,13]),r=function(){var e,t,n,s;return k(this,function(r){switch(r.label){case 0:i=c.value,o=!1,r.label=1;case 1:r.trys.push([1,,6,7]),e=i,t=nc(),n=e.consents,r.label=2;case 2:return r.trys.push([2,4,,5]),[4,ni(function(){return u.sendConsentsV2(n,t)})];case 3:return r.sent(),eF.removeConsentsV2BufferItem(e),[3,5];case 4:return(s=r.sent())instanceof Error&&console.error("".concat(e2.SAVE_CONSENTS_RETRY,": ").concat(s.message)),console.error(e2.SAVE_CONSENTS_RETRY),[3,5];case 5:return[3,7];case 6:return o=!0,[7];case 7:return[2]}})},o=!0,a=x(s),l.label=2;case 2:return[4,a.next()];case 3:return(e=(c=l.sent()).done)?[3,6]:[5,r()];case 4:l.sent(),l.label=5;case 5:return[3,2];case 6:return[3,13];case 7:return t={error:l.sent()},[3,13];case 8:return l.trys.push([8,,11,12]),!o&&!e&&(n=a.return)?[4,n.call(a)]:[3,10];case 9:l.sent(),l.label=10;case 10:return[3,12];case 11:if(t)throw t.error;return[7];case 12:return[7];case 13:return[2]}})})},e.prototype.setTrackingPixel=function(e){var t,n="".concat(document.location.origin).concat(document.location.pathname);e.referrer?function(e){try{return new URL(e),!0}catch(e){return!1}}(e.referrer)?t=e.referrer:(console.warn(e2.CUSTOM_REFERRER_NOT_VALID),t=n):t=n;var i=(new Date).getTime(),s=encodeURIComponent(t),r="".concat(this.isEuMode()?this.API.EU_URI.TRACK_EVENT:this.API.URI.TRACK_EVENT,"?v=").concat(1,"&sid=").concat(this.settingsId,"&t=").concat(e.eventType,"&abv=").concat(e.abTestVariant,"&r=").concat(s,"&cb=").concat(i);(new Image).src=r},e.prototype.updateTagLoggerData=function(e){var t=nl({settingsId:this.settingsId,source:window.location.href,targets:e});this.saveTagLoggerData(t)},e.prototype.addJsonCacheBustingString=function(e){return this.jsonCacheBustingString?"".concat(e,"?c=").concat(this.jsonCacheBustingString):e},e.prototype.createAvailableLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion,"/languages.json"))},e.prototype.createLanguagesUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.TRANSLATIONS,"/translations-").concat(this.jsonFileLanguage,".json"))},e.prototype.getSettingsUrl=function(){return"".concat(this.getCdnUri(),"/").concat(this.API.FOLDER.SETTINGS,"/").concat(this.settingsId,"/").concat(this.jsonFileVersion)},e.prototype.createSettingsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getSettingsUrl(),"/").concat(this.jsonFileLanguage,".json"))},e.prototype.createAcmVendorsJsonUrl=function(){return this.addJsonCacheBustingString("".concat(this.getCdnUri(),"/tcfac/acp.json"))},e.prototype.createSessionTrackingUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.TRACK_SESSION:this.API.URI.TRACK_SESSION,"?settingsId=").concat(this.settingsId)},e.prototype.createFetchUserConsentsUrl=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS:this.API.URI.FETCH_CONSENTS,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.FETCH_CONSENTS_V2:this.API.URI.FETCH_CONSENTS_V2,"?settingsId=").concat(this.getSettingsId(),"&controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataUrl=function(){return"".concat(this.API.URI.FETCH_TCF_DATA,"?controllerId=").concat(this.controllerIdInstance.value)},e.prototype.createFetchUserTcfDataV2Url=function(){return"".concat(this.getTcfDataV2Uri(),"?controllerId=").concat(this.controllerIdInstance.value,"&tcf2=true&settingsId=").concat(this.settingsId)},e.prototype.createRulesetUrl=function(){return"".concat(this.API.URI.RULESET,"/").concat(this.API.FOLDER.RULESET,"/").concat(this.rulesetId,".json")},e.prototype.createSaveConsentsV2Url=function(){return"".concat(this.isEuMode()?this.API.EU_URI.SAVE_CONSENTS_V2:this.API.URI.SAVE_CONSENTS_V2,"/uw/").concat(3)},e.prototype.saveTagLoggerData=function(e){try{tJ(this.getGraphQLUri(),e,"",U(U({},nc()),{keepalive:!0}))}catch(e){console.warn(e2.TAGLOGGER,e)}},e}(),nc=function(){return{credentials:"omit",headers:{Accept:"application/json","Access-Control-Allow-Origin":"*","X-Request-ID":t7()},mode:"cors"}},nu=function(e){var t=e.dataTransferObjects,n=e.consentMeta,i=e.consentString;return{query:"mutation saveConsents($consents: [NewCreateConsentInput], $consentMeta: ConsentMeta, $consentString: ConsentString)\n      {\n        saveConsents(consents: $consents, consentMeta: $consentMeta, consentString: $consentString) { data { consentId } }\n      }",variables:{consentMeta:n,consents:nd(t),consentString:i}}},nl=function(e){return{operationName:"saveTagLoggerData",query:"mutation saveTagLoggerData($settingsId: String, $source: String, $targets: [String])\n        {\n          saveTagLoggerData(settingsId: $settingsId, source: $source, targets: $targets)\n        }",variables:{settingsId:e.settingsId,source:e.source,targets:e.targets}}},nd=function(e){return e.map(function(e){return{action:e.consent.action,appVersion:e.applicationVersion,consentStatus:e.consent.status?"1":"0",consentTemplateId:e.service.id,consentTemplateVersion:e.service.version,controllerId:e.settings.controllerId,language:e.settings.language,processorId:e.service.processorId,referrerControllerId:e.settings.referrerControllerId,settingsId:e.settings.id,settingsVersion:e.settings.version,updatedBy:e.consent.type}})};(nh=ns||(ns={}))[nh.NO=0]="NO",nh[nh.YES=1]="YES",nh[nh.NOT_SET=2]="NOT_SET";var nh,np,ng=function(){function e(){this.isBotEnabled=!1,this.isBot=ns.NOT_SET}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.isBot=ns.NOT_SET},e.prototype.isRobot=function(){if(this.isBot===ns.NOT_SET)if(this.isBotEnabled){var e=window.navigator.userAgent,t=RegExp("bingbot/|BingPreview/|DuckDuckBot/|Google Page Speed Insights|Google PP|Google Search Console|Google Web Preview|Googlebot/|Googlebot-Image/|Googlebot-Mobile/|Googlebot-News|Googlebot-Video/|Google-SearchByImage|Google-Structured-Data-Testing-Tool|Chrome-Lighthouse|YahooSeeker|YahooCacheSystem|Yahoo! Site Explorer Feed Validator|Yahoo! Slurp|Slurp/","i");this.isBot=t.test(e)?ns.YES:ns.NO}else this.isBot=ns.NO;return this.isBot===ns.YES},e}(),nf="UC_SDK_EVENT",nS=["BkeKqEjuoZQ","dUzxiHb6Q","dsS7z9Hv4","l5j0HxFqd","2AMblLg3I","jzMEq56vW","00xb_vkGq"],nv=["LykAT-gy","UekC8ye4S","9V8bg4D63","ByzZ5EsOsZX","S1_9Vsuj-Q","dqFgQeZH","twMyStLkn","B1Hk_zoTX","pxiRY9112","dyHOCwp5Y","DHS2sEi4b"],nE=["HkocEodjb7","87JYasXPF"],nI=function(){function e(){this.dataLayerNames=[],this.windowEventNames=[],this.dataLayer=new Map,this.blockDataLayerPush=!1,this.isUniversalEventTrackingDisabled=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setBlockDataLayerPush=function(e){this.blockDataLayerPush=e},e.prototype.setUetDisabled=function(e){this.isUniversalEventTrackingDisabled=e},e.prototype.shouldBlockDataLayerPush=function(){return this.blockDataLayerPush},e.resetInstance=function(){e.instance.dataLayerNames=[],e.instance.windowEventNames=[],e.instance.dataLayer=new Map},e.prototype.init=function(e){var t=this;e.forEach(function(e){e.type===er.DATA_LAYER?t.dataLayerNames=eY(e.names,[]):e.type===er.WINDOW_EVENT&&(t.windowEventNames=eY(e.names,[]))}),this.windowEventNames.includes(nf)||this.windowEventNames.push(nf)},e.prototype.setDataLayer=function(e,t){this.dataLayer.set(t,e)},e.prototype.getDataLayer=function(){return this.dataLayer},e.prototype.dispatch=function(e,t,n){eH(e)&&(this.pushEventsToDataLayer(e,t,n),this.dispatchWindowEvents(e,n))},e.prototype.isValidDataLayer=function(e){return window[e]&&(Array.isArray(window[e])||Object.prototype.hasOwnProperty.call(window[e],"push"))},e.prototype.pushEventsToDataLayer=function(e,t,n){var i=this;eH(this.dataLayerNames)&&this.dataLayerNames.forEach(function(s){if(window[s]=eY(window[s],[]),!i.isValidDataLayer(s))throw Error("DataLayer: ".concat(s," is not of a valid type!"));if(function(e,t){if(!e){var n,i,s,r,o=(s=(i=t.filter(function(e){var t=e.consent,n=t.type,i=t.action;return nS.includes(e.service.id)&&("explicit"===n||"implicit"===n&&"onNonEURegion"===i)})).length>0,r=i.every(function(e){return e.consent.status}),{adStorageStatus:s&&r?"granted":"denied",shouldUpdate:s});o.shouldUpdate&&(n=o.adStorageStatus,(window.uetq||[]).push("consent","update",{ad_storage:n}),window.dispatchEvent(new CustomEvent("UC_UET_UPDATE",{detail:{adStorage:n}})))}}(i.isUniversalEventTrackingDisabled,e),t&&"dataLayer"===s){var r=!1,o=!1,a=!1,c=!1,u=!1;nC("set","developer_id.dOThhZD",!0),e.forEach(function(e){var t=e.service.id,n=e.consent,i=n.status,s=n.type,o=n.action;nE.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===o)&&(r=r||i,u=!0),nv.includes(t)&&("explicit"===s||"implicit"===s&&"onNonEURegion"===o)&&(c=!0,u=!0,i||(a=!0))}),c&&!a&&(o=!0);var l={adsDataRedaction:!o};if(u){nC("consent","update",{ad_personalization:(l=U(U({},l),{adPersonalization:o?"granted":"denied",adStorage:o?"granted":"denied",adUserData:o?"granted":"denied",analyticsStorage:r?"granted":"denied"})).adPersonalization,ad_storage:l.adStorage,ad_user_data:l.adUserData,analytics_storage:l.analyticsStorage}),eF.saveGcmData(l);var d=new window.CustomEvent("UC_GCM_UPDATE",{detail:l});window.dispatchEvent(d)}nC("set","ads_data_redaction",l.adsDataRedaction)}window[s].push(nT(e,n)),i.setDataLayer(window[s],s),i.shouldBlockDataLayerPush()||"explicit"===e[0].consent.type&&e.forEach(function(e){e.consent.status||window[s].push({event:"".concat(e.service.name," EXPLICIT_DENY")})})})},e.prototype.dispatchWindowEvents=function(e,t){if(eH(this.windowEventNames)){var n=nT(e,t);this.windowEventNames.forEach(function(e){var t=new window.CustomEvent(e,{detail:n});window.dispatchEvent(t)})}},e}(),nT=function(e,t){var n={action:null!=t?t:e[0].consent.action,event:"consent_status",type:e[0].consent.type,ucCategory:{}};return e.forEach(function(e){var t,i,s,r=(null==(i=e.service.categorySlug)?void 0:i.length)&&Object.prototype.hasOwnProperty.call(n.ucCategory,e.service.categorySlug);n=U(U({},n),((t={})[e.service.name]=e.consent.status,t)),(null==(s=e.service.categorySlug)?void 0:s.length)&&(n.ucCategory[e.service.categorySlug]=r&&n.ucCategory[e.service.categorySlug]!==e.consent.status?null:e.consent.status)}),n},nC=function(){window.dataLayer.push(arguments)};(ny=np||(np={})).TEXT_JAVASCRIPT="text/javascript",ny.TEXT_PLAIN="text/plain";var ny,n_,nA="data-usercentrics",nm=function(){function e(){}return e.enableScriptsForServicesWithConsent=function(t){var n=e.getDisabledScripts();Array.prototype.forEach.call(n,function(n){e.disabledScriptHasConsent(t,n)&&e.enableScript(n)})},e.getDisabledScripts=function(){return document.querySelectorAll("script[".concat(nA,'][type="').concat(np.TEXT_PLAIN,'"]'))},e.disabledScriptHasConsent=function(e,t){return e.some(function(e){return e.name===t.getAttribute(nA)})},e.enableScript=function(t){var n,i=t.src?e.createSrcScriptTag(t):e.createInlineScriptTag(t);(n=t.parentNode)&&n.replaceChild(i,t)},e.createSrcScriptTag=function(t){var n=e.cloneScriptTag(t);return n.removeAttribute(nA),n.type=np.TEXT_JAVASCRIPT,n},e.createInlineScriptTag=function(t){var n=e.cloneScriptTag(t);n.removeAttribute(nA);var i=document.createTextNode(t.text);return n.appendChild(i),n.type=np.TEXT_JAVASCRIPT,n},e.cloneScriptTag=function(e){var t=document.createElement("script");return Array.from(e.attributes).forEach(function(e){t.setAttribute(e.name,e.value)}),t},e}(),nO=function(e,t,n){var i,s;this.anyDomain=e.anyDomain||"any domain (ex. first party cookie)",this.cookieRefresh=(null==t?void 0:t.COOKIE_REFRESH)||(null==(i=null==n?void 0:n.labels)?void 0:i.COOKIE_REFRESH)||"Cookie Refresh",this.cookieStorage=(null==t?void 0:t.COOKIE_STORAGE)||(null==(s=null==n?void 0:n.labels)?void 0:s.COOKIE_STORAGE)||"Cookie Storage",this.day=e.day,this.days=e.days,this.description=e.storageInformationDescription||"Below you can see the longest potential duration for storage on a device, as set when using the cookie method of storage and if there are any other methods used.",this.domain=e.domain||"Domain",this.duration=e.duration||"Duration",this.error=e.informationLoadingNotPossible||"Sorry; we could not load the required information.",this.hour=e.hour,this.hours=e.hours,this.identifier=e.identifier||"Identifier",this.loading=e.loadingStorageInformation||"Loading storage information",this.maximumAge=e.maximumAgeCookieStorage||"Maximum age of cookie storage",this.minute=e.minute,this.minutes=e.minutes,this.month=e.month,this.months=e.months,this.multipleDomains=e.multipleDomains||"multiple subdomains may exist",this.name=e.name||"Name",this.no=e.no||"no",this.nonCookieStorage=e.nonCookieStorage||"Non-cookie storage",this.purposes=e.purposes||"Purposes",this.second=e.second||"second",this.seconds=e.seconds||"seconds",this.session=e.session||"Session",this.storedInformation=e.storedInformation||"Stored Information",this.storedInformationDescription=e.storedInformationDescription||"This service uses different means of storing information on a users device as listed below.",this.title=e.storageInformation||"Storage Information",this.titleDetailed=e.detailedStorageInformation||"Detailed Storage Information",this.tryAgain=e.tryAgain||"Try again?",this.type=e.type||"Type",this.year=e.year,this.years=e.years,this.yes=e.yes||"yes"},nN=function(e,t){var n=e.defaultConsentStatus;return{history:[],status:!!(null==t?void 0:t.isEssential)||n}},nb=function(e,t){var n=e.legalBasisList,i=e.legalGround;return t.length>0?t:eH(n)?n:[i]},nD=function(e,t){return(null==e?void 0:e.description)||(null==t?void 0:t.descriptionOfService)||(null==t?void 0:t.description)||""},nR=function(e,t,n){var i,s=null==n?void 0:n.find(function(t){return e.templateId===t.templateId&&e.version===t.version}),r=(null==t?void 0:t.legalBasis)&&e.legalBasisList?e.legalBasisList.reduce(function(e,n){return(null==t?void 0:t.legalBasis[n])?G(G([],F(e),!1),[null==t?void 0:t.legalBasis[n]],!1):e},[]):[];this.description=nD(e,s),this.id=e.templateId,this.legalBasis=s&&!e.disableLegalBasis?nb(s,r):[],this.name=(null==(i=e._meta)?void 0:i.name)||(null==s?void 0:s.dataProcessor)||(null==s?void 0:s.dataProcessors[0])||""},nL=function(e){function t(t,n,i,s){var r,o,a,c,u,l,d,h=this;h=e.call(this)||this;var p=t.labels;if(h.ariaLabels=(null==i?void 0:i.labelsAria)||tf,h.categories=n.categories.map(function(e){return{description:e.description,label:e.label,slug:e.categorySlug}}),h.cookieInformation=new nO(p,null,i),h.general={back:(null==(r=null==i?void 0:i.labels)?void 0:r.BACK)||"Back",consentGiven:p.accepted,consentNotGiven:p.denied,consentType:p.consentType,controllerId:(null==(o=null==i?void 0:i.labels)?void 0:o.CID_TITLE)||"Controller ID",copied:p.copied,copy:p.copy,date:p.date,decision:p.decision,details:(null==(a=null==i?void 0:i.labels)?void 0:a.DETAILS)||"Details",explicit:p.explicit,gpcSignalHonored:(null==(c=null==i?void 0:i.labels)?void 0:c.GPC_SIGNAL_HONORED)||p.gpcSignalHonored||"The GPC signal is honored",implicit:p.implicit,implicitNo:p.noImplicit,implicitYes:p.yesImplicit,privacyButton:p.btnChipName,showLess:p.readLess,showMore:p.btnBannerReadMore||p.showMore,subservice:(null==(u=null==i?void 0:i.labels)?void 0:u.SUB_SERVICE)||"Subservice",subservices:(null==(l=null==i?void 0:i.labels)?void 0:l.SUB_SERVICES)||"Subservices",subservicesDescription:(null==(d=null==i?void 0:i.labels)?void 0:d.SUB_SERVICES_DESCRIPTION)||"Below you can find all the services that are subordinate to this service. The current consent status of this service applies to all subservices."},h.links={cookiePolicy:{ariaLabel:tf.cookiePolicyButton,label:eY(p.cookiePolicyLinkText,""),url:t.cookiePolicyUrl},imprint:{ariaLabel:tf.imprintButton,label:p.imprintLinkText||null,url:t.imprintUrl},privacyPolicy:{ariaLabel:tf.privacyPolicyButton,label:p.privacyPolicyLinkText,url:t.privacyPolicyUrl}},t.integrations&&t.integrations.mine){var g={mine:{ariaLabel:"",label:t.integrations.mine[0].privacyCenterLabel,url:t.integrations.mine[0].privacyCenterUrl}};h.integrationLinks=U(U({},h.integrationLinks),g)}return h.poweredBy={label:"Powered by",partnerUrlLabel:eY(p.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"},h.service={dataCollected:{description:p.dataCollectedInfo,title:p.dataCollectedList},dataDistribution:{processingLocationDescription:p.locationofProcessingInfo,processingLocationTitle:p.locationOfProcessing,thirdPartyCountriesDescription:p.transferToThirdCountriesInfo,thirdPartyCountriesTitle:p.transferToThirdCountries},dataProtectionOfficer:{description:p.dataProtectionOfficerInfo,title:p.dataProtectionOfficer},dataPurposes:{description:p.dataPurposesInfo,title:p.dataPurposes},dataRecipients:{description:p.dataRecipientsListInfo,title:p.dataRecipientsList},descriptionTitle:p.descriptionOfService,history:{description:null,title:p.history},legalBasis:{description:p.legalBasisInfo,title:p.legalBasisList},processingCompanyTitle:p.processingCompany,retentionPeriod:{description:p.retentionPeriodInfo,title:p.retentionPeriod},technologiesUsed:{description:p.technologiesUsedInfo,title:p.technologiesUsed},urls:{cookiePolicyTitle:p.cookiePolicyInfo,optOutTitle:p.optOut,privacyPolicyTitle:p.policyOf}},h.services=n.consentTemplates.reduce(function(e,t){var n=new nR(t,i,s);return G(G([],F(e),!1),[n],!1)},[]),h}return L(t,e),t}(function(){this.ariaLabels=tf}),nw=function(e){function t(t,n,i,s){var r=e.call(this,t,n,i,s)||this;return r.buttons={optOutNotice:t.ccpa.optOutNoticeLabel||"Do not sell my personal information",save:t.ccpa.btnSave||"okay",showSecondLayer:t.ccpa.btnMoreInfo||t.labels.btnMore},r.firstLayer={description:{default:t.ccpa.firstLayerDescription||"",short:t.ccpa.firstLayerMobileDescription||"",shortDesktop:t.ccpa.firstLayerShortMessage||"",shortMobile:t.ccpa.firstLayerMobileDescription||""},title:t.ccpa.firstLayerTitle||""},r.secondLayer={categoryTab:t.secondLayer.tabsCategoriesLabel,description:t.ccpa.secondLayerDescription||"",serviceTab:t.secondLayer.tabsServicesLabel,title:t.ccpa.secondLayerTitle||""},r}return L(t,e),t}(nL),nP=function(e,t){var n,i,s;this.acceptAllImplicitlyOutsideEU=e.displayOnlyForEU,this.consentAnalytics=eY(e.consentAnalytics,!1),this.consentAPIv2=eY(e.consentAPIv2,!1),this.consentXDevice=eY(e.consentXDevice,!1),this.consentSharingIFrameIsActive=e.consentSharingIFrameIsActive,this.dataExchangeSettings=e.dataExchangeOnPage.reduce(function(e,t){return t.type===e6.DATA_LAYER?e.push({names:t.names,type:er.DATA_LAYER}):t.type===e6.WINDOW_EVENT&&e.push({names:t.names,type:er.WINDOW_EVENT}),e},[]),this.googleConsentMode=e.googleConsentMode,this.id=e.settingsId,this.isCcpaEnabled=e.framework?["CCPA","UCPA","CTDPA","VCDPA","CPRA","CPA"].includes(e.framework):null!=(i=null==(n=e.ccpa)?void 0:n.isActive)&&i,this.isEmbeddingsEnabled=!0,this.isTagLoggerActive=e.tagLoggerIsActive,this.isTcfEnabled=e.framework?"TCF2"===e.framework:null!=(s=e.tcf2Enabled)&&s,this.language={available:e.languagesAvailable,selected:t},this.reshowBanner=eY(e.reshowBanner,-1),this.renewConsentsTimestamp=eY(e.renewConsentsTimestamp,null),this.showFirstLayerOnVersionChange=e.showInitialViewForVersionChange.map(function(e){switch(e){case e8.MAJOR:return eo.MAJOR;case e8.MINOR:return eo.MINOR;case e8.PATCH:default:return eo.PATCH}}),this.version=e.version},nV=function(e){function t(t,n,i,s){var r,o,a,c=this;return(c=e.call(this,t,n,i,s)||this).buttons={acceptAll:t.labels.btnAcceptAll,cnilDeny:(null==(r=null==i?void 0:i.labels)?void 0:r.CNIL_DENY_LINK_TEXT)||"Continuer sans accepter",denyAll:t.labels.btnDeny,save:t.labels.btnSave,showSecondLayer:t.labels.btnMore},c.firstLayer={description:{default:t.bannerMessage||"",short:t.bannerMobileDescription||"",shortDesktop:t.firstLayer.shortMessage||"",shortMobile:t.bannerMobileDescription||""},title:eY(t.labels.firstLayerTitle,"Privacy Settings")},c.secondLayer={acceptButtonLabel:t.secondLayer.acceptButtonText,categoryTab:t.secondLayer.tabsCategoriesLabel,dataTransferFilter:{all:(null==(o=null==i?void 0:i.labels)?void 0:o.ALL)||"All",thirdCountry:(null==(a=null==i?void 0:i.labels)?void 0:a.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},denyButtonLabel:t.secondLayer.denyButtonText,description:t.labels.titleCorner,serviceTab:t.secondLayer.tabsServicesLabel,title:t.labels.headerCorner},c}return L(t,e),t}(nL),nU=function(e,t,n){this.privacyButton=eY(null==n?void 0:n.labelsAria.privacyButton,""),this.services=e.consentTemplates.reduce(function(e,i){var s=new nR(i,n,t);return G(G([],F(e),!1),[s],!1)},[])},nM=function(){function e(){this.needsSessionRestore=!1,this.apiInstance=na.getInstance(),this.locationInstance=nt.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.noShow},e.prototype.unsetNoShow=function(){delete this.noShow},e.prototype.getIsUsingNoShow=function(){return void 0!==this.noShow},e.prototype.getNoShow=function(){return!0===this.noShow},e.prototype.setNoShow=function(e){this.noShow=e},e.prototype.resolveSettingsId=function(){return M(this,void 0,void 0,function(){var e,t,n,i,s,r,o,a;return k(this,function(c){switch(c.label){case 0:return[4,this.apiInstance.fetchRuleset()];case 1:return e=c.sent(),n="",i=e.location,s=e.rules,o=(r=e.defaultRule).settingsId,a=r.noShow,i&&i.code&&(t=i.regionCode&&s.find(function(e){var t;return null==(t=e.locations)?void 0:t.includes(i.regionCode)})||s.find(function(e){var t;return null==(t=e.locations)?void 0:t.includes(i.code)}),this.locationInstance.setUserCountryData(i),eF.setUserCountryResponse(nt.mapUserCountryData(i))),this.unsetNoShow(),t?(n=t.settingsId,void 0!==t.noShow&&this.setNoShow(!0===t.noShow)):(n=o,this.setNoShow(!0===a)),[2,{name:"Resolved Settings Id",noShow:this.getNoShow(),settingsId:n}]}})})},e}(),nk=function(e){this.cookieMaxAgeSeconds=null,this.cookieRefresh=null,this.dataCollected=[],this.dataDistribution=null,this.dataProtectionOfficer=null,this.dataPurposes=[],this.dataRecipients=[],this.deviceStorage=null,this.deviceStorageDisclosureUrl=null,this.language=null,this.processingCompany=null,this.retentionPeriodDescription=null,this.technologiesUsed=[],this.urls=null,this.usesCookies=null,this.usesNonCookieAccess=null,this.cookieMaxAgeSeconds=eY(null==e?void 0:e.cookieMaxAgeSeconds,null),this.cookieRefresh=eY(null==e?void 0:e.cookieRefresh,null),this.dataCollected=e?nF(e,e5.DATA_COLLECTED_LIST):[],this.dataDistribution=e?nx(e):null,this.dataProtectionOfficer=eY(null==e?void 0:e.dataProtectionOfficer,null),this.dataPurposes=e?nG(e):[],this.dataRecipients=e?nF(e,e5.DATA_RECIPIENTS_LIST):[],this.description=nD(null,e),this.deviceStorage=eY(null==e?void 0:e.deviceStorage,null),this.deviceStorageDisclosureUrl=eY(null==e?void 0:e.deviceStorageDisclosureUrl,null),this.language=e?nB(e):null,this.processingCompany=e?nH(e):null,this.retentionPeriodDescription=e?nj(e):null,this.technologiesUsed=e?nF(e,e5.TECHNOLOGY_USED):[],this.usesCookies=eY(null==e?void 0:e.usesCookies,null),this.usesNonCookieAccess=eY(null==e?void 0:e.usesNonCookieAccess,null),this.urls=e?nY(e):null},nF=function(e,t){var n;return eH(e[t])?e[t]:(null==(n=e[t])?void 0:n.length)>0?[e[t]]:[]},nG=function(e){var t=nF(e,e5.DATA_PURPOSES_LIST);return eH(t)?t:e.dataPurposes},nx=function(e){return{processingLocation:e.locationOfProcessing,thirdPartyCountries:e.thirdCountryTransfer?e.thirdCountryTransfer.split(","):[]}},nB=function(e){return{available:e.languagesAvailable,selected:e.language}},nH=function(e){return{address:e.addressOfProcessingCompany,dataProtectionOfficer:e.dataProtectionOfficer,name:e.nameOfProcessingCompany||e.processingCompany}},nj=function(e){var t;return e.retentionPeriodDescription||(null==(t=e.retentionPeriodList)?void 0:t[0])||""},nY=function(e){return{cookiePolicy:e.cookiePolicyURL,dataProcessingAgreement:e.linkToDpa,optOut:e.optOutUrl,privacyPolicy:e.privacyPolicyURL||e.policyOfProcessorUrl}},nJ=function(e){function t(t,n,i,s,r){var o,a,c,u,l,d=this;d=e.call(this,t,n,s,r)||this;var h=t.labels,p=t.tcf2;return d.cookieInformation.purposes=p.labelsPurposes,d.buttons={acceptAll:p.buttonsAcceptAllLabel,denyAll:p.buttonsDenyAllLabel,manageSettings:p.linksManageSettingsLabel,save:p.buttonsSaveLabel,showVendorTab:p.linksVendorListLinkLabel},d.firstLayer={description:{additionalInfo:p.firstLayerAdditionalInfo||null,dataSharedOutsideEUText:p.showDataSharedOutsideEUText&&p.dataSharedOutsideEUText?p.dataSharedOutsideEUText:null,default:p.firstLayerDescription.replace("%VENDOR_COUNT%",i.toString()),resurfaceNote:p.firstLayerNoteResurface||null},disclaimer:{serviceScope:p.firstLayerNoteService},title:p.firstLayerTitle},d.secondLayer={dataSharedOutsideEU:{text:(null==(o=null==s?void 0:s.labels)?void 0:o.VENDORS_OUTSIDE_EU)||null,title:h.transferToThirdCountries},dataTransferFilter:{all:(null==(a=null==s?void 0:s.labels)?void 0:a.ALL)||"All",thirdCountry:(null==(c=null==s?void 0:s.labels)?void 0:c.THIRD_COUNTRY_TRANSFER)||"Data Transfer to Third Countries"},description:p.secondLayerDescription,maxStorageDurationText:((null==(u=null==s?void 0:s.labels)?void 0:u.WEB_TCF_MAX_STORAGE_DURATION_TEXT)||"The choices you make regarding the purposes and entities listed are saved in the local storage %TC_STRING_LOCATION%, for a maximum of 13 months. After 13 months, the CMP will prompt again.").replace("%TC_STRING_LOCATION%",'in "'.concat("uc_tcf",'"')),maxStorageDurationTitle:(null==(l=null==s?void 0:s.labels)?void 0:l.WEB_TCF_MAX_STORAGE_DURATION_TITLE)||"CMP Storage and Access",purposesTab:p.tabsPurposeLabel,title:p.secondLayerTitle,vendorsTab:p.tabsVendorsLabel},d.titles={acmVendors:p.atpListTitle,examples:p.examplesLabel||"Examples",features:p.labelsFeatures,iabVendors:p.labelsIabVendors,nonIabPurposes:p.labelsNonIabPurposes,nonIabVendors:p.labelsNonIabVendors,purposes:p.labelsPurposes},d.toggles={consent:t.tcf2.togglesConsentToggleLabel,legitimateInterest:t.tcf2.togglesLegIntToggleLabel,specialFeaturesToggle:{offLabel:t.tcf2.togglesSpecialFeaturesToggleOff,onLabel:t.tcf2.togglesSpecialFeaturesToggleOn}},d.vendor={dataCategories:p.categoriesOfDataLabel,dataRetention:p.dataRetentionPeriodLabel,dataRetentionUnit:h.days,features:p.vendorFeatures,legitimateInterest:p.vendorLegitimateInterestPurposes,legitimateInterestClaim:p.legitimateInterestLabel,privacyPolicy:h.privacyPolicyLinkText,purposes:p.vendorPurpose,specialFeatures:p.vendorSpecialFeatures,specialPurposes:p.vendorSpecialPurposes,toggleAll:p.labelsActivateAllVendors},d.acmVendor={privacyPolicy:p.atpAdditionalInfo},d}return L(t,e),t}(nL),nW=function(){function t(){this.aggregatedServices=[],this.allLegacyServicesHaveName=!1,this.isVariantLoaded=!1,this.isAggregatorLoaded=!1,this.language="",this.translations=null,this.botInstance=ng.getInstance(),this.locationInstance=nt.getInstance(),this.rulesetInstance=nM.getInstance(),this.apiInstance=na.getInstance(),this._core=null,this._coreJson=null,this._data=null,this._dpsJson=null,this._labels=null,this._legacySettings=null,this._ui=null,this.controllerIdInstance=t9.getInstance(),this.acceptAllImplicitlyOnInit=null,this.denyAllExplicitlyOnInit=null}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.resetInstance=function(){t.instance.allLegacyServicesHaveName=!1,t.instance.core=null,t.instance.data=null,t.instance.labels=null,t.instance.legacySettings=null,t.instance.ui=null,t.instance.dpsJson=null,t.instance.coreJson=null},Object.defineProperty(t.prototype,"core",{get:function(){return this._core},set:function(e){this._core=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coreJson",{get:function(){return this._coreJson},set:function(e){this._coreJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(e){this._data=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dpsJson",{get:function(){return this._dpsJson},set:function(e){this._dpsJson=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"labels",{get:function(){return this._labels},set:function(e){this._labels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"legacySettings",{get:function(){return this._legacySettings},set:function(e){this._legacySettings=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ui",{get:function(){return this._ui},set:function(e){this._ui=e},enumerable:!1,configurable:!0}),t.prototype.init=function(e,t,n){return M(this,void 0,void 0,function(){return k(this,function(i){return this.language=n,this.core=new nP(e,n),this.coreJson=e,this.dpsJson=t,this.isAggregatorLoaded=!1,this.allLegacyServicesHaveName=this.checkIfServiceNameExists(t.consentTemplates),this.isAggregatorLoaded=!1,[2]})})},t.prototype.initData=function(t,n,i,s,r,o,a){return void 0===n&&(n=[]),void 0===i&&(i=!0),void 0===s&&(s=!1),void 0===r&&(r=[]),void 0===o&&(o=!1),void 0===a&&(a=!1),M(this,void 0,void 0,function(){var c,u,l,d,h,p,g=this;return k(this,function(f){switch(f.label){case 0:if(u=(c=this).coreJson,l=c.dpsJson,d=c.legacySettings,!u||!l)return[2];switch(h=this.controllerIdInstance.value,p=(null==n?void 0:n.length)?n:this.aggregatedServices,t){case 0:return[3,1];case 2:return[3,3];case 1:return[3,5]}return[3,7];case 1:return[4,e.A(228211).then(function(e){g.data=new(0,e.default)(u,l,h,o)})];case 2:case 4:case 6:return f.sent(),[3,8];case 3:return d?[4,e.A(524344).then(function(e){var t=e.default;return M(g,void 0,void 0,function(){var e,n;return k(this,function(o){switch(o.label){case 0:return(e=this.getDataTransferSettings())&&u.tcf2?(n=new t(d,u.tcf2,l,e,h,this.language,r,a),this.data=n,i?[4,n.init(s)]:[3,2]):[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})})]:[2];case 5:return[4,e.A(86860).then(function(e){g.data=new(0,e.default)(l,h,p)})];case 7:console.error("Usercentrics: Unknown variant"),f.label=8;case 8:return this.isVariantLoaded=!0,[2]}})})},t.prototype.checkIfServiceNameExists=function(e){return e.every(function(e){var t;return null!=(null==(t=e._meta)?void 0:t.name)})},t.prototype.initLabels=function(e,t,n){var i=this.coreJson,s=this.dpsJson,r=this.legacySettings,o=(null==n?void 0:n.length)?n:this.aggregatedServices;if(s&&this.core)if(r)switch(e){case 0:var a=new nw(r,s,t,o);this.labels=a;break;case 1:var c=new nV(r,s,t,o);this.labels=c;break;case 2:var u=new nJ(r,s,this.getThirdPartyCount(),t,o);this.labels=u;break;default:console.error("Usercentrics: Unknown variant")}else{var l=new nU(s,o,t),d=i?{label:"Powered by",partnerUrlLabel:eY(i.labels.partnerPoweredByLinkText,null),urlLabel:"Usercentrics Consent Management"}:void 0;this.labels=U(U({},l),{poweredBy:d})}else console.error("Usercentrics: You have to call the init method before!")},t.prototype.initUI=function(t,n){return M(this,void 0,void 0,function(){var i,s,r,o=this;return k(this,function(a){switch(a.label){case 0:return s=(i=this).coreJson,r=i.legacySettings,s?2!==t?[3,2]:[4,e.A(750425).then(function(e){var t,n=e.default,i=e1.CAT,a=!1;r&&(i=r.secondLayer.defaultView,a=r.secondLayer.hideDataProcessingServices);var c=new n(s,{defaultView:i,hideDataProcessingServices:a}),u=s.enablePoweredBy?{partnerUrl:s.partnerPoweredByUrl||null,url:"https://www.usercentrics.com/consent-management-platform-powered-by-usercentrics/"}:null;o.ui=U(U({},c),{customCss:(null==(t=null==r?void 0:r.features)?void 0:t.customCss)&&r.useUnsafeCustomCss&&null!=r.stylesCss?r.stylesCss:null,poweredBy:u})})]:[2];case 1:return a.sent(),[2];case 2:if(!r)return[2];switch(n){case 0:return[3,3];case 1:return[3,5];case 2:return[3,7]}return[3,9];case 3:return[4,e.A(819162).then(function(e){o.ui=new(0,e.default)(s,r)})];case 4:case 6:case 8:return a.sent(),[3,10];case 5:return[4,e.A(45471).then(function(e){o.ui=new(0,e.default)(s,r)})];case 7:return[4,e.A(286228).then(function(e){o.ui=new(0,e.default)(s,r)})];case 9:console.error("Usercentrics: Unknown variant"),a.label=10;case 10:return[2]}})})},t.prototype.getCcpaData=function(){return tO(this.data)?this.data:null},t.prototype.getDefaultData=function(){return tb(this.data)?this.data:null},t.prototype.getTcfData=function(){return tN(this.data)?this.data:null},t.prototype.getCcpaLabels=function(){return tD(this.labels)?this.labels:null},t.prototype.getDefaultLabels=function(){return tL(this.labels)?this.labels:null},t.prototype.getTcfLabels=function(){return tR(this.labels)?this.labels:null},t.prototype.getCcpaUI=function(){return tV(this.ui)?this.ui:null},t.prototype.getDefaultUI=function(){return tM(this.ui)?this.ui:null},t.prototype.getTcfUI=function(){return tU(this.ui)?this.ui:null},t.prototype.getDataExchangeSettings=function(){return this.core?this.core.dataExchangeSettings:[]},t.prototype.getCategoriesData=function(){return this.data?this.data.categories:[]},t.prototype.getCategoriesBaseData=function(){var e=this;return this.data?this.data.categories.map(function(t){return{isEssential:t.isEssential,isHidden:t.isHidden,services:e.getServicesBaseInfo().filter(function(e){return e.categorySlug===t.slug}),slug:t.slug}}):[]},t.prototype.getCategoriesLabels=function(){return this.labels&&tP(this.labels)?this.labels.categories:[]},t.prototype.getCategoriesDataAndLabels=function(){var e,t,n;return e=this.getCategoriesData(),t=this.getCategoriesLabels(),n=this.getServicesLabels(),e.reduce(function(e,i){var s=t.find(function(e){return e.slug===i.slug}),r=tA(i.services,n);return s&&e.push(U(U(U({},s),i),{services:r})),e},[])},t.prototype.getCategoriesBasic=function(){var e=this.getCategoriesData(),t=this.getServicesLabels();return e.reduce(function(e,n){var i;return G(G([],F(e),!1),[U(U({},n),{services:(i=n.services,i.reduce(function(e,n){var i=t.find(function(e){return e.id===n.id});return i?G(G([],F(e),!1),[{categorySlug:n.categorySlug,consent:n.consent,id:n.id,language:n.language,name:i.name,processorId:n.processorId,version:n.version}],!1):G([],F(e),!1)},[]))})],!1)},[])},t.prototype.getCategoriesBaseInfo=function(){return this.getCategoriesDataAndLabels()},t.prototype.getCategoriesFullInfo=function(e,t){return M(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getCategoriesDataAndLabels()]}})})},t.prototype.getDataTransferSettings=function(e){return this.core?{controllerId:this.controllerIdInstance.value,id:this.core.id,selectedLanguage:this.core.language.selected,version:e||this.core.version}:null},t.prototype.getEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce(function(e,t){return t.isEssential?G(G([],F(e),!1),[t],!1):e},[]):this.getCategoriesBasic().filter(function(e){return e.isEssential})},t.prototype.getEssentialCategoriesData=function(){return this.getCategoriesData().reduce(function(e,t){return t.isEssential?G(G([],F(e),!1),[t],!1):e},[])},t.prototype.getNonEssentialCategories=function(){return this.getCategoriesLabels().length?this.getCategoriesDataAndLabels().reduce(function(e,t){return t.isEssential?e:G(G([],F(e),!1),[t],!1)},[]):this.getCategoriesBasic().filter(function(e){return!e.isEssential})},t.prototype.getNonEssentialCategoriesData=function(){return this.getCategoriesData().reduce(function(e,t){return t.isEssential?e:G(G([],F(e),!1),[t],!1)},[])},t.prototype.getGoogleConsentMode=function(){return!!this.core&&this.core.googleConsentMode},t.prototype.getServicesLabels=function(){return this.labels?this.labels.services:[]},t.prototype.getServicesData=function(){return this.getCategoriesData().reduce(function(e,t){return G(G([],F(e),!1),F(t.services),!1)},[])},t.prototype.getServicesDataAndLabels=function(){return tA(this.getServicesData(),this.getServicesLabels())},t.prototype.getServicesBaseInfo=function(){var e,t=this.mapBaseServices(this.getServicesData());return e=this.getServicesLabels(),t.reduce(function(t,n){var i=e.find(function(e){return e.id===n.id});return G(G([],F(t),!1),[U(U(U({},n),i||t_),{id:n.id})],!1)},[])},t.prototype.getServicesFullInfo=function(e,t){return M(this,void 0,void 0,function(){return k(this,function(n){switch(n.label){case 0:return this.isAggregatorLoaded?[3,2]:[4,this.extendServices(e,t)];case 1:n.sent(),n.label=2;case 2:return[2,this.getServicesDataAndLabels()]}})})},t.prototype.getServicesFromCategories=function(e){return e.reduce(function(e,t){return e.concat(t.services)},[])},t.prototype.getServicesWithConsent=function(){return this.getServicesDataAndLabels().reduce(function(e,t){return t.consent.status?G(G([],F(e),!1),[t],!1):e},[])},t.prototype.areAllServicesAccepted=function(){return this.getServicesData().every(function(e){return e.consent.status})},t.prototype.areAllVendorsAndPurposesAccepted=function(){var e=this.getTcfData();return!!e&&e.areAllPurposesAccepted()&&e.areAllVendorsAccepted()},t.prototype.extendServices=function(e,t){return M(this,void 0,void 0,function(){var n,i;return k(this,function(s){switch(s.label){case 0:return(n=this.dpsJson)?(this.isAggregatorLoaded=!0,[4,this.fetchServices(n)]):[2];case 1:return(i=s.sent())&&0!==i.length&&(this.aggregatedServices=i,this.initLabels(e,t,i),this.data&&(this.data.categories=this.data.categories.map(function(e){var t=n.categories.find(function(t){return t.categorySlug===e.slug});return U(U({},e),{services:e.services.map(function(e){if(n.consentTemplates.find(function(t){return t.templateId===e.id})&&t){var s=new nk(null==i?void 0:i.find(function(t){return e.id===t.templateId&&e.version===t.version}));return U(U({},e),s)}return e})})}))),[2]}})})},t.prototype.isCcpaEnabled=function(){var e;return(null==(e=this.core)?void 0:e.isCcpaEnabled)||!1},t.prototype.isCcpaAvailable=function(){var e;if(this.isCcpaEnabled()&&null!=(null==(e=this.coreJson)?void 0:e.ccpa))switch(this.coreJson.ccpa.region){case e3.US:return this.locationInstance.getIsUserInUS();case e3.US_CA_ONLY:return this.locationInstance.getIsUserInCalifornia();default:return Promise.resolve(!0)}return Promise.resolve(!1)},t.prototype.isCrossDomainEnabled=function(){var e;return(null==(e=this.core)?void 0:e.consentSharingIFrameIsActive)||!1},t.prototype.isTcfEnabled=function(){var e;return(null==(e=this.core)?void 0:e.isTcfEnabled)||!1},t.prototype.isTcfAvailable=function(){var e;return this.isTcfEnabled()&&null!=(null==(e=this.coreJson)?void 0:e.tcf2)},t.prototype.isTagLoggerActive=function(){var e;return(null==(e=this.core)?void 0:e.isTagLoggerActive)||!1},t.prototype.mergeServicesIntoExistingCategories=function(e){return this.getCategoriesDataAndLabels().map(function(t){return U(U({},t),{services:t.services.map(function(t){return e.find(function(e){return e.id===t.id})||t})})})},t.prototype.mergeServicesDataIntoExistingCategories=function(e){return this.getCategoriesData().map(function(t){return U(U({},t),{services:t.services.map(function(t){return e.find(function(e){return e.id===t.id})||t})})})},t.prototype.setCategories=function(e){this.data&&(this.data.categories=e)},t.prototype.setControllerId=function(e){this.data&&(this.data.controllerId=e),tN(this.data)&&this.data.updateControllerId(e)},t.prototype.updateServicesLanguage=function(e){this.data&&this.data.categories.map(function(t){return U(U({},t),{services:t.services.map(function(t){return U(U({},t),{language:U(U({},t.language),{selected:e})})})})})},t.prototype.shouldDenyAllExplicitlyOnInit=function(){var e;return M(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return null!==this.denyAllExplicitlyOnInit?[2,this.denyAllExplicitlyOnInit]:(t=this,[4,this.isCcpaAvailable()]);case 1:return t.denyAllExplicitlyOnInit=n.sent()&&!(null==(e=this.getCcpaData())?void 0:e.isExplicitConsented)&&!0===navigator.globalPrivacyControl||!1,[2,this.denyAllExplicitlyOnInit]}})})},t.prototype.shouldAcceptAllImplicitlyOnInit=function(){var e,t;return M(this,void 0,void 0,function(){var n,i,s,r,o,a;return k(this,function(c){switch(c.label){case 0:return null!==this.acceptAllImplicitlyOnInit?[2,this.acceptAllImplicitlyOnInit]:(n=this,(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()]);case 1:r=c.sent()&&!navigator.globalPrivacyControl,c.label=2;case 2:return(s=r)?[3,5]:(o=null==(e=this.core)?void 0:e.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null==(t=this.getTcfData())?void 0:t.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return n.acceptAllImplicitlyOnInit=i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow(),[2,this.acceptAllImplicitlyOnInit]}})})},t.prototype.shouldAcceptAllImplicitlyOnVendorAdded=function(){var e,t,n;return M(this,void 0,void 0,function(){var i,s,r,o,a;return k(this,function(c){switch(c.label){case 0:return(r=this.botInstance.isRobot())?[3,2]:[4,this.isCcpaAvailable()];case 1:r=c.sent()&&!(null==(e=this.getCcpaData())?void 0:e.isOptedOut),c.label=2;case 2:return(s=r)?[3,5]:(o=null==(t=this.core)?void 0:t.acceptAllImplicitlyOutsideEU)?[4,this.locationInstance.getIsUserInEU()]:[3,4];case 3:o=!c.sent(),c.label=4;case 4:s=o,c.label=5;case 5:return(i=s)?[3,8]:(a=this.isTcfAvailable())?[4,null==(n=this.getTcfData())?void 0:n.getGdprApplies()]:[3,7];case 6:a=!c.sent(),c.label=7;case 7:i=a,c.label=8;case 8:return[2,i||""!==this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()&&this.rulesetInstance.getNoShow()]}})})},t.prototype.shouldShowFirstLayerOnVersionChange=function(){var e=eF.fetchSettingsVersion();if(this.core&&e&&eH(this.core.showFirstLayerOnVersionChange)){var t=this.core.version.split("."),n=e.split(".");return eG(this.core.showFirstLayerOnVersionChange,eo.MAJOR)&&t[0]!==n[0]||eG(this.core.showFirstLayerOnVersionChange,eo.MINOR)&&t[1]!==n[1]||eG(this.core.showFirstLayerOnVersionChange,eo.PATCH)&&t[2]!==n[2]}return!1},t.prototype.getUpdatedServicesWithConsent=function(e){return this.getServicesDataAndLabels().map(function(t){return t.isEssential||(t.consent.status=e===es.TRUE),t})},t.prototype.getUpdatedServicesDataWithConsent=function(e){return this.getServicesData().map(function(t){return t.isEssential||(t.consent.status=e===es.TRUE),t})},t.prototype.getUpdatedServicesWithDecisions=function(e){return this.getServicesDataAndLabels().map(function(t){var n=e.find(function(e){return e.serviceId===t.id});return t.consent.status=t.isEssential||(n?n.status:t.consent.status),t})},t.prototype.getUpdatedServicesDataWithDecisions=function(e){return this.getServicesData().map(function(t){var n=e.find(function(e){return e.serviceId===t.id});return t.consent.status=t.isEssential||(n?n.status:t.consent.status),t})},t.prototype.updateDataTransferSettings=function(e){var t=e.controllerId,n=e.id,i=e.selectedLanguage,s=e.version;this.core&&this.data&&(this.data.controllerId=t,this.core.id=n,this.core.language.selected=i,this.core.version=s)},t.prototype.isTcfHistoryV2Disabled=function(){return!!tN(this.data)&&!0===this.data.tcfv2HistoryDisabled},t.prototype.getTCFPurposeOneTreatment=function(){return tN(this.data)&&this.data.purposeOneTreatment||!1},t.prototype.getTCFStackIds=function(){return tN(this.data)?this.data.stackIds:[]},t.prototype.getTCFVendorIds=function(){return tN(this.data)?this.data.vendorIds:[]},t.prototype.getTCFDisclosedVendorsSegmentString=function(){var e;return null==(e=this.getTcfData())?void 0:e.getTCFDisclosedVendorsSegmentString()},t.prototype.injectTCString=function(e){return M(this,void 0,void 0,function(){var t;return k(this,function(n){return(t=this.getTcfData())?[2,t.injectTCString(e)]:[2,!1]})})},t.prototype.fetchServices=function(e){return M(this,void 0,void 0,function(){var t,n,i,s;return k(this,function(r){switch(r.label){case 0:return(t=no(e.consentTemplates)).length?(n=na.getInstance(),i=ng.getInstance(),s=[],i.isRobot()?[3,2]:[4,n.fetchAggregatedServices(t)]):[2,null];case 1:s=r.sent(),r.label=2;case 2:return[2,s]}})})},t.prototype.mapBaseServices=function(e){return e.map(function(e){return{categorySlug:e.categorySlug,consent:e.consent,fetchSubServices:e.fetchSubServices,id:e.id,isEssential:e.isEssential,isHidden:e.isHidden,processorId:e.processorId,subServices:e.subServices,subServicesLength:e.subServicesLength,usesThirdCountry:e.usesThirdCountry,version:e.version}})},t.prototype.getThirdPartyCount=function(){var e=tN(this.data)?this.data.getVendorsCount():0;return this.getServicesData().length+e},t}(),nK=function(){function e(){this.restoreAction=null,this.apiInstance=na.getInstance(),this.controllerIdInstance=t9.getInstance(),this.eventDispatcherInstance=nI.getInstance(),this.settingsV2=nW.getInstance(),this.botInstance=ng.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){delete e.instance.userSessionData},e.prototype.execute=function(e,t,n,i,s,r){var o,a,c,u=this.settingsV2.getDataTransferSettings();if(u){var l=e.map(function(e){return eJ(u,e,n,i,e.categorySlug)}),d=nq(t,l);if(!this.botInstance.isRobot()&&(r&&this.apiInstance.saveConsentsV1_DEPRECATED({consentString:s,dataTransferObjects:l}),null==(o=this.settingsV2.core)?void 0:o.consentAPIv2)){var h=eW({consentAction:n,consentString:s,dataTransferSettings:u,isAnalyticsEnabled:null==(a=this.settingsV2.core)?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null==(c=this.settingsV2.core)?void 0:c.consentXDevice,isTcf:!1,services:e});this.apiInstance.saveConsents(h)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d));var p=this.settingsV2.getServicesDataAndLabels(),g=eF.mapSettings(u,p);eF.saveSettings(g,p),nm.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(l,this.settingsV2.getGoogleConsentMode())}},e.prototype.getMergedServicesAndSettingsFromStorage=function(e){var t=eF.fetchSettings();if(t&&e){var n=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategories()),i=this.settingsV2.getServicesFromCategories(this.settingsV2.getEssentialCategoriesData()),s=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategories()),r=this.settingsV2.getServicesFromCategories(this.settingsV2.getNonEssentialCategoriesData()),o=this.getMergedAndUpdatedEssentialServices(n,t),a=this.getMergedAndUpdatedEssentialServices(i,t),c=this.getMergedNonEssentialServices(s,t),u=this.getMergedNonEssentialServices(r,t);return t.controllerId!==this.controllerIdInstance.value&&""===this.controllerIdInstance.value&&(this.controllerIdInstance.value=t.controllerId,e.controllerId=t.controllerId,tN(e)&&e.updateControllerId(t.controllerId)),{dataTransferSettings:this.settingsV2.getDataTransferSettings(),mergedServices:o.mergedEssentialServices.concat(c),mergedServicesData:a.mergedEssentialServices.concat(u),mergedSettingsData:e,updatedEssentialServices:o.updatedEssentialServices}}return{dataTransferSettings:null,mergedServices:[],mergedServicesData:[],mergedSettingsData:e,updatedEssentialServices:[]}},e.prototype.getLatestConsentType=function(e){return e.length>0?e[e.length-1].type:"implicit"},e.prototype.getLatestConsentAction=function(e){return e.length>0?e[e.length-1].action:"onInitialPageLoad"},e.prototype.setUserSessionData=function(e){this.userSessionData=e},e.prototype.mergeServicesAndSettings=function(e,t,n,i,s,r){var o,a,c,u=this;if(!n)return[];if(eH(i)){var l=i.map(function(e){return eJ(n,e,"onEssentialChange",u.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)}),d=nq(t,l),h=nQ(t,d,s);if(r&&this.apiInstance.saveConsentsV1_DEPRECATED({dataTransferObjects:l}),null==(o=this.settingsV2.core)?void 0:o.consentAPIv2){var p=eW({consentAction:"onEssentialChange",dataTransferSettings:n,isAnalyticsEnabled:null==(a=this.settingsV2.core)?void 0:a.consentAnalytics,isCcpa:this.settingsV2.isCcpaEnabled(),isConsentXDeviceEnabled:null==(c=this.settingsV2.core)?void 0:c.consentXDevice,isTcf:this.settingsV2.isTcfAvailable(),services:i});this.apiInstance.saveConsents(p)}this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(d)),eF.saveSettings(eF.mapSettings(n,h),h)}else this.settingsV2.setCategories(this.settingsV2.mergeServicesDataIntoExistingCategories(t)),eF.saveSettings(eF.mapSettings(n,e),e);return e.map(function(e){return eJ(n,e,u.getLatestConsentAction(e.consent.history),u.getLatestConsentType(e.consent.history),null==e?void 0:e.categorySlug)})},e.prototype.restoreUserSession=function(e){var t,n,i;return M(this,void 0,void 0,function(){var s;return k(this,function(r){switch(r.label){case 0:return this.controllerIdInstance.value&&this.controllerIdInstance.needsSessionRestore&&(!(null==(t=this.settingsV2.core)?void 0:t.consentAPIv2)||(null==(n=this.settingsV2.core)?void 0:n.consentAPIv2)&&(null==(i=this.settingsV2.core)?void 0:i.consentXDevice))?[4,this.getCrossDeviceSessionData(this.controllerIdInstance.value)]:[3,2];case 1:s=r.sent(),r.label=2;case 2:if(!s&&this.userSessionData&&(s=U({},this.userSessionData)),!s&&window[eT]&&"function"==typeof window[eT].getUserSessionData)try{(null==(s=JSON.parse(window[eT].getUserSessionData(),function(e,t){if("timestamp"===e){var n=t.toString();return -1!==n.indexOf(".")?1e3*Number(n):Number(n)}return t}))?void 0:s.consents)&&(null==s?void 0:s.consents.length)&&!s.consents.every(function(e){return e.action})&&(s.consents=s.consents.map(function(e){return U(U({},e),{action:"onMobileSessionRestore"})}),this.restoreAction="onMobileSessionRestore")}catch(e){}return s||!eP.isCrossDomainAvailable()?[3,4]:[4,this.getCrossDomainSessionData()];case 3:s=r.sent(),r.label=4;case 4:return s&&s.controllerId?[2,this.restoreData(s,e)]:(this.controllerIdInstance.needsSessionRestore=!1,[2,!1])}})})},e.prototype.getCrossDomainSessionData=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,eP.getCrossDomainSessionData().catch(function(){return console.warn(eS.CROSS_DOMAIN_DATA_NOT_AVAILABLE),{}})];case 1:return[2,e.sent()]}})})},e.prototype.getCrossDeviceSessionData=function(e){var t,n;return M(this,void 0,void 0,function(){var i,s,r,o,a,c,u,l,d,h;return k(this,function(p){switch(p.label){case 0:return i=["dWLDa0s-m","VkvM9IcSA","Zdgjo9gQh","r2tAWzO7","GVl-ixMH"],s=this.apiInstance.getSettingsId(),r=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return o=p.sent(),a=null==(t=this.settingsV2.core)?void 0:t.consentAPIv2,c=[],u=null,l=null,a?[4,this.apiInstance.fetchUserConsentsV2(r,o).catch(function(){return console.warn(ef.CROSS_DEVICE_DATA_NOT_AVAILABLE),null})]:[3,3];case 2:return c=null!=(n=null==(d=p.sent())?void 0:d.consents)?n:[],r&&(-1===i.indexOf(s)&&this.settingsV2.isTcfHistoryV2Disabled()||(u=null==d?void 0:d.tcf)),o&&(l=null==d?void 0:d.ccpa),[3,8];case 3:return[4,this.apiInstance.fetchUserConsents().catch(function(){return console.warn(ef.CROSS_DEVICE_DATA_NOT_AVAILABLE),[]})];case 4:return c=p.sent(),r?-1===i.indexOf(s)?[3,6]:[4,this.apiInstance.fetchUserTcfData().catch(function(){return console.warn(ef.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null})]:[3,8];case 5:return u=p.sent(),[3,8];case 6:return this.settingsV2.isTcfHistoryV2Disabled()?[3,8]:[4,this.apiInstance.fetchUserTcfDataV2().catch(function(){return console.warn(ef.CROSS_DEVICE_TCF_DATA_NOT_AVAILABLE),null})];case 7:u=p.sent(),p.label=8;case 8:return r&&!u&&eP.isCrossDomainAvailable()?[4,this.getCrossDomainSessionData()]:[3,10];case 9:(h=p.sent())&&h.tcf&&h.controllerId===e&&(u=h.tcf),p.label=10;case 10:return[2,U(U({consents:c,controllerId:e,language:this.apiInstance.getJsonFileLanguage()},null!==u&&{tcf:u}),null!==l&&{ccpa:l})]}})})},e.prototype.restoreData=function(e,t){return M(this,void 0,void 0,function(){var n,i,s,r,o,a,c,u,l,d,h,p,g,f,S,v,E,I,T=this;return k(this,function(C){switch(C.label){case 0:return n=e.controllerId,i=e.consents,s=e.tcf,r=e.ccpa,o=this.settingsV2.core,a=this.getDataFacadeServices(t),c=eF.fetchControllerId(),this.controllerIdInstance.value=n,u=eF.fetchTCFData(),l=!1,n&&(eH(i)||!a.length)?(d=nX(i),h=eF.fetchServices(),"onSessionRestored"===e.consents[0].action&&n===c&&h.length===d.length&&h[0].history.length>0&&h[0].history[0].action&&"onSessionRestored"===h[0].history[0].action?[3,5]:[3,1]):[3,5];case 1:return!eH(d)&&a.length?[3,5]:(p=[],g=[],d.forEach(function(e){var t=a.findIndex(function(t){return t.id===e.templateId});if(t>-1){var n=a[t];n.consent.status=e.status;var i=g.findIndex(function(e){return e.id===n.id});-1===i?g.push(n):g[i]=n,a[t]=n;var s=T.settingsV2.getDataTransferSettings(e.settingsVersion);s&&p.push(eJ(s,n,e.action,e.updatedBy,n.categorySlug,{timestamp:"string"==typeof e.timestamp?T.resolveTimestamp(e.timestamp):e.timestamp}))}}),this.settingsV2.data&&this.settingsV2.setControllerId(n),f=void 0,S=void 0,o&&d.length&&(S=eq(d.map(function(e){return e.settingsVersion})).sort(ti)).length&&(f=S[S.length-1]),v=nq(a,p),(E=this.settingsV2.getDataTransferSettings(f))?c&&n&&n!==c?[4,eF.clearAll()]:[3,3]:[3,4]);case 2:C.sent(),C.label=3;case 3:eF.saveSettings(eF.mapSettings(E,v),v),C.label=4;case 4:eH(d)&&eF.setUserActionPerformed(!0),l=!0,C.label=5;case 5:return s&&s.tcString&&(s.tcString!==u.tcString||s.acString!==u.acString)&&(eF.saveTCFData(s),a.length||eF.setUserActionPerformed(!0)),I=this.settingsV2.getCcpaData(),r&&r.ccpaString&&I&&(I.setIsOptedOut(r.ccpaString),eF.setCcpaString(r.ccpaString),r.timestamp?eF.setCcpaTimeStamp(r):eF.clearCcpaData(),eF.setUserActionPerformed(!0)),[2,l]}})})},e.prototype.getDataFacadeServices=function(e){var t=this.settingsV2.checkIfServiceNameExists,n=e.categories,i=e.consentTemplates;if(i.length>0&&t(i))return i.map(function(e){var t,i=n.find(function(t){return t.categorySlug===e.categorySlug});return{categorySlug:e.categorySlug,consent:nN(e,i),id:e.templateId,name:(null==(t=e._meta)?void 0:t.name)||"",processorId:"".concat(t3(t7())),version:e.version}});var s=this.settingsV2.getServicesDataAndLabels();return s.length>0?s.map(function(e){return{categorySlug:e.categorySlug,consent:e.consent,id:e.id,name:e.name,processorId:e.processorId,version:e.version}}):[]},e.prototype.getMergedAndUpdatedEssentialServices=function(e,t){var n=this,i=[];return{mergedEssentialServices:e.map(function(e){var s,r,o=null==(s=t.services)?void 0:s.find(function(t){return t.id===e.id});return o&&(e.consent.history=o.history,e.consent.status=!0,e.processorId=o.processorId,e.categorySlug=(null==(r=n.settingsV2.getCategoriesBaseData().find(function(t){return t.services.some(function(t){return t.id===e.id})}))?void 0:r.slug)||"",o.status||i.push(e)),e}),updatedEssentialServices:i}},e.prototype.getMergedNonEssentialServices=function(e,t){return e.map(function(e){var n,i,s=null==(n=t.services)?void 0:n.find(function(t){return t.id===e.id});if(s)return(r=e).consent.history=s.history,r.consent.status=s.status,r.processorId=s.processorId,r;if(0===e.consent.history.length){var r=e,o=null==(i=t.services)?void 0:i.find(function(e){return e.history.length>0});return r.consent.history=[{action:"onInitialPageLoad",language:e.language?e.language.selected:"en",status:e.consent.status,timestamp:(new Date).getTime(),type:"implicit",versions:o&&o.history.length>0?o.history[0].versions:{application:"",service:e.version,settings:""}}],r}return e})},e.prototype.resolveTimestamp=function(e){return 10===e.length?1e3*parseInt(e,10):parseInt(e,10)},e}(),nq=function(e,t){return e.map(function(e){var n=t.filter(function(t){return t.service.id===e.id});if(eH(n)){var i=e.consent.history,s=i.length+n.length,r=s<=3?i:i.slice(s-3);return e.consent.history=G(G([],F(r),!1),F(n.map(function(e){return nz(e)})),!1),e}return e})},nQ=function(e,t,n){return e.reduce(function(e,i){var s=t.find(function(e){return e.id===i.id}),r=n.find(function(e){return e.id===i.id});return s&&r?G(G([],F(e),!1),[{categorySlug:i.categorySlug,consent:s.consent,id:i.id,language:i.language,name:r.name,processorId:i.processorId,version:i.version}],!1):G([],F(e),!1)},[])},nz=function(e){return{action:e.consent.action,language:e.settings.language,status:e.consent.status,timestamp:e.timestamp,type:e.consent.type,versions:{application:e.applicationVersion,service:e.service.version,settings:e.settings.version}}},nX=function(e){return e.filter(function(e){return!tH.includes(e.action)})},n$=a(function e(t,n,i,s){r(this,e),u(this,"eventName",void 0),u(this,"listenerId",void 0),u(this,"data",void 0),u(this,"pingData",void 0),this.eventName=t,this.listenerId=n,this.data=i,this.pingData=s}),nZ=a(function e(t){r(this,e),u(this,"gppVersion",void 0),u(this,"cmpStatus",void 0),u(this,"cmpDisplayStatus",void 0),u(this,"signalStatus",void 0),u(this,"supportedAPIs",void 0),u(this,"cmpId",void 0),u(this,"sectionList",void 0),u(this,"applicableSections",void 0),u(this,"gppString",void 0),u(this,"parsedSections",void 0),this.gppVersion=t.gppVersion,this.cmpStatus=t.cmpStatus,this.cmpDisplayStatus=t.cmpDisplayStatus,this.signalStatus=t.signalStatus,this.supportedAPIs=t.supportedAPIs,this.cmpId=t.cmpId,this.sectionList=t.gppModel.getSectionIds(),this.applicableSections=t.applicableSections,this.gppString=t.gppModel.encode(),this.parsedSections=t.gppModel.toObject()}),n0=a(function e(t,n,i){r(this,e),u(this,"callback",void 0),u(this,"parameter",void 0),u(this,"success",!0),u(this,"cmpApiContext",void 0),this.cmpApiContext=t,Object.assign(this,{callback:n,parameter:i})},[{key:"execute",value:function(){try{return this.respond()}catch(e){return this.invokeCallback(null),null}}},{key:"invokeCallback",value:function(e){this.callback&&this.callback(e,null!==e)}}]),n1=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,n0),a(e,[{key:"respond",value:function(){var e=new n$("listenerRegistered",this.cmpApiContext.eventQueue.add({callback:this.callback,parameter:this.parameter}),!0,new nZ(this.cmpApiContext));this.invokeCallback(e)}}])}(),n2=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,n0),a(e,[{key:"respond",value:function(){var e=new nZ(this.cmpApiContext);this.invokeCallback(e)}}])}(),n3=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,n0),a(e,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw Error("<section>.<field> parameter required");var e=this.parameter.split(".");if(2!=e.length)throw Error("Field name must be in the format <section>.<fieldName>");var t=e[0],n=e[1],i=this.cmpApiContext.gppModel.getFieldValue(t,n);this.invokeCallback(i)}}])}(),n4=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,n0),a(e,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw Error("<section> parameter required");var e=null;this.cmpApiContext.gppModel.hasSection(this.parameter)&&(e=this.cmpApiContext.gppModel.getSection(this.parameter)),this.invokeCallback(e)}}])}(),n6=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,n0),a(e,[{key:"respond",value:function(){if(!this.parameter||0===this.parameter.length)throw Error("<section>[.version] parameter required");var e=this.cmpApiContext.gppModel.hasSection(this.parameter);this.invokeCallback(e)}}])}();(n5=n_||(n_={})).ADD_EVENT_LISTENER="addEventListener",n5.GET_FIELD="getField",n5.GET_SECTION="getSection",n5.HAS_SECTION="hasSection",n5.PING="ping",n5.REMOVE_EVENT_LISTENER="removeEventListener";var n5,n8,n7,n9,ie,it,ii,is=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,n0),a(e,[{key:"respond",value:function(){var e=this.parameter,t=this.cmpApiContext.eventQueue.remove(e),n=new n$("listenerRemoved",e,t,new nZ(this.cmpApiContext));this.invokeCallback(n)}}])}();n8=n_.ADD_EVENT_LISTENER,n7=n_.GET_FIELD,n9=n_.GET_SECTION,ie=n_.HAS_SECTION,it=n_.PING,ii=n_.REMOVE_EVENT_LISTENER;var ir,io,ia,ic,iu=a(function e(){r(this,e)});u(iu,n8,n1),u(iu,n7,n3),u(iu,n9,n4),u(iu,ie,n6),u(iu,it,n2),u(iu,ii,is),(iv=ir||(ir={})).STUB="stub",iv.LOADING="loading",iv.LOADED="loaded",iv.ERROR="error",(iE=io||(io={})).VISIBLE="visible",iE.HIDDEN="hidden",iE.DISABLED="disabled",(iI=ia||(ia={})).GPP_LOADED="gpploaded",iI.CMP_UI_SHOWN="cmpuishown",iI.USER_ACTION_COMPLETE="useractioncomplete",(iT=ic||(ic={})).NOT_READY="not ready",iT.READY="ready";var il=a(function e(t,n){if(r(this,e),u(this,"callQueue",void 0),u(this,"customCommands",void 0),u(this,"cmpApiContext",void 0),this.cmpApiContext=t,n){var i=n_.ADD_EVENT_LISTENER;if(null!=n&&n[i]||(i=n_.REMOVE_EVENT_LISTENER,null!=n&&n[i]))throw Error("Built-In Custom Commmand for ".concat(i," not allowed"));this.customCommands=n}try{this.callQueue=window.__gpp()||[]}catch(e){this.callQueue=[]}finally{window.__gpp=this.apiCall.bind(this),this.purgeQueuedCalls()}},[{key:"apiCall",value:function(e,t,n,i){if("string"!=typeof e)t(null,!1);else{if(t&&"function"!=typeof t)throw Error("invalid callback function");this.isCustomCommand(e)?this.customCommands[e](t,n):this.isBuiltInCommand(e)?new iu[e](this.cmpApiContext,t,n).execute():t&&t(null,!1)}}},{key:"purgeQueuedCalls",value:function(){var e=this.callQueue;this.callQueue=[],e.forEach(function(e){var t;(t=window).__gpp.apply(t,I(e))})}},{key:"isCustomCommand",value:function(e){return this.customCommands&&"function"==typeof this.customCommands[e]}},{key:"isBuiltInCommand",value:function(e){return void 0!==iu[e]}}]),id=a(function e(t){r(this,e),u(this,"eventQueue",new Map),u(this,"queueNumber",1e3),u(this,"cmpApiContext",void 0),this.cmpApiContext=t;try{for(var n=window.__gpp("events")||[],i=0;i<n.length;i++){var s=n[i];this.eventQueue.set(s.id,{callback:s.callback,parameter:s.parameter})}}catch(e){console.log(e)}},[{key:"add",value:function(e){return this.eventQueue.set(this.queueNumber,e),this.queueNumber++}},{key:"get",value:function(e){return this.eventQueue.get(e)}},{key:"remove",value:function(e){return this.eventQueue.delete(e)}},{key:"exec",value:function(e,t){var n=this;this.eventQueue.forEach(function(i,s){var r=new n$(e,s,t,new nZ(n.cmpApiContext));i.callback(r,!0)})}},{key:"clear",value:function(){this.queueNumber=1e3,this.eventQueue.clear()}},{key:"size",get:function(){return this.eventQueue.size}}]),ih=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="DecodingError",n}return h(e,_(Error)),a(e)}(),ip=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){var n=[];if(e>=1)for(n.push(1);e>=2*n[0];)n.unshift(2*n[0]);for(var i="",s=0;s<n.length;s++){var r=n[s];e>=r?(i+="1",e-=r):i+="0"}for(;i.length<t;)i="0"+i;return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new ih("Undecodable FixedInteger '"+e+"'");for(var t=0,n=[],i=0;i<e.length;i++)n[e.length-(i+1)]=0===i?1:2*n[e.length-i];for(var s=0;s<e.length;s++)"1"===e.charAt(s)&&(t+=n[s]);return t}}]),ig=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="EncodingError",n}return h(e,_(Error)),a(e)}(),iS=function(){function e(){r(this,e)}return a(e,[{key:"encode",value:function(t){if(!/^[0-1]*$/.test(t))throw new ig("Unencodable Base64Url '"+t+"'");t=this.pad(t);for(var n="",i=0;i<=t.length-6;){var s=t.substring(i,i+6);try{var r=ip.decode(s);n+=e.DICT.charAt(r),i+=6}catch(e){throw new ig("Unencodable Base64Url '"+t+"'")}}return n}},{key:"decode",value:function(t){if(!/^[A-Za-z0-9\-_]*$/.test(t))throw new ih("Undecodable Base64URL string");for(var n="",i=0;i<t.length;i++){var s=t.charAt(i),r=e.REVERSE_DICT.get(s);n+=ip.encode(r,6)}return n}}])}();u(iS,"DICT","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),u(iS,"REVERSE_DICT",new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]));var iv,iE,iI,iT,iC,iy=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,iS),a(e,[{key:"pad",value:function(e){for(;e.length%8>0;)e+="0";for(;e.length%6>0;)e+="0";return e}}])}(),i_=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){var t=[];if(e>=1&&(t.push(1),e>=2)){t.push(2);for(var n=2;e>=t[n-1]+t[n-2];)t.push(t[n-1]+t[n-2]),n++}for(var i="1",s=t.length-1;s>=0;s--){var r=t[s];e>=r?(i="1"+i,e-=r):i="0"+i}return i}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<2||e.indexOf("11")!==e.length-2)throw new ih("Undecodable FibonacciInteger '"+e+"'");for(var t=0,n=[],i=0;i<e.length-1;i++)0===i?n.push(1):1===i?n.push(2):n.push(n[i-1]+n[i-2]);for(var s=0;s<e.length-1;s++)"1"===e.charAt(s)&&(t+=n[s]);return t}}]),iA=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){if(!0===e)return"1";if(!1===e)return"0";throw new ig("Unencodable Boolean '"+e+"'")}},{key:"decode",value:function(e){if("1"===e)return!0;if("0"===e)return!1;throw new ih("Undecodable Boolean '"+e+"'")}}]),im=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){e=e.sort(function(e,t){return e-t});for(var t=[],n=0,i=0;i<e.length;){for(var s=i;s<e.length-1&&e[s]+1===e[s+1];)s++;t.push(e.slice(i,s+1)),i=s+1}for(var r=ip.encode(t.length,12),o=0;o<t.length;o++)if(1==t[o].length){var a=t[o][0]-n;n=t[o][0],r+="0"+i_.encode(a)}else{var c=t[o][0]-n;n=t[o][0];var u=t[o][t[o].length-1]-n;n=t[o][t[o].length-1],r+="1"+i_.encode(c)+i_.encode(u)}return r}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new ih("Undecodable FibonacciIntegerRange '"+e+"'");for(var t=[],n=ip.decode(e.substring(0,12)),i=0,s=12,r=0;r<n;r++){var o=iA.decode(e.substring(s,s+1));if(s++,!0===o){var a=e.indexOf("11",s),c=i_.decode(e.substring(s,a+2))+i;i=c,s=a+2,a=e.indexOf("11",s);var u=i_.decode(e.substring(s,a+2))+i;i=u,s=a+2;for(var l=c;l<=u;l++)t.push(l)}else{var d=e.indexOf("11",s),h=i_.decode(e.substring(s,d+2))+i;i=h,t.push(h),s=d+2}}return t}}]),iO=a(function e(){r(this,e),u(this,"value",void 0)},[{key:"hasValue",value:function(){return void 0!==this.value&&null!==this.value}},{key:"getValue",value:function(){return this.value}},{key:"setValue",value:function(e){this.value=e}}]),iN=function(){function e(t){var n;return r(this,e),(n=s(this,e)).setValue(t),n}return h(e,iO),a(e,[{key:"encode",value:function(){return im.encode(this.value)}},{key:"decode",value:function(e){this.value=im.decode(e)}},{key:"substring",value:function(e,t){for(var n=ip.decode(e.substring(t,t+12)),i=t+12,s=0;s<n;s++)i="1"===e.charAt(i)?e.indexOf("11",e.indexOf("11",i+1)+2)+2:e.indexOf("11",i+1)+2;return e.substring(t,i)}},{key:"getValue",value:function(){return I(E(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){E(e,"setValue",this,3)([Array.from(new Set(t)).sort(function(e,t){return e-t})])}}])}(),ib=function(){function e(t,n){var i;return r(this,e),u(i=s(this,e),"bitStringLength",void 0),i.bitStringLength=t,i.setValue(n),i}return h(e,iO),a(e,[{key:"encode",value:function(){return ip.encode(this.value,this.bitStringLength)}},{key:"decode",value:function(e){this.value=ip.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.bitStringLength)}}])}();(iL=iC||(iC={})).ID="Id",iL.VERSION="Version",iL.SECTION_IDS="SectionIds";var iD=a(function e(t,n){r(this,e),u(this,"fields",void 0),u(this,"fieldOrder",void 0),this.fields=t,this.fieldOrder=n},[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getFieldOrder",value:function(){return this.fieldOrder}},{key:"encodeToBitString",value:function(){for(var e="",t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(!this.fields.has(n))throw Error("Field not found: '"+n+"'");e+=this.fields.get(n).encode()}return e}},{key:"decodeFromBitString",value:function(e){for(var t=0,n=0;n<this.fieldOrder.length;n++){var i=this.fieldOrder[n];if(!this.fields.has(i))throw Error("Field not found: '"+i+"'");var s=this.fields.get(i),r=s.substring(e,t);s.decode(r),t+=r.length}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.fieldOrder.length;t++){var n=this.fieldOrder[t];if(this.fields.has(n)){var i=this.fields.get(n).getValue();e[n]=i}}return e}}]),iR=function(){function e(t){r(this,e);var n,i=new Map;return i.set(iC.ID.toString(),new ib(6,e.ID)),i.set(iC.VERSION.toString(),new ib(6,e.VERSION)),i.set(iC.SECTION_IDS.toString(),new iN([])),u(n=s(this,e,[i,[iC.ID.toString(),iC.VERSION.toString(),iC.SECTION_IDS.toString()]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,iD),a(e,[{key:"encode",value:function(){var e=this.encodeToBitString();return this.base64UrlEncoder.encode(e)}},{key:"decode",value:function(e){var t=this.base64UrlEncoder.decode(e);this.decodeFromBitString(t)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(iR,"ID",3),u(iR,"VERSION",1),u(iR,"NAME","header");var iL,iw,iP=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="InvalidFieldError",n}return h(e,_(Error)),a(e)}(),iV=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="LazyDecodingError",n}return h(e,ih),a(e)}(),iU=function(){function e(t){var n;return r(this,e),(n=s(this,e)).setValue(t),n}return h(e,iO),a(e,[{key:"encode",value:function(){return iA.encode(this.value)}},{key:"decode",value:function(e){this.value=iA.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+1)}}])}(),iM=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){return e?ip.encode(Math.round(e.getTime()/100),36):ip.encode(0,36)}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||36!==e.length)throw new ih("Undecodable Datetime '"+e+"'");return new Date(100*ip.decode(e))}}]),ik=function(){function e(t){var n;return r(this,e),(n=s(this,e)).setValue(t),n}return h(e,iO),a(e,[{key:"encode",value:function(){return iM.encode(this.value)}},{key:"decode",value:function(e){this.value=iM.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+36)}}])}(),iF=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){for(var n="",i=0;i<e.length;i++)n+=iA.encode(e[i]);for(;n.length<t;)n+="0";return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e))throw new ih("Undecodable FixedBitfield '"+e+"'");for(var t=[],n=0;n<e.length;n++)t.push(iA.decode(e.substring(n,n+1)));return t}}]),iG=function(){function e(t,n){var i;return r(this,e),u(i=s(this,e),"getLength",void 0),i.getLength=t,i.setValue(n),i}return h(e,iO),a(e,[{key:"encode",value:function(){return iF.encode(this.value,this.getLength())}},{key:"decode",value:function(e){this.value=iF.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.getLength())}},{key:"getValue",value:function(){return I(E(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){for(var n=this.getLength(),i=I(t),s=i.length;s<n;s++)i.push(!1);i.length>n&&(i=i.slice(0,n)),E(e,"setValue",this,3)([I(i)])}}])}(),ix=function(){function e(t){var n;return r(this,e),u(n=s(this,e),"numElements",void 0),n.numElements=t.length,n.setValue(t),n}return h(e,iO),a(e,[{key:"encode",value:function(){return iF.encode(this.value,this.numElements)}},{key:"decode",value:function(e){this.value=iF.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.numElements)}},{key:"getValue",value:function(){return I(E(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){for(var n=I(t),i=n.length;i<this.numElements;i++)n.push(!1);n.length>this.numElements&&(n=n.slice(0,this.numElements)),E(e,"setValue",this,3)([n])}}])}(),iB=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){for(;e.length<t;)e+=" ";for(var n="",i=0;i<e.length;i++){var s=e.charCodeAt(i);if(32===s)n+=ip.encode(63,6);else{if(!(s>=65))throw new ig("Unencodable FixedString '"+e+"'");n+=ip.encode(e.charCodeAt(i)-65,6)}}return n}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length%6!=0)throw new ih("Undecodable FixedString '"+e+"'");for(var t="",n=0;n<e.length;n+=6){var i=ip.decode(e.substring(n,n+6));t+=63===i?" ":String.fromCharCode(i+65)}return t.trim()}}]),iH=function(){function e(t,n){var i;return r(this,e),u(i=s(this,e),"stringLength",void 0),i.stringLength=t,i.setValue(n),i}return h(e,iO),a(e,[{key:"encode",value:function(){return iB.encode(this.value,this.stringLength)}},{key:"decode",value:function(e){this.value=iB.decode(e)}},{key:"substring",value:function(e,t){return e.substring(t,t+6*this.stringLength)}}])}(),ij=a(function e(t,n){r(this,e),u(this,"fields",void 0),u(this,"segments",void 0),this.fields=t,this.segments=n},[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e).getValue():null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw Error(e+" not found");this.fields.get(e).setValue(t)}},{key:"getSegments",value:function(){return this.segments}},{key:"encodeSegmentsToBitStrings",value:function(){for(var e=[],t=0;t<this.segments.length;t++){for(var n="",i=0;i<this.segments[t].length;i++){var s=this.segments[t][i];if(!this.fields.has(s))throw Error("Field not found: '"+s+"'");try{n+=this.fields.get(s).encode()}catch(e){throw Error("Unable to encode "+s)}}e.push(n)}return e}},{key:"decodeSegmentsFromBitStrings",value:function(e){for(var t=0;t<this.segments.length&&t<e.length;t++){var n=e[t];if(n&&n.length>0)for(var i=0,s=0;s<this.segments[t].length;s++){var r=this.segments[t][s];if(!this.fields.has(r))throw Error("Field not found: '"+r+"'");try{var o=this.fields.get(r),a=o.substring(n,i);o.decode(a),i+=a.length}catch(e){throw Error("Unable to decode "+r)}}}}},{key:"toObj",value:function(){for(var e={},t=0;t<this.segments.length;t++)for(var n=0;n<this.segments[t].length;n++){var i=this.segments[t][n];if(this.fields.has(i)){var s=this.fields.get(i).getValue();e[i]=s}}return e}}]),iY=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){e.sort(function(e,t){return e-t});for(var t=[],n=0;n<e.length;){for(var i=n;i<e.length-1&&e[i]+1===e[i+1];)i++;t.push(e.slice(n,i+1)),n=i+1}for(var s=ip.encode(t.length,12),r=0;r<t.length;r++)1===t[r].length?s+="0"+ip.encode(t[r][0],16):s+="1"+ip.encode(t[r][0],16)+ip.encode(t[r][t[r].length-1],16);return s}},{key:"decode",value:function(e){if(!/^[0-1]*$/.test(e)||e.length<12)throw new ih("Undecodable FixedIntegerRange '"+e+"'");for(var t=[],n=ip.decode(e.substring(0,12)),i=12,s=0;s<n;s++){var r=iA.decode(e.substring(i,i+1));if(i++,!0===r){var o=ip.decode(e.substring(i,i+16));i+=16;var a=ip.decode(e.substring(i,i+16));i+=16;for(var c=o;c<=a;c++)t.push(c)}else{var u=ip.decode(e.substring(i,i+16));t.push(u),i+=16}}return t}}]),iJ=function(){function e(t){var n;return r(this,e),(n=s(this,e)).setValue(t),n}return h(e,iO),a(e,[{key:"encode",value:function(){return iY.encode(this.value)}},{key:"decode",value:function(e){this.value=iY.decode(e)}},{key:"substring",value:function(e,t){for(var n=ip.decode(e.substring(t,t+12)),i=t+12,s=0;s<n;s++)"1"===e.charAt(i)?i+=33:i+=17;return e.substring(t,i)}},{key:"getValue",value:function(){return I(E(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){E(e,"setValue",this,3)([Array.from(new Set(t)).sort(function(e,t){return e-t})])}}])}(),iW=function(){function e(t){var n;return r(this,e),(n=s(this,e)).setValue(t),n}return h(e,iO),a(e,[{key:"encode",value:function(){var e=this.value.length>0?this.value[this.value.length-1]:0,t=iY.encode(this.value);if(t.length<=e)return ip.encode(e,16)+"1"+t;for(var n=[],i=0,s=0;s<e;s++)s===this.value[i]-1?(n[s]=!0,i++):n[s]=!1;return ip.encode(e,16)+"0"+iF.encode(n,e)}},{key:"decode",value:function(e){if("1"===e.charAt(16))this.value=iY.decode(e.substring(17));else{for(var t=[],n=iF.decode(e.substring(17)),i=0;i<n.length;i++)!0===n[i]&&t.push(i+1);this.value=t}}},{key:"substring",value:function(e,t){var n=ip.decode(e.substring(t,t+16));return"1"===e.charAt(t+16)?e.substring(t,t+17)+new iJ([]).substring(e,t+17):e.substring(t,t+17+n)}},{key:"getValue",value:function(){return I(E(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){E(e,"setValue",this,3)([Array.from(new Set(t)).sort(function(e,t){return e-t})])}}])}();(iK=iw||(iw={})).VERSION="Version",iK.CREATED="Created",iK.LAST_UPDATED="LastUpdated",iK.CMP_ID="CmpId",iK.CMP_VERSION="CmpVersion",iK.CONSENT_SCREEN="ConsentScreen",iK.CONSENT_LANGUAGE="ConsentLanguage",iK.VENDOR_LIST_VERSION="VendorListVersion",iK.POLICY_VERSION="PolicyVersion",iK.IS_SERVICE_SPECIFIC="IsServiceSpecific",iK.USE_NON_STANDARD_STACKS="UseNonStandardStacks",iK.SPECIAL_FEATURE_OPTINS="SpecialFeatureOptins",iK.PURPOSE_CONSENTS="PurposeConsents",iK.PURPOSE_LEGITIMATE_INTERESTS="PurposeLegitimateInterests",iK.PURPOSE_ONE_TREATMENT="PurposeOneTreatment",iK.PUBLISHER_COUNTRY_CODE="PublisherCountryCode",iK.VENDOR_CONSENTS="VendorConsents",iK.VENDOR_LEGITIMATE_INTERESTS="VendorLegitimateInterests",iK.PUBLISHER_RESTRICTIONS="PublisherRestrictions",iK.PUBLISHER_PURPOSES_SEGMENT_TYPE="PublisherPurposesSegmentType",iK.PUBLISHER_CONSENTS="PublisherConsents",iK.PUBLISHER_LEGITIMATE_INTERESTS="PublisherLegitimateInterests",iK.NUM_CUSTOM_PURPOSES="NumCustomPurposes",iK.PUBLISHER_CUSTOM_CONSENTS="PublisherCustomConsents",iK.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS="PublisherCustomLegitimateInterests",iK.VENDORS_ALLOWED_SEGMENT_TYPE="VendorsAllowedSegmentType",iK.VENDORS_ALLOWED="VendorsAllowed",iK.VENDORS_DISCLOSED_SEGMENT_TYPE="VendorsDisclosedSegmentType",iK.VENDORS_DISCLOSED="VendorsDisclosed";var iK,iq,iQ=function(){function e(){return r(this,e),s(this,e,arguments)}return h(e,iS),a(e,[{key:"pad",value:function(e){for(;e.length%24>0;)e+="0";return e}}])}(),iz=function(){function e(t){r(this,e);var n,i=new Map,o=new Date;i.set(iw.VERSION.toString(),new ib(6,e.VERSION)),i.set(iw.CREATED.toString(),new ik(o)),i.set(iw.LAST_UPDATED.toString(),new ik(o)),i.set(iw.CMP_ID.toString(),new ib(12,0)),i.set(iw.CMP_VERSION.toString(),new ib(12,0)),i.set(iw.CONSENT_SCREEN.toString(),new ib(6,0)),i.set(iw.CONSENT_LANGUAGE.toString(),new iH(2,"EN")),i.set(iw.VENDOR_LIST_VERSION.toString(),new ib(12,0)),i.set(iw.POLICY_VERSION.toString(),new ib(6,2)),i.set(iw.IS_SERVICE_SPECIFIC.toString(),new iU(!1)),i.set(iw.USE_NON_STANDARD_STACKS.toString(),new iU(!1)),i.set(iw.SPECIAL_FEATURE_OPTINS.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iw.PURPOSE_CONSENTS.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iw.PURPOSE_LEGITIMATE_INTERESTS.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iw.PURPOSE_ONE_TREATMENT.toString(),new iU(!1)),i.set(iw.PUBLISHER_COUNTRY_CODE.toString(),new iH(2,"AA")),i.set(iw.VENDOR_CONSENTS.toString(),new iW([])),i.set(iw.VENDOR_LEGITIMATE_INTERESTS.toString(),new iW([])),i.set(iw.PUBLISHER_RESTRICTIONS.toString(),new iJ([])),i.set(iw.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),new ib(3,3)),i.set(iw.PUBLISHER_CONSENTS.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iw.PUBLISHER_LEGITIMATE_INTERESTS.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var a=new ib(6,0);return i.set(iw.NUM_CUSTOM_PURPOSES.toString(),a),i.set(iw.PUBLISHER_CUSTOM_CONSENTS.toString(),new iG(function(){return a.getValue()},[])),i.set(iw.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString(),new iG(function(){return a.getValue()},[])),i.set(iw.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),new ib(3,2)),i.set(iw.VENDORS_ALLOWED.toString(),new iW([])),i.set(iw.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),new ib(3,1)),i.set(iw.VENDORS_DISCLOSED.toString(),new iW([])),u(n=s(this,e,[i,[[iw.VERSION.toString(),iw.CREATED.toString(),iw.LAST_UPDATED.toString(),iw.CMP_ID.toString(),iw.CMP_VERSION.toString(),iw.CONSENT_SCREEN.toString(),iw.CONSENT_LANGUAGE.toString(),iw.VENDOR_LIST_VERSION.toString(),iw.POLICY_VERSION.toString(),iw.IS_SERVICE_SPECIFIC.toString(),iw.USE_NON_STANDARD_STACKS.toString(),iw.SPECIAL_FEATURE_OPTINS.toString(),iw.PURPOSE_CONSENTS.toString(),iw.PURPOSE_LEGITIMATE_INTERESTS.toString(),iw.PURPOSE_ONE_TREATMENT.toString(),iw.PUBLISHER_COUNTRY_CODE.toString(),iw.VENDOR_CONSENTS.toString(),iw.VENDOR_LEGITIMATE_INTERESTS.toString(),iw.PUBLISHER_RESTRICTIONS.toString()],[iw.PUBLISHER_PURPOSES_SEGMENT_TYPE.toString(),iw.PUBLISHER_CONSENTS.toString(),iw.PUBLISHER_LEGITIMATE_INTERESTS.toString(),iw.NUM_CUSTOM_PURPOSES.toString(),iw.PUBLISHER_CUSTOM_CONSENTS.toString(),iw.PUBLISHER_CUSTOM_LEGITIMATE_INTERESTS.toString()],[iw.VENDORS_ALLOWED_SEGMENT_TYPE.toString(),iw.VENDORS_ALLOWED.toString()],[iw.VENDORS_DISCLOSED_SEGMENT_TYPE.toString(),iw.VENDORS_DISCLOSED.toString()]]]),"base64UrlEncoder",new iQ),t&&t.length>0&&n.decode(t),n}return h(e,ij),a(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),this.getFieldValue(iw.IS_SERVICE_SPECIFIC.toString())?e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])):(e[2]&&e[2].length>0&&t.push(this.base64UrlEncoder.encode(e[2])),e[3]&&e[3].length>0&&t.push(this.base64UrlEncoder.encode(e[3]))),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=0;i<t.length;i++){var s=this.base64UrlEncoder.decode(t[i]);switch(s.substring(0,3)){case"000":n[0]=s;break;case"001":n[3]=s;break;case"010":n[2]=s;break;case"011":n[1]=s;break;default:throw new ih("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(t,n){if(E(e,"setFieldValue",this,3)([t,n]),t!==iw.CREATED.toString()&&t!==iw.LAST_UPDATED.toString()){var i=new Date,s=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()));this.setFieldValue(iw.CREATED.toString(),s),this.setFieldValue(iw.LAST_UPDATED.toString(),s)}}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(iz,"ID",2),u(iz,"VERSION",2),u(iz,"NAME","tcfeuv2"),(iX=iq||(iq={})).VERSION="Version",iX.CREATED="Created",iX.LAST_UPDATED="LastUpdated",iX.CMP_ID="CmpId",iX.CMP_VERSION="CmpVersion",iX.CONSENT_SCREEN="ConsentScreen",iX.CONSENT_LANGUAGE="ConsentLanguage",iX.VENDOR_LIST_VERSION="VendorListVersion",iX.TCF_POLICY_VERSION="TcfPolicyVersion",iX.USE_NON_STANDARD_STACKS="UseNonStandardStacks",iX.SPECIAL_FEATURE_EXPRESS_CONSENT="SpecialFeatureExpressConsent",iX.PURPOSES_EXPRESS_CONSENT="PurposesExpressConsent",iX.PURPOSES_IMPLIED_CONSENT="PurposesImpliedConsent",iX.VENDOR_EXPRESS_CONSENT="VendorExpressConsent",iX.VENDOR_IMPLIED_CONSENT="VendorImpliedConsent",iX.SEGMENT_TYPE="SegmentType",iX.PUB_PURPOSES_EXPRESS_CONSENT="PubPurposesExpressConsent",iX.PUB_PURPOSES_IMPLIED_CONSENT="PubPurposesImpliedConsent",iX.NUM_CUSTOM_PURPOSES="NumCustomPurposes",iX.CUSTOM_PURPOSES_EXPRESS_CONSENT="CustomPurposesExpressConsent",iX.CUSTOM_PURPOSES_IMPLIED_CONSENT="CustomPurposesImpliedConsent";var iX,i$,iZ=function(){function e(t){r(this,e);var n,i=new Map,o=new Date;i.set(iq.VERSION.toString(),new ib(6,e.VERSION)),i.set(iq.CREATED.toString(),new ik(o)),i.set(iq.LAST_UPDATED.toString(),new ik(o)),i.set(iq.CMP_ID.toString(),new ib(12,0)),i.set(iq.CMP_VERSION.toString(),new ib(12,0)),i.set(iq.CONSENT_SCREEN.toString(),new ib(6,0)),i.set(iq.CONSENT_LANGUAGE.toString(),new iH(2,"EN")),i.set(iq.VENDOR_LIST_VERSION.toString(),new ib(12,0)),i.set(iq.TCF_POLICY_VERSION.toString(),new ib(6,2)),i.set(iq.USE_NON_STANDARD_STACKS.toString(),new iU(!1)),i.set(iq.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iq.PURPOSES_EXPRESS_CONSENT.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iq.PURPOSES_IMPLIED_CONSENT.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iq.VENDOR_EXPRESS_CONSENT.toString(),new iW([])),i.set(iq.VENDOR_IMPLIED_CONSENT.toString(),new iW([])),i.set(iq.SEGMENT_TYPE.toString(),new ib(3,3)),i.set(iq.PUB_PURPOSES_EXPRESS_CONSENT.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1])),i.set(iq.PUB_PURPOSES_IMPLIED_CONSENT.toString(),new ix([!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1,!1]));var a=new ib(6,0);return i.set(iq.NUM_CUSTOM_PURPOSES.toString(),a),i.set(iq.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),new iG(function(){return a.getValue()},[])),i.set(iq.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString(),new iG(function(){return a.getValue()},[])),u(n=s(this,e,[i,[[iq.VERSION.toString(),iq.CREATED.toString(),iq.LAST_UPDATED.toString(),iq.CMP_ID.toString(),iq.CMP_VERSION.toString(),iq.CONSENT_SCREEN.toString(),iq.CONSENT_LANGUAGE.toString(),iq.VENDOR_LIST_VERSION.toString(),iq.TCF_POLICY_VERSION.toString(),iq.USE_NON_STANDARD_STACKS.toString(),iq.SPECIAL_FEATURE_EXPRESS_CONSENT.toString(),iq.PURPOSES_EXPRESS_CONSENT.toString(),iq.PURPOSES_IMPLIED_CONSENT.toString(),iq.VENDOR_EXPRESS_CONSENT.toString(),iq.VENDOR_IMPLIED_CONSENT.toString()],[iq.SEGMENT_TYPE.toString(),iq.PUB_PURPOSES_EXPRESS_CONSENT.toString(),iq.PUB_PURPOSES_IMPLIED_CONSENT.toString(),iq.NUM_CUSTOM_PURPOSES.toString(),iq.CUSTOM_PURPOSES_EXPRESS_CONSENT.toString(),iq.CUSTOM_PURPOSES_IMPLIED_CONSENT.toString()]]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,ij),a(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=0;i<t.length;i++){var s=this.base64UrlEncoder.decode(t[i]);switch(s.substring(0,3)){case"000":n[0]=s;break;case"011":n[1]=s;break;default:throw new ih("Unable to decode segment '"+t[i]+"'")}}this.decodeSegmentsFromBitStrings(n)}},{key:"setFieldValue",value:function(t,n){if(E(e,"setFieldValue",this,3)([t,n]),t!==iq.CREATED.toString()&&t!==iq.LAST_UPDATED.toString()){var i=new Date,s=new Date(Date.UTC(i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()));this.setFieldValue(iq.CREATED.toString(),s),this.setFieldValue(iq.LAST_UPDATED.toString(),s)}}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(iZ,"ID",5),u(iZ,"VERSION",1),u(iZ,"NAME","tcfcav1"),(i1=i$||(i$={})).VERSION="Version",i1.NOTICE="Notice",i1.OPT_OUT_SALE="OptOutSale",i1.LSPA_COVERED="LspaCovered";var i0=function(){function e(t){r(this,e),u(this,"fields",void 0),this.fields=new Map,this.fields.set(i$.VERSION.toString(),e.VERSION),this.fields.set(i$.NOTICE.toString(),"-"),this.fields.set(i$.OPT_OUT_SALE.toString(),"-"),this.fields.set(i$.LSPA_COVERED.toString(),"-"),t&&t.length>0&&this.decode(t)}return a(e,[{key:"hasField",value:function(e){return this.fields.has(e)}},{key:"getFieldValue",value:function(e){return this.fields.has(e)?this.fields.get(e):null}},{key:"setFieldValue",value:function(e,t){if(!this.fields.has(e))throw new iP(e+" not found");this.fields.set(e,t)}},{key:"toObj",value:function(){var e,t={},n=c(this.fields.keys());try{for(n.s();!(e=n.n()).done;){var i=e.value,s=this.fields.get(i);t[i.toString()]=s}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"encode",value:function(){var e="";return e+=this.getFieldValue(i$.VERSION.toString()),e+=this.getFieldValue(i$.NOTICE.toString()),e+=this.getFieldValue(i$.OPT_OUT_SALE.toString()),e+=this.getFieldValue(i$.LSPA_COVERED.toString())}},{key:"decode",value:function(e){this.setFieldValue(i$.VERSION.toString(),parseInt(e.charAt(0))),this.setFieldValue(i$.NOTICE.toString(),e.charAt(1)),this.setFieldValue(i$.OPT_OUT_SALE.toString(),e.charAt(2)),this.setFieldValue(i$.LSPA_COVERED.toString(),e.charAt(3))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(i0,"ID",6),u(i0,"VERSION",1),u(i0,"NAME","uspv1");var i1,i2,i3=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t,n){for(var i="",s=0;s<e.length;s++)i+=ip.encode(e[s],t);for(;i.length<t*n;)i+="0";return i}},{key:"decode",value:function(e,t,n){if(!/^[0-1]*$/.test(e))throw new ih("Undecodable FixedInteger '"+e+"'");if(e.length>t*n||e.length%t!=0)throw new ih("Undecodable FixedIntegerList '"+e+"'");for(;e.length<t*n;)e+="0";e.length>t*n&&(e=e.substring(0,t*n));for(var i=[],s=0;s<e.length;s+=t)i.push(ip.decode(e.substring(s,s+t)));for(;i.length<n;)i.push(0);return i}}]),i4=function(){function e(t,n){var i;return r(this,e),u(i=s(this,e),"elementBitStringLength",void 0),u(i,"numElements",void 0),i.elementBitStringLength=t,i.numElements=n.length,i.setValue(n),i}return h(e,iO),a(e,[{key:"encode",value:function(){return i3.encode(this.value,this.elementBitStringLength,this.numElements)}},{key:"decode",value:function(e){this.value=i3.decode(e,this.elementBitStringLength,this.numElements)}},{key:"substring",value:function(e,t){return e.substring(t,t+this.elementBitStringLength*this.numElements)}},{key:"getValue",value:function(){return I(E(e,"getValue",this,3)([]))}},{key:"setValue",value:function(t){for(var n=I(t),i=n.length;i<this.numElements;i++)n.push(0);n.length>this.numElements&&(n=n.slice(0,this.numElements)),E(e,"setValue",this,3)([n])}}])}();(i6=i2||(i2={})).VERSION="Version",i6.SHARING_NOTICE="SharingNotice",i6.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i6.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",i6.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",i6.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",i6.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",i6.SALE_OPT_OUT="SaleOptOut",i6.SHARING_OPT_OUT="SharingOptOut",i6.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",i6.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i6.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i6.PERSONAL_DATA_CONSENTS="PersonalDataConsents",i6.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i6.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i6.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i6.GPC_SEGMENT_TYPE="GpcSegmentType",i6.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i6.GPC="Gpc";var i6,i5,i8=function(){function e(t){r(this,e);var n,i=new Map;return i.set(i2.VERSION.toString(),new ib(6,e.VERSION)),i.set(i2.SHARING_NOTICE.toString(),new ib(2,0)),i.set(i2.SALE_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i2.SHARING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i2.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i2.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i2.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new ib(2,0)),i.set(i2.SALE_OPT_OUT.toString(),new ib(2,0)),i.set(i2.SHARING_OPT_OUT.toString(),new ib(2,0)),i.set(i2.TARGETED_ADVERTISING_OPT_OUT.toString(),new ib(2,0)),i.set(i2.SENSITIVE_DATA_PROCESSING.toString(),new i4(2,[0,0,0,0,0,0,0,0,0,0,0,0])),i.set(i2.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new i4(2,[0,0])),i.set(i2.PERSONAL_DATA_CONSENTS.toString(),new ib(2,0)),i.set(i2.MSPA_COVERED_TRANSACTION.toString(),new ib(2,0)),i.set(i2.MSPA_OPT_OUT_OPTION_MODE.toString(),new ib(2,0)),i.set(i2.MSPA_SERVICE_PROVIDER_MODE.toString(),new ib(2,0)),i.set(i2.GPC_SEGMENT_TYPE.toString(),new ib(2,1)),i.set(i2.GPC_SEGMENT_INCLUDED.toString(),new iU(!0)),i.set(i2.GPC.toString(),new iU(!1)),u(n=s(this,e,[i,[[i2.VERSION.toString(),i2.SHARING_NOTICE.toString(),i2.SALE_OPT_OUT_NOTICE.toString(),i2.SHARING_OPT_OUT_NOTICE.toString(),i2.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),i2.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),i2.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),i2.SALE_OPT_OUT.toString(),i2.SHARING_OPT_OUT.toString(),i2.TARGETED_ADVERTISING_OPT_OUT.toString(),i2.SENSITIVE_DATA_PROCESSING.toString(),i2.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),i2.PERSONAL_DATA_CONSENTS.toString(),i2.MSPA_COVERED_TRANSACTION.toString(),i2.MSPA_OPT_OUT_OPTION_MODE.toString(),i2.MSPA_SERVICE_PROVIDER_MODE.toString()],[i2.GPC_SEGMENT_TYPE.toString(),i2.GPC.toString()]]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,ij),a(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(i2.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new ih("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(i2.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(i8,"ID",7),u(i8,"VERSION",1),u(i8,"NAME","usnatv1"),(i7=i5||(i5={})).VERSION="Version",i7.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",i7.SHARING_OPT_OUT_NOTICE="SharingOptOutNotice",i7.SENSITIVE_DATA_LIMIT_USE_NOTICE="SensitiveDataLimitUseNotice",i7.SALE_OPT_OUT="SaleOptOut",i7.SHARING_OPT_OUT="SharingOptOut",i7.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",i7.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",i7.PERSONAL_DATA_CONSENTS="PersonalDataConsents",i7.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",i7.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",i7.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",i7.GPC_SEGMENT_TYPE="GpcSegmentType",i7.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",i7.GPC="Gpc";var i7,i9,se=function(){function e(t){r(this,e);var n,i=new Map;return i.set(i5.VERSION.toString(),new ib(6,e.VERSION)),i.set(i5.SALE_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i5.SHARING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i5.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),new ib(2,0)),i.set(i5.SALE_OPT_OUT.toString(),new ib(2,0)),i.set(i5.SHARING_OPT_OUT.toString(),new ib(2,0)),i.set(i5.SENSITIVE_DATA_PROCESSING.toString(),new i4(2,[0,0,0,0,0,0,0,0,0])),i.set(i5.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new i4(2,[0,0])),i.set(i5.PERSONAL_DATA_CONSENTS.toString(),new ib(2,0)),i.set(i5.MSPA_COVERED_TRANSACTION.toString(),new ib(2,0)),i.set(i5.MSPA_OPT_OUT_OPTION_MODE.toString(),new ib(2,0)),i.set(i5.MSPA_SERVICE_PROVIDER_MODE.toString(),new ib(2,0)),i.set(i5.GPC_SEGMENT_TYPE.toString(),new ib(2,1)),i.set(i5.GPC_SEGMENT_INCLUDED.toString(),new iU(!0)),i.set(i5.GPC.toString(),new iU(!1)),u(n=s(this,e,[i,[[i5.VERSION.toString(),i5.SALE_OPT_OUT_NOTICE.toString(),i5.SHARING_OPT_OUT_NOTICE.toString(),i5.SENSITIVE_DATA_LIMIT_USE_NOTICE.toString(),i5.SALE_OPT_OUT.toString(),i5.SHARING_OPT_OUT.toString(),i5.SENSITIVE_DATA_PROCESSING.toString(),i5.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),i5.PERSONAL_DATA_CONSENTS.toString(),i5.MSPA_COVERED_TRANSACTION.toString(),i5.MSPA_OPT_OUT_OPTION_MODE.toString(),i5.MSPA_SERVICE_PROVIDER_MODE.toString()],[i5.GPC_SEGMENT_TYPE.toString(),i5.GPC.toString()]]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,ij),a(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(i5.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new ih("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(i5.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(se,"ID",8),u(se,"VERSION",1),u(se,"NAME","uscav1"),(st=i9||(i9={})).VERSION="Version",st.SHARING_NOTICE="SharingNotice",st.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",st.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",st.SALE_OPT_OUT="SaleOptOut",st.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",st.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",st.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",st.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",st.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",st.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode";var st,sn,si=function(){function e(t){r(this,e);var n,i=new Map;return i.set(i9.VERSION.toString(),new ib(6,e.VERSION)),i.set(i9.SHARING_NOTICE.toString(),new ib(2,0)),i.set(i9.SALE_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i9.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(i9.SALE_OPT_OUT.toString(),new ib(2,0)),i.set(i9.TARGETED_ADVERTISING_OPT_OUT.toString(),new ib(2,0)),i.set(i9.SENSITIVE_DATA_PROCESSING.toString(),new i4(2,[0,0,0,0,0,0,0,0])),i.set(i9.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ib(2,0)),i.set(i9.MSPA_COVERED_TRANSACTION.toString(),new ib(2,0)),i.set(i9.MSPA_OPT_OUT_OPTION_MODE.toString(),new ib(2,0)),i.set(i9.MSPA_SERVICE_PROVIDER_MODE.toString(),new ib(2,0)),u(n=s(this,e,[i,[i9.VERSION.toString(),i9.SHARING_NOTICE.toString(),i9.SALE_OPT_OUT_NOTICE.toString(),i9.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),i9.SALE_OPT_OUT.toString(),i9.TARGETED_ADVERTISING_OPT_OUT.toString(),i9.SENSITIVE_DATA_PROCESSING.toString(),i9.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),i9.MSPA_COVERED_TRANSACTION.toString(),i9.MSPA_OPT_OUT_OPTION_MODE.toString(),i9.MSPA_SERVICE_PROVIDER_MODE.toString()]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,iD),a(e,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(si,"ID",9),u(si,"VERSION",1),u(si,"NAME","usvav1"),(ss=sn||(sn={})).VERSION="Version",ss.SHARING_NOTICE="SharingNotice",ss.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",ss.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",ss.SALE_OPT_OUT="SaleOptOut",ss.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",ss.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",ss.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",ss.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",ss.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",ss.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",ss.GPC_SEGMENT_TYPE="GpcSegmentType",ss.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",ss.GPC="Gpc";var ss,sr,so=function(){function e(t){r(this,e);var n,i=new Map;return i.set(sn.VERSION.toString(),new ib(6,e.VERSION)),i.set(sn.SHARING_NOTICE.toString(),new ib(2,0)),i.set(sn.SALE_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(sn.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(sn.SALE_OPT_OUT.toString(),new ib(2,0)),i.set(sn.TARGETED_ADVERTISING_OPT_OUT.toString(),new ib(2,0)),i.set(sn.SENSITIVE_DATA_PROCESSING.toString(),new i4(2,[0,0,0,0,0,0,0])),i.set(sn.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ib(2,0)),i.set(sn.MSPA_COVERED_TRANSACTION.toString(),new ib(2,0)),i.set(sn.MSPA_OPT_OUT_OPTION_MODE.toString(),new ib(2,0)),i.set(sn.MSPA_SERVICE_PROVIDER_MODE.toString(),new ib(2,0)),i.set(sn.GPC_SEGMENT_TYPE.toString(),new ib(2,1)),i.set(sn.GPC_SEGMENT_INCLUDED.toString(),new iU(!0)),i.set(sn.GPC.toString(),new iU(!1)),u(n=s(this,e,[i,[[sn.VERSION.toString(),sn.SHARING_NOTICE.toString(),sn.SALE_OPT_OUT_NOTICE.toString(),sn.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),sn.SALE_OPT_OUT.toString(),sn.TARGETED_ADVERTISING_OPT_OUT.toString(),sn.SENSITIVE_DATA_PROCESSING.toString(),sn.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),sn.MSPA_COVERED_TRANSACTION.toString(),sn.MSPA_OPT_OUT_OPTION_MODE.toString(),sn.MSPA_SERVICE_PROVIDER_MODE.toString()],[sn.GPC_SEGMENT_TYPE.toString(),sn.GPC.toString()]]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,ij),a(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(sn.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new ih("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(sn.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(so,"ID",10),u(so,"VERSION",1),u(so,"NAME","uscov1"),(sa=sr||(sr={})).VERSION="Version",sa.SHARING_NOTICE="SharingNotice",sa.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",sa.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",sa.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE="SensitiveDataProcessingOptOutNotice",sa.SALE_OPT_OUT="SaleOptOut",sa.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",sa.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",sa.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",sa.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",sa.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",sa.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode";var sa,sc,su=function(){function e(t){r(this,e);var n,i=new Map;return i.set(sr.VERSION.toString(),new ib(6,e.VERSION)),i.set(sr.SHARING_NOTICE.toString(),new ib(2,0)),i.set(sr.SALE_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(sr.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(sr.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(sr.SALE_OPT_OUT.toString(),new ib(2,0)),i.set(sr.TARGETED_ADVERTISING_OPT_OUT.toString(),new ib(2,0)),i.set(sr.SENSITIVE_DATA_PROCESSING.toString(),new i4(2,[0,0,0,0,0,0,0,0])),i.set(sr.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new ib(2,0)),i.set(sr.MSPA_COVERED_TRANSACTION.toString(),new ib(2,0)),i.set(sr.MSPA_OPT_OUT_OPTION_MODE.toString(),new ib(2,0)),i.set(sr.MSPA_SERVICE_PROVIDER_MODE.toString(),new ib(2,0)),u(n=s(this,e,[i,[sr.VERSION.toString(),sr.SHARING_NOTICE.toString(),sr.SALE_OPT_OUT_NOTICE.toString(),sr.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),sr.SENSITIVE_DATA_PROCESSING_OPT_OUT_NOTICE.toString(),sr.SALE_OPT_OUT.toString(),sr.TARGETED_ADVERTISING_OPT_OUT.toString(),sr.SENSITIVE_DATA_PROCESSING.toString(),sr.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),sr.MSPA_COVERED_TRANSACTION.toString(),sr.MSPA_OPT_OUT_OPTION_MODE.toString(),sr.MSPA_SERVICE_PROVIDER_MODE.toString()]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,iD),a(e,[{key:"encode",value:function(){return this.base64UrlEncoder.encode(this.encodeToBitString())}},{key:"decode",value:function(e){this.decodeFromBitString(this.base64UrlEncoder.decode(e))}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(su,"ID",11),u(su,"VERSION",1),u(su,"NAME","usutv1"),(sE=sc||(sc={})).VERSION="Version",sE.SHARING_NOTICE="SharingNotice",sE.SALE_OPT_OUT_NOTICE="SaleOptOutNotice",sE.TARGETED_ADVERTISING_OPT_OUT_NOTICE="TargetedAdvertisingOptOutNotice",sE.SALE_OPT_OUT="SaleOptOut",sE.TARGETED_ADVERTISING_OPT_OUT="TargetedAdvertisingOptOut",sE.SENSITIVE_DATA_PROCESSING="SensitiveDataProcessing",sE.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS="KnownChildSensitiveDataConsents",sE.MSPA_COVERED_TRANSACTION="MspaCoveredTransaction",sE.MSPA_OPT_OUT_OPTION_MODE="MspaOptOutOptionMode",sE.MSPA_SERVICE_PROVIDER_MODE="MspaServiceProviderMode",sE.GPC_SEGMENT_TYPE="GpcSegmentType",sE.GPC_SEGMENT_INCLUDED="GpcSegmentIncluded",sE.GPC="Gpc";var sl=function(){function e(t){r(this,e);var n,i=new Map;return i.set(sc.VERSION.toString(),new ib(6,e.VERSION)),i.set(sc.SHARING_NOTICE.toString(),new ib(2,0)),i.set(sc.SALE_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(sc.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),new ib(2,0)),i.set(sc.SALE_OPT_OUT.toString(),new ib(2,0)),i.set(sc.TARGETED_ADVERTISING_OPT_OUT.toString(),new ib(2,0)),i.set(sc.SENSITIVE_DATA_PROCESSING.toString(),new i4(2,[0,0,0,0,0,0,0,0])),i.set(sc.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),new i4(2,[0,0,0])),i.set(sc.MSPA_COVERED_TRANSACTION.toString(),new ib(2,0)),i.set(sc.MSPA_OPT_OUT_OPTION_MODE.toString(),new ib(2,0)),i.set(sc.MSPA_SERVICE_PROVIDER_MODE.toString(),new ib(2,0)),i.set(sc.GPC_SEGMENT_TYPE.toString(),new ib(2,1)),i.set(sc.GPC_SEGMENT_INCLUDED.toString(),new iU(!0)),i.set(sc.GPC.toString(),new iU(!1)),u(n=s(this,e,[i,[[sc.VERSION.toString(),sc.SHARING_NOTICE.toString(),sc.SALE_OPT_OUT_NOTICE.toString(),sc.TARGETED_ADVERTISING_OPT_OUT_NOTICE.toString(),sc.SALE_OPT_OUT.toString(),sc.TARGETED_ADVERTISING_OPT_OUT.toString(),sc.SENSITIVE_DATA_PROCESSING.toString(),sc.KNOWN_CHILD_SENSITIVE_DATA_CONSENTS.toString(),sc.MSPA_COVERED_TRANSACTION.toString(),sc.MSPA_OPT_OUT_OPTION_MODE.toString(),sc.MSPA_SERVICE_PROVIDER_MODE.toString()],[sc.GPC_SEGMENT_TYPE.toString(),sc.GPC.toString()]]]),"base64UrlEncoder",new iy),t&&t.length>0&&n.decode(t),n}return h(e,ij),a(e,[{key:"encode",value:function(){var e=this.encodeSegmentsToBitStrings(),t=[];return t.push(this.base64UrlEncoder.encode(e[0])),e[1]&&e[1].length>0&&!0===this.fields.get(sc.GPC_SEGMENT_INCLUDED).getValue()&&t.push(this.base64UrlEncoder.encode(e[1])),t.join(".")}},{key:"decode",value:function(e){for(var t=e.split("."),n=[],i=!1,s=0;s<t.length;s++){var r=this.base64UrlEncoder.decode(t[s]);switch(r.substring(0,2)){case"00":n[0]=r;break;case"01":i=!0,n[1]=r;break;default:throw new ih("Unable to decode segment '"+t[s]+"'")}}this.decodeSegmentsFromBitStrings(n),this.fields.get(sc.GPC_SEGMENT_INCLUDED).setValue(i)}},{key:"getId",value:function(){return e.ID}},{key:"getName",value:function(){return e.NAME}}])}();u(sl,"ID",12),u(sl,"VERSION",1),u(sl,"NAME","usctv1");var sd=a(function e(){r(this,e)});u(sd,"SECTION_ID_NAME_MAP",new Map([[iz.ID,iz.NAME],[iZ.ID,iZ.NAME],[i0.ID,i0.NAME],[i8.ID,i8.NAME],[se.ID,se.NAME],[si.ID,si.NAME],[so.ID,so.NAME],[su.ID,su.NAME],[sl.ID,sl.NAME]])),u(sd,"SECTION_ORDER",[iz.NAME,iZ.NAME,i0.NAME,i8.NAME,se.NAME,si.NAME,so.NAME,su.NAME,sl.NAME]);var sh=a(function e(t){r(this,e),u(this,"sections",new Map),u(this,"encodedString",void 0),u(this,"decoded",void 0),u(this,"dirty",void 0),t?this.encodedString=t:this.encodedString="DBAA",this.decoded=!1,this.dirty=!1},[{key:"setFieldValue",value:function(e,t,n){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}var i=null;if(this.sections.has(e)?i=this.sections.get(e):e===iZ.NAME?(i=new iZ,this.sections.set(iZ.NAME,i)):e===iz.NAME?(i=new iz,this.sections.set(iz.NAME,i)):e===i0.NAME?(i=new i0,this.sections.set(i0.NAME,i)):e===i8.NAME?(i=new i8,this.sections.set(i8.NAME,i)):e===se.NAME?(i=new se,this.sections.set(se.NAME,i)):e===si.NAME?(i=new si,this.sections.set(si.NAME,i)):e===so.NAME?(i=new so,this.sections.set(so.NAME,i)):e===su.NAME?(i=new su,this.sections.set(su.NAME,i)):e===sl.NAME&&(i=new sl,this.sections.set(sl.NAME,i)),!i)throw new iP(e+"."+t+" not found");i.setFieldValue(t,n),this.dirty=!0}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(sd.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}return this.sections.has(e)?this.sections.get(e).getFieldValue(t):null}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(sd.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasField",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}return!!this.sections.has(e)&&this.sections.get(e).hasField(t)}},{key:"hasFieldBySectionId",value:function(e,t){return this.hasField(sd.SECTION_ID_NAME_MAP.get(e),t)}},{key:"hasSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}return this.sections.has(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(sd.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}this.sections.delete(e),this.dirty=!0}},{key:"deleteSectionById",value:function(e){this.deleteSection(sd.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.sections.clear(),this.encodedString="DBAA",this.decoded=!1,this.dirty=!1}},{key:"getHeader",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}var e=new iR;return e.setFieldValue("SectionIds",this.getSectionIds()),e.toObj()}},{key:"getSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}return this.sections.has(e)?this.sections.get(e).toObj():null}},{key:"getSectionIds",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}for(var e=[],t=0;t<sd.SECTION_ORDER.length;t++){var n=sd.SECTION_ORDER[t];if(this.sections.has(n)){var i=this.sections.get(n);e.push(i.getId())}}return e}},{key:"encode",value:function(){if(!this.dirty)return this.encodedString;if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}for(var e=[],t=[],n=0;n<sd.SECTION_ORDER.length;n++){var i=sd.SECTION_ORDER[n];if(this.sections.has(i)){var s=this.sections.get(i);e.push(s.encode()),t.push(s.getId())}}var r=new iR;return r.setFieldValue("SectionIds",this.getSectionIds()),e.unshift(r.encode()),this.encodedString=e.join("~"),this.dirty=!1,this.encodedString}},{key:"decode",value:function(e){this.encodedString=e,this.decoded=!1,this.dirty=!0,this.sections.clear();var t=e.split("~"),n=new iR(t[0]);this.sections.set(iR.NAME,n);for(var i=n.getFieldValue("SectionIds"),s=0;s<i.length;s++)if(i[s]===iZ.ID){var r=new iZ(t[s+1]);this.sections.set(iZ.NAME,r)}else if(i[s]===iz.ID){var o=new iz(t[s+1]);this.sections.set(iz.NAME,o)}else if(i[s]===i0.ID){var a=new i0(t[s+1]);this.sections.set(i0.NAME,a)}else if(i[s]===i8.ID){var c=new i8(t[s+1]);this.sections.set(i8.NAME,c)}else if(i[s]===se.ID){var u=new se(t[s+1]);this.sections.set(se.NAME,u)}else if(i[s]===si.ID){var l=new si(t[s+1]);this.sections.set(si.NAME,l)}else if(i[s]===so.ID){var d=new so(t[s+1]);this.sections.set(so.NAME,d)}else if(i[s]===su.ID){var h=new su(t[s+1]);this.sections.set(su.NAME,h)}else if(i[s]===sl.ID){var p=new sl(t[s+1]);this.sections.set(sl.NAME,p)}this.decoded=!0,this.dirty=!1}},{key:"encodeSection",value:function(e){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}return this.sections.has(e)?this.sections.get(e).encode():null}},{key:"encodeSectionById",value:function(e){return this.encodeSection(sd.SECTION_ID_NAME_MAP.get(e))}},{key:"decodeSection",value:function(e,t){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}var n=null;this.sections.has(e)?n=this.sections.get(e):e===iZ.NAME?(n=new iZ,this.sections.set(iZ.NAME,n)):e===iz.NAME?(n=new iz,this.sections.set(iz.NAME,n)):e===i0.NAME?(n=new i0,this.sections.set(i0.NAME,n)):e===i8.NAME?(n=new i8,this.sections.set(i8.NAME,n)):e===se.NAME?(n=new se,this.sections.set(se.NAME,n)):e===si.NAME?(n=new si,this.sections.set(si.NAME,n)):e===so.NAME?(n=new so,this.sections.set(so.NAME,n)):e===su.NAME?(n=new su,this.sections.set(su.NAME,n)):e===sl.NAME&&(n=new sl,this.sections.set(sl.NAME,n)),n&&(n.decode(t),this.dirty=!0)}},{key:"decodeSectionById",value:function(e,t){this.decodeSection(sd.SECTION_ID_NAME_MAP.get(e),t)}},{key:"toObject",value:function(){if(!this.decoded&&null!=this.encodedString&&this.encodedString.length>0)try{this.decode(this.encodedString)}catch(e){throw new iV(e.message)}for(var e={},t=0;t<sd.SECTION_ORDER.length;t++){var n=sd.SECTION_ORDER[t];this.sections.has(n)&&(e[n]=this.sections.get(n).toObj())}return e}}]),sp=a(function e(){r(this,e),u(this,"gppVersion","1.1"),u(this,"supportedAPIs",[]),u(this,"eventQueue",new id(this)),u(this,"cmpStatus",ir.LOADING),u(this,"cmpDisplayStatus",io.HIDDEN),u(this,"signalStatus",ic.NOT_READY),u(this,"applicableSections",[]),u(this,"gppModel",new sh),u(this,"cmpId",void 0),u(this,"cmpVersion",void 0),u(this,"eventStatus",void 0)},[{key:"reset",value:function(){this.eventQueue.clear(),this.cmpStatus=ir.LOADING,this.cmpDisplayStatus=io.HIDDEN,this.signalStatus=ic.NOT_READY,this.applicableSections=[],this.supportedAPIs=[],this.gppModel=new sh,delete this.cmpId,delete this.cmpVersion,delete this.eventStatus}}]),sg=a(function e(){r(this,e)},null,[{key:"absCall",value:function(e,t,n,i){return new Promise(function(s,r){var o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else r(Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))}),o.addEventListener("error",function(){r(Error("error"))}),o.addEventListener("abort",function(){r(Error("aborted"))}),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){r(Error("Timeout "+i+"ms "+e))},o.send(t)})}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,i)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}]),sf=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="GVLError",n}return h(e,_(Error)),a(e)}(),sS=function(){function e(){r(this,e)}return a(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])}();u(sS,"langSet",new Set(["BG","CA","CS","DA","DE","EL","EN","ES","ET","FI","FR","HR","HU","IT","JA","LT","LV","MT","NL","NO","PL","PT","RO","RU","SK","SL","SV","TR","ZH"]));var sv=function(){var e,t;function n(){r(this,n),u(this,"vendors",void 0),u(this,"consentLanguages",new sS),u(this,"gvlSpecificationVersion",void 0),u(this,"vendorListVersion",void 0),u(this,"tcfPolicyVersion",void 0),u(this,"lastUpdated",void 0),u(this,"purposes",void 0),u(this,"specialPurposes",void 0),u(this,"features",void 0),u(this,"specialFeatures",void 0),u(this,"stacks",void 0),u(this,"dataCategories",void 0),u(this,"language",n.DEFAULT_LANGUAGE),u(this,"vendorIds",void 0),u(this,"ready",!1),u(this,"fullVendorList",void 0),u(this,"byPurposeVendorMap",void 0),u(this,"bySpecialPurposeVendorMap",void 0),u(this,"byFeatureVendorMap",void 0),u(this,"bySpecialFeatureVendorMap",void 0),u(this,"baseUrl",void 0),u(this,"languageFilename","purposes-[LANG].json")}return a(n,[{key:"changeLanguage",value:(t=i(S().mark(function e(t){var n,i;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.toUpperCase(),!this.consentLanguages.has(n)){e.next=18;break}if(n===this.language){e.next=16;break}return this.language=n,i=this.baseUrl+this.languageFilename.replace("[LANG]",t),e.prev=5,e.t0=this,e.next=9,sg.fetch(i);case 9:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=16;break;case 13:throw e.prev=13,e.t2=e.catch(5),new sf("unable to load language: "+e.t2.message);case 16:e.next=19;break;case 18:throw new sf("unsupported language ".concat(t));case 19:case"end":return e.stop()}},e,this,[[5,13]])})),function(e){return t.apply(this,arguments)})},{key:"getJson",value:function(){return JSON.parse(JSON.stringify({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories,vendors:this.fullVendorList}))}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.ready=!0)}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){t.byPurposeVendorMap[e]={legInt:new Set,impCons:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){t.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){t.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){t.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors=e.reduce(function(e,n){var i=t.vendors[String(n)];return i&&void 0===i.deletedDate&&(i.purposes.forEach(function(e){t.byPurposeVendorMap[String(e)].consent.add(n)}),i.specialPurposes.forEach(function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)}),i.legIntPurposes&&i.legIntPurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)}),i.impConsPurposes&&i.impConsPurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].impCons.add(n)}),i.flexiblePurposes&&i.flexiblePurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)}),i.features.forEach(function(e){t.byFeatureVendorMap[String(e)].add(n)}),i.specialFeatures.forEach(function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)}),e[n]=i),e},{})}},{key:"getFilteredVendors",value:function(e,t,n,i){var s=this,r=e.charAt(0).toUpperCase()+e.slice(1),o={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)]).forEach(function(e){o[String(e)]=s.vendors[String(e)]}),o}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.ready}}],[{key:"fromVendorList",value:function(e){var t=new n;return t.populate(e),t}},{key:"fromUrl",value:(e=i(S().mark(function e(t){var i,s,r,o,a,c;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t.baseUrl)&&0!==i.length){e.next=3;break}throw new sf("Invalid baseUrl: '"+i+"'");case 3:if(!/^https?:\/\/vendorlist\.consensu\.org\//.test(i)){e.next=5;break}throw new sf("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");case 5:if(i.length>0&&"/"!==i[i.length-1]&&(i+="/"),(s=new n).baseUrl=i,t.languageFilename?s.languageFilename=t.languageFilename:s.languageFilename="purposes-[LANG].json",!(t.version>0)){e.next=20;break}return(r=t.versionedFilename)||(r="archives/vendor-list-v[VERSION].json"),o=i+r.replace("[VERSION]",String(t.version)),e.t0=s,e.next=16,sg.fetch(o);case 16:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=28;break;case 20:return(a=t.latestFilename)||(a="vendor-list.json"),c=i+a,e.t2=s,e.next=26,sg.fetch(c);case 26:e.t3=e.sent,e.t2.populate.call(e.t2,e.t3);case 28:return e.abrupt("return",s);case 29:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)})},{key:"isInstanceOf",value:function(e){return"object"===C(e)&&"function"==typeof e.narrowVendorsTo}}])}();u(sv,"DEFAULT_LANGUAGE","EN");var sE,sI,sT,sC,sy=a(function e(t,n,i){r(this,e),u(this,"callResponder",void 0),u(this,"cmpApiContext",void 0),this.cmpApiContext=new sp,this.cmpApiContext.cmpId=t,this.cmpApiContext.cmpVersion=n,this.callResponder=new il(this.cmpApiContext,i)},[{key:"fireEvent",value:function(e,t){this.cmpApiContext.eventQueue.exec(e,t)}},{key:"fireErrorEvent",value:function(e){this.cmpApiContext.eventQueue.exec("error",e)}},{key:"fireSectionChange",value:function(e){this.cmpApiContext.eventQueue.exec("sectionChange",e)}},{key:"getEventStatus",value:function(){return this.cmpApiContext.eventStatus}},{key:"setEventStatus",value:function(e){this.cmpApiContext.eventStatus=e}},{key:"getCmpStatus",value:function(){return this.cmpApiContext.cmpStatus}},{key:"setCmpStatus",value:function(e){this.cmpApiContext.cmpStatus=e,this.cmpApiContext.eventQueue.exec("cmpStatus",e)}},{key:"getCmpDisplayStatus",value:function(){return this.cmpApiContext.cmpDisplayStatus}},{key:"setCmpDisplayStatus",value:function(e){this.cmpApiContext.cmpDisplayStatus=e,this.cmpApiContext.eventQueue.exec("cmpDisplayStatus",e)}},{key:"getSignalStatus",value:function(){return this.cmpApiContext.signalStatus}},{key:"setSignalStatus",value:function(e){this.cmpApiContext.signalStatus=e,this.cmpApiContext.eventQueue.exec("signalStatus",e)}},{key:"getApplicableSections",value:function(){return this.cmpApiContext.applicableSections}},{key:"setApplicableSections",value:function(e){this.cmpApiContext.applicableSections=e}},{key:"getSupportedAPIs",value:function(){return this.cmpApiContext.supportedAPIs}},{key:"setSupportedAPIs",value:function(e){this.cmpApiContext.supportedAPIs=e}},{key:"setGppString",value:function(e){this.cmpApiContext.gppModel.decode(e)}},{key:"getGppString",value:function(){return this.cmpApiContext.gppModel.encode()}},{key:"setSectionString",value:function(e,t){this.cmpApiContext.gppModel.decodeSection(e,t)}},{key:"setSectionStringById",value:function(e,t){this.setSectionString(sd.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSectionString",value:function(e){return this.cmpApiContext.gppModel.encodeSection(e)}},{key:"getSectionStringById",value:function(e){return this.getSectionString(sd.SECTION_ID_NAME_MAP.get(e))}},{key:"setFieldValue",value:function(e,t,n){this.cmpApiContext.gppModel.setFieldValue(e,t,n)}},{key:"setFieldValueBySectionId",value:function(e,t,n){this.setFieldValue(sd.SECTION_ID_NAME_MAP.get(e),t,n)}},{key:"getFieldValue",value:function(e,t){return this.cmpApiContext.gppModel.getFieldValue(e,t)}},{key:"getFieldValueBySectionId",value:function(e,t){return this.getFieldValue(sd.SECTION_ID_NAME_MAP.get(e),t)}},{key:"getSection",value:function(e){return this.cmpApiContext.gppModel.getSection(e)}},{key:"getSectionById",value:function(e){return this.getSection(sd.SECTION_ID_NAME_MAP.get(e))}},{key:"hasSection",value:function(e){return this.cmpApiContext.gppModel.hasSection(e)}},{key:"hasSectionId",value:function(e){return this.hasSection(sd.SECTION_ID_NAME_MAP.get(e))}},{key:"deleteSection",value:function(e){this.cmpApiContext.gppModel.deleteSection(e)}},{key:"deleteSectionById",value:function(e){this.deleteSection(sd.SECTION_ID_NAME_MAP.get(e))}},{key:"clear",value:function(){this.cmpApiContext.gppModel.clear()}},{key:"getObject",value:function(){return this.cmpApiContext.gppModel.toObject()}},{key:"getGvlFromVendorList",value:function(e){return sv.fromVendorList(e)}},{key:"getGvlFromUrl",value:(sI=i(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",sv.fromUrl(t));case 1:case"end":return e.stop()}},e)})),function(e){return sI.apply(this,arguments)})}]),s_={tcfeuv2:2,tcfcav1:5,uspv1:6,usnat:7,usca:8,usva:9,usco:10,usut:11,usct:12},sA=function(){function e(e,t){var n=this;this.setApplicableSections=function(e){if(n.gppEnabled)try{n.gppApi.setApplicableSections([s_[e]])}catch(t){throw Error('GppData - setApplicableSections - unrecognized legalframework "'.concat(e,'"'))}},this.setCmpSignalReady=function(){return M(n,void 0,void 0,function(){return k(this,function(e){return this.gppEnabled&&this.gppApi.setSignalStatus(ic.READY),[2]})})},this.setCmpStatusLoaded=function(){return M(n,void 0,void 0,function(){return k(this,function(e){return this.gppEnabled&&this.gppApi.setCmpStatus(ir.LOADED),[2]})})},this.setCmpDisplayHidden=function(){return M(n,void 0,void 0,function(){return k(this,function(e){return this.gppEnabled&&this.gppApi.setCmpDisplayStatus(io.HIDDEN),[2]})})},this.setCmpDisplayVisible=function(){return M(n,void 0,void 0,function(){return k(this,function(e){return this.gppEnabled&&this.gppApi.setCmpDisplayStatus(io.VISIBLE),[2]})})},this.setSectionString=function(e,t){return M(n,void 0,void 0,function(){return k(this,function(n){return""!==e&&this.gppEnabled&&(this.gppApi.setSectionString(t,e),this.gppApi.fireSectionChange(t)),[2]})})},this.gppEnabled=t||!1,this.cmpId=(null==e?void 0:e.tcf2.cmpId)||5,this.cmpVersion=(null==e?void 0:e.tcf2.cmpVersion)||parseInt("3",10),this.gppApi=new sy(this.cmpId,this.cmpVersion),this.gppApi.setCmpStatus(ir.LOADING),this.gppApi.setSignalStatus(ic.NOT_READY)}return e.getInstance=function(t,n){var i,s=(null==(i=e.instance)?void 0:i.gppEnabled)||!1;return n||s?(e.instance||(e.instance=new e(t,n)),e.instance):null},e.prototype.resetGpp=function(){this.gppApi={}},e}(),sm=function(){function e(){this.primaryLanguage="",this.apiInstance=na.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.prototype.setPrimaryLanguage=function(e){this.primaryLanguage=e},e.prototype.getPrimaryLanguage=function(){return this.primaryLanguage},e.prototype.resolveLanguage=function(e){return void 0===e&&(e=!1),M(this,void 0,void 0,function(){var t,n,i,s,r;return k(this,function(o){switch(o.label){case 0:return t=eF.fetchUserCountryResponse(),n=[],t?(nt.getInstance().setUserCountryData({code:t.countryCode,name:t.countryName,regionCode:t.regionCode}),[3,3]):[3,1];case 1:return[4,this.apiInstance.fetchAvailableLanguages()];case 2:n=o.sent(),o.label=3;case 3:if(!e){if(this.primaryLanguage)return this.apiInstance.setJsonFileLanguage(this.primaryLanguage),[2];if(i=eF.fetchLanguage())return this.apiInstance.setJsonFileLanguage(i),[2]}return n.length?[3,5]:[4,this.apiInstance.fetchAvailableLanguages()];case 4:n=o.sent(),o.label=5;case 5:return(s=sN(n))?this.apiInstance.setJsonFileLanguage(s):(r=sO(n))?this.apiInstance.setJsonFileLanguage(r):n.length>0?this.apiInstance.setJsonFileLanguage(n[0]):this.apiInstance.setJsonFileLanguage("en"),[2]}})})},e}(),sO=function(e){var t=window.navigator;if(eH(t.languages))for(var n=0;n<t.languages.length;n+=1){var i=sb(e,t.languages[n]);if(i)return i}return sb(e,null!=t.language?t.language:t.userLanguage)},sN=function(e){var t=document.documentElement.lang;return t?sb(e,t):null},sb=function(e,t){if(t){var n=t.toLowerCase().replace("-","_");if(eG(e,n))return n;var i=t.slice(0,2);if(eG(e,i))return i}return null};(rn=sT||(sT={})).API_INVALID_COMMAND="Usercentrics: (__uspapi) Invalid command: ",rn.API_INVALID_CALLBACK="Usercentrics: (__uspapi) callback parameter not a function",rn.INVALID_STRING="Usercentrics: ccpa string is invalid",rn.RESHOW_AFTER_DAYS_INVALID="Usercentrics: reshow after days must be greater than 364.",rn.SETTINGS_UNDEFINED="Usercentrics: ccpa is missing in setting",(ri=sC||(sC={})).ACCEPT="Y",ri.DENY="N",ri.UNKNOWN="-";var sD=function(){function e(){this.apiInstance=na.getInstance()}return e.prototype.getTargets=function(e){var t=this;return e.reduce(function(e,n){if("mark"!==n.entryType&&"measure"!==n.entryType&&"paint"!==n.entryType&&!n.name.startsWith("data:")&&!["visible"].includes(n.name)&&!/^https:\/\/([a-z0-9.]+).usercentrics\.eu/.test(n.name)){var i=n.name,s=t.extractSubdomain(i);if(-1===e.indexOf(s))return G(G([],F(e),!1),[s],!1)}return e},[])},e.prototype.initTagLogger=function(){var e=this;window.addEventListener("beforeunload",function(){document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState&&e.updateLog()})})},e.prototype.extractSubdomain=function(e){var t,n=e.split("/");return e.indexOf("://")>-1?(t="".concat(n[2]),n[3]&&(t+="/".concat(n[3]))):(t="".concat(n[0]),n[1]&&(t+="/".concat(n[1]))),t="".concat(t.split("?")[0])},e.prototype.updateLog=function(){if(Object.prototype.hasOwnProperty.call(window,"performance")&&"function"==typeof performance.getEntries){var e=window.performance.getEntries();this.apiInstance.updateTagLoggerData(this.getTargets(e))}else console.log("UC Warning: tag logger functionality is not supported by your browser.")},e}(),sR=function(){function e(){this.initOptions=null,this.isFirstTimePageVisit=!0,this.selectedLayer=null,this.shouldAcceptAllImplicitly=null,this.shouldShowFirstLayerOnVersionChange=!1,this.variant=null,this.ampInstance=tF.getInstance(),this.settingsV2=nW.getInstance(),this.rulesetInstance=nM.getInstance(),this.apiInstance=na.getInstance()}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},e.resetInstance=function(){e.instance.selectedLayer=null,e.instance.variant=null,e.instance.shouldAcceptAllImplicitly=null,e.instance.initOptions=null},e.prototype.init=function(e){return M(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return this.initOptions=e,this.isFirstTimePageVisit=this.isFirstTimeVisit(),null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.shouldShowFirstLayerOnVersionChange=this.settingsV2.shouldShowFirstLayerOnVersionChange(),[2]}})})},e.prototype.isFirstTimeVisit=function(){return!eF.settingsExist()},e.prototype.shouldShowNone=function(){return M(this,void 0,void 0,function(){var e,t;return k(this,function(n){switch(n.label){case 0:return e=0===this.variant,null!==this.shouldAcceptAllImplicitly?[3,2]:(t=this,[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]);case 1:t.shouldAcceptAllImplicitly=n.sent(),n.label=2;case 2:return this.apiInstance.getRulesetId()&&this.rulesetInstance.getIsUsingNoShow()?[2,this.rulesetInstance.getNoShow()]:[2,this.shouldAcceptAllImplicitly&&!e]}})})},e.prototype.shouldManuallyResurface=function(){var e=this.settingsV2.core,t=eF.fetchServices(),n=0===this.variant,i=null;if(t&&t.length>0){if(n)i=eF.getCcpaTimeStamp();else{var s=e9(t.reduce(function(e,t){return G(G([],F(e),!1),F(t.history),!1)},[]));e&&s.length>0&&(i=s[0].timestamp)}if(e&&i){var r=e.renewConsentsTimestamp;if(r&&Date.now()/1e3>r&&i/1e3<r)return!0}}return!1},e.prototype.shouldShowFirstLayer=function(e){var t,n,i,s=this.ampInstance.isAmpEnabled(),r=0===this.variant,o=(null==(t=e.ccpa)?void 0:t.showOnPageLoad)||!1,a=r?o:!this.shouldAcceptAllImplicitly;if(this.shouldManuallyResurface())return!0;if(this.shouldAcceptAllImplicitly&&!r)return!1;if(a&&this.isFirstTimePageVisit||this.shouldShowFirstLayerOnVersionChange||!eF.fetchUserActionPerformed()&&(!r||o)||s)return!0;switch(this.variant){case 0:if(this.shouldShowFirstLayerForCcpa(null==(n=e.ccpa)?void 0:n.reshowCMP,null==(i=e.ccpa)?void 0:i.reshowAfterDays))return!0;break;case 2:var c=this.settingsV2.getTcfData();if(null==c?void 0:c.shouldResurfaceUI())return!0;break;default:if(this.shouldForceReshowGDPRBanner())return!0}return!1},e.prototype.shouldForceReshowGDPRBanner=function(){var e=this.settingsV2.core;if(!e)return!1;var t=e.reshowBanner,n=e9(this.settingsV2.getServicesData().reduce(function(e,t){return G(G([],F(e),!1),F(t.consent.history),!1)},[]));if(t>0&&n.length>0){var i=new Date(n[0].timestamp);return i.setMonth(i.getMonth()+t),(new Date).getTime()-i.getTime()>=0}return!1},e.prototype.shouldShowPrivacyButton=function(e){var t=window.location.href,n=!e.privacyButtonUrls||0===e.privacyButtonUrls.contains.length;return e.privacyButtonUrls&&e.privacyButtonUrls.contains.length>0&&e.privacyButtonUrls.contains.some(function(e){return t.includes(e)})&&(n=!0),e.privacyButtonIsVisible&&n},e.prototype.resolveUiVariant=function(e){return M(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return null!==this.variant?[2,this.variant]:[4,this.settingsV2.isCcpaAvailable()];case 1:return t.sent()?this.variant=0:this.variant=e?2:1,[2,this.variant]}})})},e.prototype.resolveUiInitialLayer=function(e){return M(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,this.shouldShowNone()];case 1:return t.sent()?[2,1]:this.shouldShowFirstLayer(e)?[2,0]:this.shouldShowPrivacyButton(e)?[2,2]:[2,1]}})})},e.prototype.resolveUIOptions=function(e){var t;return M(this,void 0,void 0,function(){var n,i,s,r;return k(this,function(o){switch(o.label){case 0:return n=this.ampInstance.isAmpEnabled(),null!==this.variant?[3,2]:(i=this,[4,this.resolveUiVariant(e.tcf2Enabled)]);case 1:i.variant=o.sent(),o.label=2;case 2:return 0!==this.variant&&eF.clearCcpa(),2!==this.variant&&eF.clearTcf(),s=this,(null==(t=this.initOptions)?void 0:t.suppressCmpDisplay)?(r=1,[3,5]):[3,3];case 3:return[4,this.resolveUiInitialLayer(e)];case 4:r=o.sent(),o.label=5;case 5:return s.selectedLayer=r,[2,{ampEnabled:n,initialLayer:this.selectedLayer,variant:this.variant}]}})})},e.prototype.shouldShowFirstLayerForCcpa=function(e,t){void 0===t&&(t=365);var n,i,s=this.settingsV2.legacySettings,r=(i=eF.getCcpaData())?((new Date).getTime()-i.timestamp)/864e5:0;return s||void 0!==e?null!=(n=null!=e?e:null==s?void 0:s.ccpa.reshowCMP)&&n&&r>t:r>t},e}(),sL=Object.freeze({initialize:function({modulePath:e=".",importFunctionName:t="__import__"}={}){try{self[t]=Function("u","return import(u)")}catch(s){let n=new URL(e,location),i=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise((s,r)=>{let o=new URL(e,n);if(self[t].moduleMap[o])return s(self[t].moduleMap[o]);let a=new Blob([`import * as m from '${o}';`,`${t}.moduleMap['${o}']=m;`],{type:"text/javascript"}),c=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){r(Error(`Failed to import: ${e}`)),i(c)},onload(){s(self[t].moduleMap[o]),i(c)}});document.head.appendChild(c)}),self[t].moduleMap={}}}});function sw(e,t){return Object.keys(t).forEach(function(n){"default"===n||"__esModule"===n||Object.prototype.hasOwnProperty.call(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[n]}})}),e}function sP(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}var sV={},sU={};sP(sU,"Base64Url",function(){return sJ});var sM={},sk={};sP(sk,"DecodingError",function(){return sF});var sF=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="DecodingError",n}return h(e,_(Error)),a(e)}(),sG={};sP(sG,"EncodingError",function(){return sx});var sx=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="EncodingError",n}return h(e,_(Error)),a(e)}(),sB={};sP(sB,"GVLError",function(){return sH});var sH=function(){function e(t){var n;return r(this,e),(n=s(this,e,[t])).name="GVLError",n}return h(e,_(Error)),a(e)}(),sj={};sP(sj,"TCModelError",function(){return sY});var sY=function(){function e(t,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return r(this,e),(i=s(this,e,["invalid value ".concat(n," passed for ").concat(t," ").concat(o)])).name="TCModelError",i}return h(e,_(Error)),a(e)}();sw(sM,sk),sw(sM,sG),sw(sM,sB),sw(sM,sj);var sJ=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){if(!/^[0-1]+$/.test(e))throw new sx("Invalid bitField");var t=e.length%this.LCM;e+=t?"0".repeat(this.LCM-t):"";for(var n="",i=0;i<e.length;i+=this.BASIS)n+=this.DICT[parseInt(e.substr(i,this.BASIS),2)];return n}},{key:"decode",value:function(e){if(!/^[A-Za-z0-9\-_]+$/.test(e))throw new sF("Invalidly encoded Base64URL string");for(var t="",n=0;n<e.length;n++){var i=this.REVERSE_DICT.get(e[n]).toString(2);t+="0".repeat(this.BASIS-i.length)+i}return t}}]);sJ.DICT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",sJ.REVERSE_DICT=new Map([["A",0],["B",1],["C",2],["D",3],["E",4],["F",5],["G",6],["H",7],["I",8],["J",9],["K",10],["L",11],["M",12],["N",13],["O",14],["P",15],["Q",16],["R",17],["S",18],["T",19],["U",20],["V",21],["W",22],["X",23],["Y",24],["Z",25],["a",26],["b",27],["c",28],["d",29],["e",30],["f",31],["g",32],["h",33],["i",34],["j",35],["k",36],["l",37],["m",38],["n",39],["o",40],["p",41],["q",42],["r",43],["s",44],["t",45],["u",46],["v",47],["w",48],["x",49],["y",50],["z",51],["0",52],["1",53],["2",54],["3",55],["4",56],["5",57],["6",58],["7",59],["8",60],["9",61],["-",62],["_",63]]),sJ.BASIS=6,sJ.LCM=24;var sW={};sP(sW,"BitLength",function(){return rN});var sK={},sq={};sP(sq,"ConsentLanguages",function(){return sQ});var sQ=function(){function e(){r(this,e)}return a(e,[{key:"has",value:function(t){return e.langSet.has(t)}},{key:"parseLanguage",value:function(t){var n=(t=t.toUpperCase()).split("-")[0];if(t.length>=2&&2==n.length){if(e.langSet.has(t))return t;if(e.langSet.has(n))return n;var i=n+"-"+n;if(e.langSet.has(i))return i;var s,r=c(e.langSet);try{for(r.s();!(s=r.n()).done;){var o=s.value;if(-1!==o.indexOf(t)||-1!==o.indexOf(n))return o}}catch(e){r.e(e)}finally{r.f()}}throw Error("unsupported language ".concat(t))}},{key:"forEach",value:function(t){e.langSet.forEach(t)}},{key:"size",get:function(){return e.langSet.size}}])}();sQ.langSet=new Set(["AR","BG","BS","CA","CS","CY","DA","DE","EL","EN","ES","ET","EU","FI","FR","GL","HE","HR","HU","ID","IT","JA","KA","KO","LT","LV","MK","MS","MT","NL","NO","PL","PT-BR","PT-PT","RO","RU","SK","SL","SQ","SR-LATN","SR-CYRL","SV","SW","TH","TL","TR","UK","VI","ZH"]);var sz={};sP(sz,"Fields",function(){return sX});var sX=a(function e(){r(this,e)});sX.cmpId="cmpId",sX.cmpVersion="cmpVersion",sX.consentLanguage="consentLanguage",sX.consentScreen="consentScreen",sX.created="created",sX.supportOOB="supportOOB",sX.isServiceSpecific="isServiceSpecific",sX.lastUpdated="lastUpdated",sX.numCustomPurposes="numCustomPurposes",sX.policyVersion="policyVersion",sX.publisherCountryCode="publisherCountryCode",sX.publisherCustomConsents="publisherCustomConsents",sX.publisherCustomLegitimateInterests="publisherCustomLegitimateInterests",sX.publisherLegitimateInterests="publisherLegitimateInterests",sX.publisherConsents="publisherConsents",sX.publisherRestrictions="publisherRestrictions",sX.purposeConsents="purposeConsents",sX.purposeLegitimateInterests="purposeLegitimateInterests",sX.purposeOneTreatment="purposeOneTreatment",sX.specialFeatureOptins="specialFeatureOptins",sX.useNonStandardTexts="useNonStandardTexts",sX.vendorConsents="vendorConsents",sX.vendorLegitimateInterests="vendorLegitimateInterests",sX.vendorListVersion="vendorListVersion",sX.vendorsAllowed="vendorsAllowed",sX.vendorsDisclosed="vendorsDisclosed",sX.version="version";var s$={};sP(s$,"PurposeRestriction",function(){return s2}),sP({},"Cloneable",function(){return sZ});var sZ=a(function e(){r(this,e)},[{key:"clone",value:function(){var e=this,t=new this.constructor;return Object.keys(this).forEach(function(n){var i=e.deepClone(e[n]);void 0!==i&&(t[n]=i)}),t}},{key:"deepClone",value:function(e){var t=C(e);if("number"===t||"string"===t||"boolean"===t)return e;if(null!==e&&"object"===t){if("function"==typeof e.clone)return e.clone();if(e instanceof Date)return new Date(e.getTime());if(void 0!==e[Symbol.iterator]){var n,i=[],s=c(e);try{for(s.s();!(n=s.n()).done;){var r=n.value;i.push(this.deepClone(r))}}catch(e){s.e(e)}finally{s.f()}return e instanceof Array?i:new e.constructor(i)}var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=this.deepClone(e[a]));return o}}}]),s0={};sP(s0,"RestrictionType",function(){return s1});var s1=((rs={})[rs.NOT_ALLOWED=0]="NOT_ALLOWED",rs[rs.REQUIRE_CONSENT=1]="REQUIRE_CONSENT",rs[rs.REQUIRE_LI=2]="REQUIRE_LI",rs),s2=function(){function e(t,n){var i;return r(this,e),i=s(this,e),void 0!==t&&(i.purposeId=t),void 0!==n&&(i.restrictionType=n),i}return h(e,sZ),a(e,[{key:"hash",get:function(){if(!this.isValid())throw Error("cannot hash invalid PurposeRestriction");return"".concat(this.purposeId).concat(e.hashSeparator).concat(this.restrictionType)}},{key:"purposeId",get:function(){return this.purposeId_},set:function(e){this.purposeId_=e}},{key:"isValid",value:function(){return Number.isInteger(this.purposeId)&&this.purposeId>0&&(this.restrictionType===s1.NOT_ALLOWED||this.restrictionType===s1.REQUIRE_CONSENT||this.restrictionType===s1.REQUIRE_LI)}},{key:"isSameAs",value:function(e){return this.purposeId===e.purposeId&&this.restrictionType===e.restrictionType}}],[{key:"unHash",value:function(t){var n=t.split(this.hashSeparator),i=new e;if(2!==n.length)throw new sY("hash",t);return i.purposeId=parseInt(n[0],10),i.restrictionType=parseInt(n[1],10),i}}])}();s2.hashSeparator="-";var s3={};sP(s3,"PurposeRestrictionVector",function(){return s4});var s4=function(){function e(){var t;r(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=s(this,e,[].concat(i))).bitLength=0,t.map=new Map,t}return h(e,sZ),a(e,[{key:"has",value:function(e){return this.map.has(e)}},{key:"isOkToHave",value:function(e,t,n){var i,s=!0;if(null!=(i=this.gvl)&&i.vendors){var r=this.gvl.vendors[n];if(r)if(e===s1.NOT_ALLOWED)s=r.legIntPurposes.includes(t)||r.purposes.includes(t);else if(r.flexiblePurposes.length)switch(e){case s1.REQUIRE_CONSENT:s=r.flexiblePurposes.includes(t)&&r.legIntPurposes.includes(t);break;case s1.REQUIRE_LI:s=r.flexiblePurposes.includes(t)&&r.purposes.includes(t)}else s=!1;else s=!1}return s}},{key:"add",value:function(e,t){if(this.isOkToHave(t.restrictionType,t.purposeId,e)){var n=t.hash;this.has(n)||(this.map.set(n,new Set),this.bitLength=0),this.map.get(n).add(e)}}},{key:"restrictPurposeToLegalBasis",value:function(e){var t=Array.from(this.gvl.vendorIds),n=e.hash,i=t[t.length-1],s=I(Array(i).keys()).map(function(e){return e+1});if(this.has(n))for(var r=1;r<=i;r++)this.map.get(n).add(r);else this.map.set(n,new Set(s)),this.bitLength=0}},{key:"getVendors",value:function(e){var t=[];if(e){var n=e.hash;this.has(n)&&(t=Array.from(this.map.get(n)))}else{var i=new Set;this.map.forEach(function(e){e.forEach(function(e){i.add(e)})}),t=Array.from(i)}return t.sort(function(e,t){return e-t})}},{key:"getRestrictionType",value:function(e,t){var n;return this.getRestrictions(e).forEach(function(e){e.purposeId===t&&(void 0===n||n>e.restrictionType)&&(n=e.restrictionType)}),n}},{key:"vendorHasRestriction",value:function(e,t){for(var n=!1,i=this.getRestrictions(e),s=0;s<i.length&&!n;s++)n=t.isSameAs(i[s]);return n}},{key:"getMaxVendorId",value:function(){var e=0;return this.map.forEach(function(t){e=Math.max(Array.from(t)[t.size-1],e)}),e}},{key:"getRestrictions",value:function(e){var t=[];return this.map.forEach(function(n,i){e?n.has(e)&&t.push(s2.unHash(i)):t.push(s2.unHash(i))}),t}},{key:"getPurposes",value:function(){var e=new Set;return this.map.forEach(function(t,n){e.add(s2.unHash(n).purposeId)}),Array.from(e)}},{key:"remove",value:function(e,t){var n=t.hash,i=this.map.get(n);i&&(i.delete(e),0==i.size&&(this.map.delete(n),this.bitLength=0))}},{key:"gvl",get:function(){return this.gvl_},set:function(e){var t=this;this.gvl_||(this.gvl_=e,this.map.forEach(function(e,n){var i=s2.unHash(n);Array.from(e).forEach(function(n){t.isOkToHave(i.restrictionType,i.purposeId,n)||e.delete(n)})}))}},{key:"isEmpty",value:function(){return 0===this.map.size}},{key:"numRestrictions",get:function(){return this.map.size}}])}(),s6={};sP(s6,"DeviceDisclosureStorageAccessType",function(){return s5});var s5=((rr={}).COOKIE="cookie",rr.WEB="web",rr.APP="app",rr),s8={};sP(s8,"Segment",function(){return s7});var s7=((ro={}).CORE="core",ro.VENDORS_DISCLOSED="vendorsDisclosed",ro.VENDORS_ALLOWED="vendorsAllowed",ro.PUBLISHER_TC="publisherTC",ro),s9={};sP(s9,"SegmentIDs",function(){return re});var re=a(function e(){r(this,e)});re.ID_TO_KEY=[s7.CORE,s7.VENDORS_DISCLOSED,s7.VENDORS_ALLOWED,s7.PUBLISHER_TC],re.KEY_TO_ID=u(u(u(u({},s7.CORE,0),s7.VENDORS_DISCLOSED,1),s7.VENDORS_ALLOWED,2),s7.PUBLISHER_TC,3);var rt={};sP(rt,"Vector",function(){return rm});var rn,ri,rs,rr,ro,ra,rc,ru,rl,rd,rh,rp,rg,rf,rS,rv,rE,rI,rT,rC,ry,r_,rA,rm=function(){function e(){var t;r(this,e);for(var n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=s(this,e,[].concat(i))).bitLength=0,t.maxId_=0,t.set_=new Set,t}return h(e,sZ),a(e,[{key:Symbol.iterator,value:S().mark(function e(){var t;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=1;case 1:if(!(t<=this.maxId)){e.next=7;break}return e.next=4,[t,this.has(t)];case 4:t++,e.next=1;break;case 7:case"end":return e.stop()}},e,this)})},{key:"values",value:function(){return this.set_.values()}},{key:"maxId",get:function(){return this.maxId_}},{key:"has",value:function(e){return this.set_.has(e)}},{key:"unset",value:function(e){var t=this;Array.isArray(e)?e.forEach(function(e){return t.unset(e)}):"object"===C(e)?this.unset(Object.keys(e).map(function(e){return Number(e)})):(this.set_.delete(Number(e)),this.bitLength=0,e===this.maxId&&(this.maxId_=0,this.set_.forEach(function(e){t.maxId_=Math.max(t.maxId,e)})))}},{key:"isIntMap",value:function(e){var t=this;return"object"===C(e)&&Object.keys(e).every(function(n){var i=Number.isInteger(parseInt(n,10));return(i=i&&t.isValidNumber(e[n].id))&&void 0!==e[n].name})}},{key:"isValidNumber",value:function(e){return parseInt(e,10)>0}},{key:"isSet",value:function(e){var t=!1;return e instanceof Set&&(t=Array.from(e).every(this.isValidNumber)),t}},{key:"set",value:function(e){var t=this;if(Array.isArray(e))e.forEach(function(e){return t.set(e)});else if(this.isSet(e))this.set(Array.from(e));else if(this.isIntMap(e))this.set(Object.keys(e).map(function(e){return Number(e)}));else{if(!this.isValidNumber(e))throw new sY("set()",e,"must be positive integer array, positive integer, Set<number>, or IntMap");this.set_.add(e),this.maxId_=Math.max(this.maxId,e),this.bitLength=0}}},{key:"empty",value:function(){this.set_=new Set}},{key:"forEach",value:function(e){for(var t=1;t<=this.maxId;t++)e(this.has(t),t)}},{key:"size",get:function(){return this.set_.size}},{key:"setAll",value:function(e){this.set(e)}}])}(),rO={};sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(rO,{}),sw(sK,sq),sw(sK,sz),sw(sK,{}),sw(sK,{}),sw(sK,s$),sw(sK,s3),sw(sK,s6),sw(sK,{}),sw(sK,s0),sw(sK,s8),sw(sK,s9),sw(sK,rt),sw(sK,rO);var rN=a(function e(){r(this,e)});ra=sX.cmpId,rc=sX.cmpVersion,ru=sX.consentLanguage,rl=sX.consentScreen,rd=sX.created,rh=sX.isServiceSpecific,rp=sX.lastUpdated,rg=sX.policyVersion,rf=sX.publisherCountryCode,rS=sX.publisherLegitimateInterests,rv=sX.publisherConsents,rE=sX.purposeConsents,rI=sX.purposeLegitimateInterests,rT=sX.purposeOneTreatment,rC=sX.specialFeatureOptins,ry=sX.useNonStandardTexts,r_=sX.vendorListVersion,rA=sX.version,rN[ra]=12,rN[rc]=12,rN[ru]=12,rN[rl]=6,rN[rd]=36,rN[rh]=1,rN[rp]=36,rN[rg]=6,rN[rf]=12,rN[rS]=24,rN[rv]=24,rN[rE]=24,rN[rI]=24,rN[rT]=1,rN[rC]=12,rN[ry]=1,rN[r_]=12,rN[rA]=6,rN.anyBoolean=1,rN.encodingType=1,rN.maxId=16,rN.numCustomPurposes=6,rN.numEntries=12,rN.numRestrictions=12,rN.purposeId=6,rN.restrictionType=2,rN.segmentType=3,rN.singleOrRange=1,rN.vendorId=16;var rb={};sP(rb,"SegmentEncoder",function(){return rZ});var rD={},rR={};sP(rR,"BooleanEncoder",function(){return rL});var rL=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){return String(Number(e))}},{key:"decode",value:function(e){return"1"===e}}]),rw={};sP(rw,"DateEncoder",function(){return rU});var rP={};sP(rP,"IntEncoder",function(){return rV});var rV=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){var n;if("string"==typeof e&&(e=parseInt(e,10)),(n=e.toString(2)).length>t||e<0)throw new sx("".concat(e," too large to encode into ").concat(t));return n.length<t&&(n="0".repeat(t-n.length)+n),n}},{key:"decode",value:function(e,t){if(t!==e.length)throw new sF("invalid bit length");return parseInt(e,2)}}]),rU=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){return rV.encode(Math.round(e.getTime()/100),t)}},{key:"decode",value:function(e,t){if(t!==e.length)throw new sF("invalid bit length");var n=new Date;return n.setTime(100*rV.decode(e,t)),n}}]),rM={};sP(rM,"FieldEncoderMap",function(){return rK});var rk={};sP(rk,"FixedVectorEncoder",function(){return rF});var rF=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){for(var n="",i=1;i<=t;i++)n+=rL.encode(e.has(i));return n}},{key:"decode",value:function(e,t){if(e.length!==t)throw new sF("bitfield encoding length mismatch");for(var n=new rm,i=1;i<=t;i++)rL.decode(e[i-1])&&n.set(i);return n.bitLength=e.length,n}}]),rG={};sP(rG,"LangEncoder",function(){return rx});var rx=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){var n=(e=e.toUpperCase()).charCodeAt(0)-65,i=e.charCodeAt(1)-65;if(n<0||n>25||i<0||i>25)throw new sx("invalid language code: ".concat(e));if(t%2==1)throw new sx("numBits must be even, ".concat(t," is not valid"));return t/=2,rV.encode(n,t)+rV.encode(i,t)}},{key:"decode",value:function(e,t){if(t!==e.length||e.length%2)throw new sF("invalid bit length for language");var n=e.length/2,i=rV.decode(e.slice(0,n),n)+65,s=rV.decode(e.slice(n),n)+65;return String.fromCharCode(i)+String.fromCharCode(s)}}]),rB={};sP(rB,"PurposeRestrictionVectorEncoder",function(){return rH});var rH=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){var t=rV.encode(e.numRestrictions,rN.numRestrictions);if(!e.isEmpty()){var n=function(t,n){for(var i=t+1;i<=n;i++)if(e.gvl.vendorIds.has(i))return i;return t};e.getRestrictions().forEach(function(i){t+=rV.encode(i.purposeId,rN.purposeId),t+=rV.encode(i.restrictionType,rN.restrictionType);for(var s=e.getVendors(i),r=s.length,o=0,a=0,c="",u=0;u<r;u++){var l=s[u];if(0===a&&(o++,a=l),u===r-1||s[u+1]>n(l,s[r-1])){var d=l!==a;c+=rL.encode(d),c+=rV.encode(a,rN.vendorId),d&&(c+=rV.encode(l,rN.vendorId)),a=0}}t+=rV.encode(o,rN.numEntries),t+=c})}return t}},{key:"decode",value:function(e){var t=0,n=new s4,i=rV.decode(e.substr(t,rN.numRestrictions),rN.numRestrictions);t+=rN.numRestrictions;for(var s=0;s<i;s++){var r=rV.decode(e.substr(t,rN.purposeId),rN.purposeId);t+=rN.purposeId;var o=rV.decode(e.substr(t,rN.restrictionType),rN.restrictionType);t+=rN.restrictionType;var a=new s2(r,o),c=rV.decode(e.substr(t,rN.numEntries),rN.numEntries);t+=rN.numEntries;for(var u=0;u<c;u++){var l=rL.decode(e.substr(t,rN.anyBoolean));t+=rN.anyBoolean;var d=rV.decode(e.substr(t,rN.vendorId),rN.vendorId);if(t+=rN.vendorId,l){var h=rV.decode(e.substr(t,rN.vendorId),rN.vendorId);if(t+=rN.vendorId,h<d)throw new sF("Invalid RangeEntry: endVendorId ".concat(h," is less than ").concat(d));for(var p=d;p<=h;p++)n.add(p,a)}else n.add(d,a)}}return n.bitLength=t,n}}]),rj={};sP(rj,"VendorVectorEncoder",function(){return rW});var rY={};sP(rY,"VectorEncodingType",function(){return rJ});var rJ=((r6={})[r6.FIELD=0]="FIELD",r6[r6.RANGE=1]="RANGE",r6),rW=a(function e(){r(this,e)},null,[{key:"encode",value:function(e){var t,n=[],i=[],s=rV.encode(e.maxId,rN.maxId),r="",o=rN.maxId+rN.encodingType,a=o+e.maxId,c=2*rN.vendorId+rN.singleOrRange+rN.numEntries,u=o+rN.numEntries;return e.forEach(function(s,o){r+=rL.encode(s),(t=e.maxId>c&&u<a)&&s&&(e.has(o+1)?0===i.length&&(i.push(o),u+=rN.singleOrRange,u+=rN.vendorId):(i.push(o),u+=rN.vendorId,n.push(i),i=[]))}),t?(s+=String(rJ.RANGE),s+=this.buildRangeEncoding(n)):(s+=String(rJ.FIELD),s+=r),s}},{key:"decode",value:function(e,t){var n,i=0,s=rV.decode(e.substr(i,rN.maxId),rN.maxId);i+=rN.maxId;var r=rV.decode(e.charAt(i),rN.encodingType);if(i+=rN.encodingType,r===rJ.RANGE){if(n=new rm,1===t){if("1"===e.substr(i,1))throw new sF("Unable to decode default consent=1");i++}var o=rV.decode(e.substr(i,rN.numEntries),rN.numEntries);i+=rN.numEntries;for(var a=0;a<o;a++){var c=rL.decode(e.charAt(i));i+=rN.singleOrRange;var u=rV.decode(e.substr(i,rN.vendorId),rN.vendorId);if(i+=rN.vendorId,c){var l=rV.decode(e.substr(i,rN.vendorId),rN.vendorId);i+=rN.vendorId;for(var d=u;d<=l;d++)n.set(d)}else n.set(u)}}else{var h=e.substr(i,s);i+=s,n=rF.decode(h,s)}return n.bitLength=i,n}},{key:"buildRangeEncoding",value:function(e){var t=e.length,n=rV.encode(t,rN.numEntries);return e.forEach(function(e){var t=1===e.length;n+=rL.encode(!t),n+=rV.encode(e[0],rN.vendorId),t||(n+=rV.encode(e[1],rN.vendorId))}),n}}]);function rK(){var e;return u(u(u(u(u(u(u(u(u(u(e={},sX.version,rV),sX.created,rU),sX.lastUpdated,rU),sX.cmpId,rV),sX.cmpVersion,rV),sX.consentScreen,rV),sX.consentLanguage,rx),sX.vendorListVersion,rV),sX.policyVersion,rV),sX.isServiceSpecific,rL),u(u(u(u(u(u(u(u(u(u(e,sX.useNonStandardTexts,rL),sX.specialFeatureOptins,rF),sX.purposeConsents,rF),sX.purposeLegitimateInterests,rF),sX.purposeOneTreatment,rL),sX.publisherCountryCode,rx),sX.vendorConsents,rW),sX.vendorLegitimateInterests,rW),sX.publisherRestrictions,rH),"segmentType",rV),u(u(u(u(u(u(u(e,sX.vendorsDisclosed,rW),sX.vendorsAllowed,rW),sX.publisherConsents,rF),sX.publisherLegitimateInterests,rF),sX.numCustomPurposes,rV),sX.publisherCustomConsents,rF),sX.publisherCustomLegitimateInterests,rF)}sw(rD,rR),sw(rD,rw),sw(rD,rM),sw(rD,rk),sw(rD,rP),sw(rD,rG),sw(rD,rB),sw(rD,rY),sw(rD,rj);var rq={},rQ={};sP(rQ,"FieldSequence",function(){return rz});var rz=a(function e(){r(this,e),this[1]=u({},s7.CORE,[sX.version,sX.created,sX.lastUpdated,sX.cmpId,sX.cmpVersion,sX.consentScreen,sX.consentLanguage,sX.vendorListVersion,sX.purposeConsents,sX.vendorConsents]),this[2]=u(u(u(u({},s7.CORE,[sX.version,sX.created,sX.lastUpdated,sX.cmpId,sX.cmpVersion,sX.consentScreen,sX.consentLanguage,sX.vendorListVersion,sX.policyVersion,sX.isServiceSpecific,sX.useNonStandardTexts,sX.specialFeatureOptins,sX.purposeConsents,sX.purposeLegitimateInterests,sX.purposeOneTreatment,sX.publisherCountryCode,sX.vendorConsents,sX.vendorLegitimateInterests,sX.publisherRestrictions]),s7.PUBLISHER_TC,[sX.publisherConsents,sX.publisherLegitimateInterests,sX.numCustomPurposes,sX.publisherCustomConsents,sX.publisherCustomLegitimateInterests]),s7.VENDORS_ALLOWED,[sX.vendorsAllowed]),s7.VENDORS_DISCLOSED,[sX.vendorsDisclosed])}),rX={};sP(rX,"SegmentSequence",function(){return r$});var r$=a(function e(t,n){if(r(this,e),this[1]=[s7.CORE],this[2]=[s7.CORE],2===t.version)if(t.isServiceSpecific)this[2].push(s7.PUBLISHER_TC);else{var i=!(!n||!n.isForVendors);i&&!0!==t[sX.supportOOB]||this[2].push(s7.VENDORS_DISCLOSED),i&&(t[sX.supportOOB]&&t[sX.vendorsAllowed].size>0&&this[2].push(s7.VENDORS_ALLOWED),this[2].push(s7.PUBLISHER_TC))}});sw(rq,rQ),sw(rq,rX),sw(rq,{});var rZ=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){var n,i=this;try{n=this.fieldSequence[String(e.version)][t]}catch(n){throw new sx("Unable to encode version: ".concat(e.version,", segment: ").concat(t))}var s="";t!==s7.CORE&&(s=rV.encode(re.KEY_TO_ID[t],rN.segmentType));var r=rK();return n.forEach(function(n){var o=e[n],a=r[n],c=rN[n];void 0===c&&i.isPublisherCustom(n)&&(c=Number(e[sX.numCustomPurposes]));try{s+=a.encode(o,c)}catch(e){throw new sx("Error encoding ".concat(t,"->").concat(n,": ").concat(e.message))}}),sJ.encode(s)}},{key:"decode",value:function(e,t,n){var i=this,s=sJ.decode(e),r=0;n===s7.CORE&&(t.version=rV.decode(s.substr(r,rN[sX.version]),rN[sX.version])),n!==s7.CORE&&(r+=rN.segmentType);var o=this.fieldSequence[String(t.version)][n],a=rK();return o.forEach(function(e){var n=a[e],o=rN[e];if(void 0===o&&i.isPublisherCustom(e)&&(o=Number(t[sX.numCustomPurposes])),0!==o){var c=s.substr(r,o);if(t[e]=n===rW?n.decode(c,t.version):n.decode(c,o),Number.isInteger(o))r+=o;else{if(!Number.isInteger(t[e].bitLength))throw new sF(e);r+=t[e].bitLength}}}),t}},{key:"isPublisherCustom",value:function(e){return 0===e.indexOf("publisherCustom")}}]);rZ.fieldSequence=new rz;var r0={};sP(r0,"SemanticPreEncoder",function(){return r1});var r1=a(function e(){r(this,e)},null,[{key:"process",value:function(e,t){var n=e.gvl;if(!n)throw new sx("Unable to encode TCModel without a GVL");if(!n.isReady)throw new sx("Unable to encode TCModel tcModel.gvl.readyPromise is not resolved");(e=e.clone()).consentLanguage=n.language.slice(0,2).toUpperCase(),(null==t?void 0:t.version)>0&&(null==t?void 0:t.version)<=this.processor.length?e.version=t.version:e.version=this.processor.length;var i=e.version-1;if(!this.processor[i])throw new sx("Invalid version: ".concat(e.version));return this.processor[i](e,n)}}]);r1.processor=[function(e){return e},function(e,t){e.publisherRestrictions.gvl=t,e.purposeLegitimateInterests.unset([1,3,4,5,6]);var n=new Map;return n.set("legIntPurposes",e.vendorLegitimateInterests),n.set("purposes",e.vendorConsents),n.forEach(function(n,i){n.forEach(function(s,r){if(s){var o=t.vendors[r];if(!o||o.deletedDate)n.unset(r);else if(0===o[i].length)if("legIntPurposes"===i&&0===o.purposes.length&&0===o.legIntPurposes.length&&o.specialPurposes.length>0)n.set(r);else if(e.isServiceSpecific)if(0===o.flexiblePurposes.length)n.unset(r);else{for(var a=e.publisherRestrictions.getRestrictions(r),c=!1,u=0,l=a.length;u<l&&!c;u++)c=a[u].restrictionType===s1.REQUIRE_CONSENT&&"purposes"===i||a[u].restrictionType===s1.REQUIRE_LI&&"legIntPurposes"===i;c||n.unset(r)}else n.unset(r)}})}),e.vendorsDisclosed.set(t.vendors),e}],sw(sV,sU),sw(sV,sW),sw(sV,{}),sw(sV,rb),sw(sV,r0),sw(sV,rD),sw(sV,rq),sP({},"GVL",function(){return r3}),sP({},"Json",function(){return r2});var r2=a(function e(){r(this,e)},null,[{key:"absCall",value:function(e,t,n,i){return new Promise(function(s,r){var o=new XMLHttpRequest;o.withCredentials=n,o.addEventListener("load",function(){if(o.readyState==XMLHttpRequest.DONE)if(o.status>=200&&o.status<300){var e=o.response;if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}s(e)}else r(Error("HTTP Status: ".concat(o.status," response type: ").concat(o.responseType)))}),o.addEventListener("error",function(){r(Error("error"))}),o.addEventListener("abort",function(){r(Error("aborted"))}),null===t?o.open("GET",e,!0):o.open("POST",e,!0),o.responseType="json",o.timeout=i,o.ontimeout=function(){r(Error("Timeout "+i+"ms "+e))},o.send(t)})}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return this.absCall(e,JSON.stringify(t),n,i)}},{key:"fetch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.absCall(e,null,t,n)}}]),r3=function(){var e,t;function n(e,t){r(this,n),(i=s(this,n)).isReady_=!1,i.isLatest=!1;var i,o=n.baseUrl,a=null==t?void 0:t.language;if(a)try{a=n.consentLanguages.parseLanguage(a)}catch(e){throw new sH("Error during parsing the language: "+e.message)}if(i.lang_=a||n.DEFAULT_LANGUAGE,i.cacheLang_=a||n.DEFAULT_LANGUAGE,i.isVendorList(e))i.populate(e),i.readyPromise=Promise.resolve();else{if(!o)throw new sH("must specify GVL.baseUrl before loading GVL json");e>0?n.CACHE.has(e)?(i.populate(n.CACHE.get(e)),i.readyPromise=Promise.resolve()):(o+=n.versionedFilename.replace("[VERSION]",String(e)),i.readyPromise=i.fetchJson(o)):n.CACHE.has(n.LATEST_CACHE_KEY)?(i.populate(n.CACHE.get(n.LATEST_CACHE_KEY)),i.readyPromise=Promise.resolve()):(i.isLatest=!0,i.readyPromise=i.fetchJson(o+n.latestFilename))}return i}return h(n,sZ),a(n,[{key:"cacheLanguage",value:function(){n.LANGUAGE_CACHE.has(this.cacheLang_)||n.LANGUAGE_CACHE.set(this.cacheLang_,{purposes:this.purposes,specialPurposes:this.specialPurposes,features:this.features,specialFeatures:this.specialFeatures,stacks:this.stacks,dataCategories:this.dataCategories})}},{key:"fetchJson",value:(t=i(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.t0=this,e.next=4,r2.fetch(t);case 4:e.t1=e.sent,e.t0.populate.call(e.t0,e.t1),e.next=11;break;case 8:throw e.prev=8,e.t2=e.catch(0),new sH(e.t2.message);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),function(e){return t.apply(this,arguments)})},{key:"getJson",value:function(){return f(f({gvlSpecificationVersion:this.gvlSpecificationVersion,vendorListVersion:this.vendorListVersion,tcfPolicyVersion:this.tcfPolicyVersion,lastUpdated:this.lastUpdated,purposes:this.clonePurposes(),specialPurposes:this.cloneSpecialPurposes(),features:this.cloneFeatures(),specialFeatures:this.cloneSpecialFeatures(),stacks:this.cloneStacks()},this.dataCategories?{dataCategories:this.cloneDataCategories()}:{}),{},{vendors:this.cloneVendors()})}},{key:"cloneSpecialFeatures",value:function(){for(var e={},t=0,i=Object.keys(this.specialFeatures);t<i.length;t++){var s=i[t];e[s]=n.cloneFeature(this.specialFeatures[s])}return e}},{key:"cloneFeatures",value:function(){for(var e={},t=0,i=Object.keys(this.features);t<i.length;t++){var s=i[t];e[s]=n.cloneFeature(this.features[s])}return e}},{key:"cloneStacks",value:function(){for(var e={},t=0,i=Object.keys(this.stacks);t<i.length;t++){var s=i[t];e[s]=n.cloneStack(this.stacks[s])}return e}},{key:"cloneDataCategories",value:function(){for(var e={},t=0,i=Object.keys(this.dataCategories);t<i.length;t++){var s=i[t];e[s]=n.cloneDataCategory(this.dataCategories[s])}return e}},{key:"cloneSpecialPurposes",value:function(){for(var e={},t=0,i=Object.keys(this.specialPurposes);t<i.length;t++){var s=i[t];e[s]=n.clonePurpose(this.specialPurposes[s])}return e}},{key:"clonePurposes",value:function(){for(var e={},t=0,i=Object.keys(this.purposes);t<i.length;t++){var s=i[t];e[s]=n.clonePurpose(this.purposes[s])}return e}},{key:"cloneVendors",value:function(){for(var e={},t=0,i=Object.keys(this.fullVendorList);t<i.length;t++){var s=i[t];e[s]=n.cloneVendor(this.fullVendorList[s])}return e}},{key:"changeLanguage",value:(e=i(S().mark(function e(t){var i,s,r,o,a;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t,e.prev=1,i=n.consentLanguages.parseLanguage(t),e.next=8;break;case 5:throw e.prev=5,e.t0=e.catch(1),new sH("Error during parsing the language: "+e.t0.message);case 8:if(s=t.toUpperCase(),i.toLowerCase()!==n.DEFAULT_LANGUAGE.toLowerCase()||n.LANGUAGE_CACHE.has(s)){e.next=11;break}return e.abrupt("return");case 11:if(i===this.lang_){e.next=29;break}if(this.lang_=i,!n.LANGUAGE_CACHE.has(s)){e.next=18;break}for(o in r=n.LANGUAGE_CACHE.get(s))r.hasOwnProperty(o)&&(this[o]=r[o]);e.next=29;break;case 18:return a=n.baseUrl+n.languageFilename.replace("[LANG]",this.lang_.toLowerCase()),e.prev=19,e.next=22,this.fetchJson(a);case 22:this.cacheLang_=s,this.cacheLanguage(),e.next=29;break;case 26:throw e.prev=26,e.t1=e.catch(19),new sH("unable to load language: "+e.t1.message);case 29:case"end":return e.stop()}},e,this,[[1,5],[19,26]])})),function(t){return e.apply(this,arguments)})},{key:"language",get:function(){return this.lang_}},{key:"isVendorList",value:function(e){return void 0!==e&&void 0!==e.vendors}},{key:"populate",value:function(e){this.purposes=e.purposes,this.specialPurposes=e.specialPurposes,this.features=e.features,this.specialFeatures=e.specialFeatures,this.stacks=e.stacks,this.dataCategories=e.dataCategories,this.isVendorList(e)&&(this.gvlSpecificationVersion=e.gvlSpecificationVersion,this.tcfPolicyVersion=e.tcfPolicyVersion,this.vendorListVersion=e.vendorListVersion,this.lastUpdated=e.lastUpdated,"string"==typeof this.lastUpdated&&(this.lastUpdated=new Date(this.lastUpdated)),this.vendors_=e.vendors,this.fullVendorList=e.vendors,this.mapVendors(),this.isReady_=!0,this.isLatest&&n.CACHE.set(n.LATEST_CACHE_KEY,this.getJson()),n.CACHE.has(this.vendorListVersion)||n.CACHE.set(this.vendorListVersion,this.getJson())),this.cacheLanguage()}},{key:"mapVendors",value:function(e){var t=this;this.byPurposeVendorMap={},this.bySpecialPurposeVendorMap={},this.byFeatureVendorMap={},this.bySpecialFeatureVendorMap={},Object.keys(this.purposes).forEach(function(e){t.byPurposeVendorMap[e]={legInt:new Set,consent:new Set,flexible:new Set}}),Object.keys(this.specialPurposes).forEach(function(e){t.bySpecialPurposeVendorMap[e]=new Set}),Object.keys(this.features).forEach(function(e){t.byFeatureVendorMap[e]=new Set}),Object.keys(this.specialFeatures).forEach(function(e){t.bySpecialFeatureVendorMap[e]=new Set}),Array.isArray(e)||(e=Object.keys(this.fullVendorList).map(function(e){return+e})),this.vendorIds=new Set(e),this.vendors_=e.reduce(function(e,n){var i=t.vendors_[String(n)];return i&&void 0===i.deletedDate&&(i.purposes.forEach(function(e){t.byPurposeVendorMap[String(e)].consent.add(n)}),i.specialPurposes.forEach(function(e){t.bySpecialPurposeVendorMap[String(e)].add(n)}),i.legIntPurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].legInt.add(n)}),i.flexiblePurposes&&i.flexiblePurposes.forEach(function(e){t.byPurposeVendorMap[String(e)].flexible.add(n)}),i.features.forEach(function(e){t.byFeatureVendorMap[String(e)].add(n)}),i.specialFeatures.forEach(function(e){t.bySpecialFeatureVendorMap[String(e)].add(n)}),e[n]=i),e},{})}},{key:"getFilteredVendors",value:function(e,t,n,i){var s=this,r=e.charAt(0).toUpperCase()+e.slice(1),o={};return("purpose"===e&&n?this["by"+r+"VendorMap"][String(t)][n]:this["by"+(i?"Special":"")+r+"VendorMap"][String(t)]).forEach(function(e){o[String(e)]=s.vendors[String(e)]}),o}},{key:"getVendorsWithConsentPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"consent")}},{key:"getVendorsWithLegIntPurpose",value:function(e){return this.getFilteredVendors("purpose",e,"legInt")}},{key:"getVendorsWithFlexiblePurpose",value:function(e){return this.getFilteredVendors("purpose",e,"flexible")}},{key:"getVendorsWithSpecialPurpose",value:function(e){return this.getFilteredVendors("purpose",e,void 0,!0)}},{key:"getVendorsWithFeature",value:function(e){return this.getFilteredVendors("feature",e)}},{key:"getVendorsWithSpecialFeature",value:function(e){return this.getFilteredVendors("feature",e,void 0,!0)}},{key:"vendors",get:function(){return this.vendors_}},{key:"narrowVendorsTo",value:function(e){this.mapVendors(e)}},{key:"isReady",get:function(){return this.isReady_}},{key:"clone",value:function(){var e=new n(this.getJson());return this.lang_!==n.DEFAULT_LANGUAGE&&e.changeLanguage(this.lang_),e}}],[{key:"baseUrl",get:function(){return this.baseUrl_},set:function(e){if(/^https?:\/\/vendorlist\.consensu\.org\//.test(e))throw new sH("Invalid baseUrl!  You may not pull directly from vendorlist.consensu.org and must provide your own cache");e.length>0&&"/"!==e[e.length-1]&&(e+="/"),this.baseUrl_=e}},{key:"emptyLanguageCache",value:function(e){var t=!1;return null==e&&n.LANGUAGE_CACHE.size>0?(n.LANGUAGE_CACHE=new Map,t=!0):"string"==typeof e&&this.consentLanguages.has(e.toUpperCase())&&(n.LANGUAGE_CACHE.delete(e.toUpperCase()),t=!0),t}},{key:"emptyCache",value:function(e){var t=!1;return Number.isInteger(e)&&e>=0?(n.CACHE.delete(e),t=!0):void 0===e&&(n.CACHE=new Map,t=!0),t}},{key:"clonePurpose",value:function(e){return f(f({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneFeature",value:function(e){return f(f({id:e.id,name:e.name,description:e.description},e.descriptionLegal?{descriptionLegal:e.descriptionLegal}:{}),e.illustrations?{illustrations:Array.from(e.illustrations)}:{})}},{key:"cloneDataCategory",value:function(e){return{id:e.id,name:e.name,description:e.description}}},{key:"cloneStack",value:function(e){return{id:e.id,name:e.name,description:e.description,purposes:Array.from(e.purposes),specialFeatures:Array.from(e.specialFeatures)}}},{key:"cloneDataRetention",value:function(e){return f(f({},"number"==typeof e.stdRetention?{stdRetention:e.stdRetention}:{}),{},{purposes:f({},e.purposes),specialPurposes:f({},e.specialPurposes)})}},{key:"cloneVendorUrls",value:function(e){return e.map(function(e){return f({langId:e.langId,privacy:e.privacy},e.legIntClaim?{legIntClaim:e.legIntClaim}:{})})}},{key:"cloneVendor",value:function(e){return f(f(f(f(f(f(f(f(f(f(f({id:e.id,name:e.name,purposes:Array.from(e.purposes),legIntPurposes:Array.from(e.legIntPurposes),flexiblePurposes:Array.from(e.flexiblePurposes),specialPurposes:Array.from(e.specialPurposes),features:Array.from(e.features),specialFeatures:Array.from(e.specialFeatures)},e.overflow?{overflow:{httpGetLimit:e.overflow.httpGetLimit}}:{}),"number"==typeof e.cookieMaxAgeSeconds||null===e.cookieMaxAgeSeconds?{cookieMaxAgeSeconds:e.cookieMaxAgeSeconds}:{}),void 0!==e.usesCookies?{usesCookies:e.usesCookies}:{}),e.policyUrl?{policyUrl:e.policyUrl}:{}),void 0!==e.cookieRefresh?{cookieRefresh:e.cookieRefresh}:{}),void 0!==e.usesNonCookieAccess?{usesNonCookieAccess:e.usesNonCookieAccess}:{}),e.dataRetention?{dataRetention:this.cloneDataRetention(e.dataRetention)}:{}),e.urls?{urls:this.cloneVendorUrls(e.urls)}:{}),e.dataDeclaration?{dataDeclaration:Array.from(e.dataDeclaration)}:{}),e.deviceStorageDisclosureUrl?{deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl}:{}),e.deletedDate?{deletedDate:e.deletedDate}:{})}},{key:"isInstanceOf",value:function(e){return"object"===C(e)&&"function"==typeof e.narrowVendorsTo}}])}();r3.LANGUAGE_CACHE=new Map,r3.CACHE=new Map,r3.LATEST_CACHE_KEY=0,r3.DEFAULT_LANGUAGE="EN",r3.consentLanguages=new sQ,r3.latestFilename="vendor-list.json",r3.versionedFilename="archives/vendor-list-v[VERSION].json",r3.languageFilename="purposes-[LANG].json",sP({},"TCModel",function(){return r4});var r4=function(){function e(t){var n;return r(this,e),(n=s(this,e)).isServiceSpecific_=!1,n.supportOOB_=!0,n.useNonStandardTexts_=!1,n.purposeOneTreatment_=!1,n.publisherCountryCode_="AA",n.version_=2,n.consentScreen_=0,n.policyVersion_=4,n.consentLanguage_="EN",n.cmpId_=0,n.cmpVersion_=0,n.vendorListVersion_=0,n.numCustomPurposes_=0,n.addtlConsent_="",n.enableAdvertiserConsentMode_=!1,n.specialFeatureOptins=new rm,n.purposeConsents=new rm,n.purposeLegitimateInterests=new rm,n.publisherConsents=new rm,n.publisherLegitimateInterests=new rm,n.publisherCustomConsents=new rm,n.publisherCustomLegitimateInterests=new rm,n.vendorConsents=new rm,n.vendorLegitimateInterests=new rm,n.vendorsDisclosed=new rm,n.vendorsAllowed=new rm,n.publisherRestrictions=new s4,t&&(n.gvl=t),n.updated(),n}return h(e,sZ),a(e,[{key:"gvl",get:function(){return this.gvl_},set:function(e){r3.isInstanceOf(e)||(e=new r3(e)),this.gvl_=e,this.publisherRestrictions.gvl=e}},{key:"cmpId",get:function(){return this.cmpId_},set:function(e){if(!(Number.isInteger(e=Number(e))&&e>1))throw new sY("cmpId",e);this.cmpId_=e}},{key:"cmpVersion",get:function(){return this.cmpVersion_},set:function(e){if(!(Number.isInteger(e=Number(e))&&e>-1))throw new sY("cmpVersion",e);this.cmpVersion_=e}},{key:"consentScreen",get:function(){return this.consentScreen_},set:function(e){if(!(Number.isInteger(e=Number(e))&&e>-1))throw new sY("consentScreen",e);this.consentScreen_=e}},{key:"consentLanguage",get:function(){return this.consentLanguage_},set:function(e){this.consentLanguage_=e}},{key:"publisherCountryCode",get:function(){return this.publisherCountryCode_},set:function(e){if(!/^([A-z]){2}$/.test(e))throw new sY("publisherCountryCode",e);this.publisherCountryCode_=e.toUpperCase()}},{key:"vendorListVersion",get:function(){return this.gvl?this.gvl.vendorListVersion:this.vendorListVersion_},set:function(e){if((e=0|Number(e))<0)throw new sY("vendorListVersion",e);this.vendorListVersion_=e}},{key:"policyVersion",get:function(){return this.gvl?this.gvl.tcfPolicyVersion:this.policyVersion_},set:function(e){if(this.policyVersion_=parseInt(e,10),this.policyVersion_<0)throw new sY("policyVersion",e)}},{key:"version",get:function(){return this.version_},set:function(e){this.version_=parseInt(e,10)}},{key:"isServiceSpecific",get:function(){return this.isServiceSpecific_},set:function(e){this.isServiceSpecific_=e}},{key:"useNonStandardTexts",get:function(){return this.useNonStandardTexts_},set:function(e){this.useNonStandardTexts_=e}},{key:"supportOOB",get:function(){return this.supportOOB_},set:function(e){this.supportOOB_=e}},{key:"addtlConsent",get:function(){return this.addtlConsent_},set:function(e){this.addtlConsent_=e||""}},{key:"enableAdvertiserConsentMode",get:function(){return this.enableAdvertiserConsentMode_},set:function(e){this.enableAdvertiserConsentMode_=!0===e}},{key:"purposeOneTreatment",get:function(){return this.purposeOneTreatment_},set:function(e){this.purposeOneTreatment_=e}},{key:"setAllVendorConsents",value:function(){this.vendorConsents.set(this.gvl.vendors)}},{key:"unsetAllVendorConsents",value:function(){this.vendorConsents.empty()}},{key:"setAllVendorsDisclosed",value:function(){this.vendorsDisclosed.set(this.gvl.vendors)}},{key:"unsetAllVendorsDisclosed",value:function(){this.vendorsDisclosed.empty()}},{key:"setAllVendorsAllowed",value:function(){this.vendorsAllowed.set(this.gvl.vendors)}},{key:"unsetAllVendorsAllowed",value:function(){this.vendorsAllowed.empty()}},{key:"setAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.set(this.gvl.vendors)}},{key:"unsetAllVendorLegitimateInterests",value:function(){this.vendorLegitimateInterests.empty()}},{key:"setAllPurposeConsents",value:function(){this.purposeConsents.set(this.gvl.purposes)}},{key:"unsetAllPurposeConsents",value:function(){this.purposeConsents.empty()}},{key:"setAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPurposeLegitimateInterests",value:function(){this.purposeLegitimateInterests.empty()}},{key:"setAllPublisherConsents",value:function(){this.publisherConsents.set(this.gvl.purposes)}},{key:"unsetAllPublisherConsents",value:function(){this.publisherConsents.empty()}},{key:"setAllPublisherLegitimateInterests",value:function(){this.publisherLegitimateInterests.set(this.gvl.purposes)}},{key:"unsetAllPublisherLegitimateInterests",value:function(){this.publisherLegitimateInterests.empty()}},{key:"setAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.set(this.gvl.specialFeatures)}},{key:"unsetAllSpecialFeatureOptins",value:function(){this.specialFeatureOptins.empty()}},{key:"setAll",value:function(){this.setAllVendorConsents(),this.setAllPurposeLegitimateInterests(),this.setAllSpecialFeatureOptins(),this.setAllPurposeConsents(),this.setAllPublisherConsents(),this.setAllPublisherLegitimateInterests(),this.setAllVendorLegitimateInterests()}},{key:"unsetAll",value:function(){this.unsetAllVendorConsents(),this.unsetAllPurposeLegitimateInterests(),this.unsetAllSpecialFeatureOptins(),this.unsetAllPurposeConsents(),this.unsetAllPublisherConsents(),this.unsetAllPublisherLegitimateInterests(),this.unsetAllVendorLegitimateInterests()}},{key:"numCustomPurposes",get:function(){var e=this.numCustomPurposes_;return"object"===C(this.customPurposes)&&(e=parseInt(Object.keys(this.customPurposes).sort(function(e,t){return Number(e)-Number(t)}).pop(),10)),e},set:function(e){if(this.numCustomPurposes_=parseInt(e,10),this.numCustomPurposes_<0)throw new sY("numCustomPurposes",e)}},{key:"updated",value:function(){var e=new Date,t=new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()));this.created=t,this.lastUpdated=t}}])}();r4.consentLanguages=r3.consentLanguages,sP({},"TCString",function(){return on});var r6,r5,r8,r7,r9,oe,ot,on=a(function e(){r(this,e)},null,[{key:"encode",value:function(e,t){var n,i="";return e=r1.process(e,t),(n=Array.isArray(null==t?void 0:t.segments)?t.segments:new r$(e,t)[""+e.version]).forEach(function(t,s){var r="";s<n.length-1&&(r="."),i+=rZ.encode(e,t)+r}),i}},{key:"decode",value:function(e,t){var n=e.split("."),i=n.length;t||(t=new r4);for(var s=0;s<i;s++){var r=n[s],o=sJ.decode(r.charAt(0)).substr(0,rN.segmentType),a=re.ID_TO_KEY[rV.decode(o,rN.segmentType).toString()];rZ.decode(r,t,a)}return t}}]),oi=function(e,t,n){return t?e.map(function(e){return t&&t[e.id]?U(U({},e),{name:"".concat(e.name," (").concat(n,": ").concat(t[e.id],")")}):e}):e},os=function(e,t,n,i,s,r,o){if(!e)return[];var a=e.gvl,c=e.publisherRestrictions,u=e.vendorConsents,l=e.vendorLegitimateInterests;if(!a)return[];var d=eF.fetchTCFVendorsDisclosedObject(a.vendors),h=oI(c);return Object.values(a.vendors).map(function(e){var c,p,g,f=eK(e.purposes,a.purposes),S=eK(e.legIntPurposes,a.purposes);s&&(f=f.filter(function(e){return 1!==e.id}));var v=od(e.id,d),E=f.map(function(e){return e}),I=S.map(function(e){return e});h.forEach(function(t){var n=t.purposeId,i=t.restrictionType,s=e.flexiblePurposes.indexOf(n)>-1;switch(i){case s1.NOT_ALLOWED:E=E.filter(function(e){return e.id!==n}),I=I.filter(function(e){return e.id!==n});break;case s1.REQUIRE_CONSENT:I=I.filter(function(e){return e.id!==n||(s&&E.push(e),!1)});break;case s1.REQUIRE_LI:E=E.filter(function(e){return e.id!==n||(s&&I.push(e),!1)})}});var T="",C="";e.urls&&e.urls.forEach(function(e){var t=e.langId,n=e.legIntClaim,i=e.privacy,s=t&&a.language&&t.toLowerCase()===a.language.toLowerCase();i&&(T&&!s||(T=i)),n&&(C&&!s||(C=n))});var y,_=r.includes(e.id),A=null==(c=e.dataDeclaration)?void 0:c.reduce(function(e,t){var n=a.dataCategories&&a.dataCategories[t];if(n){var i=U(U({},n),{id:n.id.toString()});return e?G(G([],F(e),!1),[i],!1):[i]}return e},[]);e.dataRetention&&e.dataRetention.stdRetention&&(y=[{id:e.dataRetention.stdRetention.toString(),name:e.dataRetention.stdRetention.toString()}]);var m=eK(e.specialFeatures.filter(function(e){return!t.includes(e)}),a.specialFeatures);return U(U(U({consent:v?u.has(e.id):null,cookieMaxAgeSeconds:e.cookieMaxAgeSeconds&&e.cookieMaxAgeSeconds>=0?e.cookieMaxAgeSeconds:null,cookieRefresh:eY(e.cookieRefresh,null)},A&&{dataCategories:A}),y&&{dataRetention:y}),{deviceStorage:null,deviceStorageDisclosureUrl:e.deviceStorageDisclosureUrl||null,features:e.features.map(function(e){return{id:e,name:a.features[e].name}}),flexiblePurposes:eK(e.flexiblePurposes,a.purposes),id:e.id,legitimateInterestClaimUrl:C,legitimateInterestConsent:v?l.has(e.id):null,legitimateInterestPurposes:I,name:e.name,policyUrl:e.policyUrl,privacyUrl:T,purposes:oi(E,null==(p=e.dataRetention)?void 0:p.purposes,o),showConsentToggle:E.length>0&&n,showLegitimateInterestConsentToggle:I.length>0&&n&&!i,showVendorOutsideEU:_,specialFeatures:m,specialPurposes:oi(eK(e.specialPurposes,a.specialPurposes),null==(g=e.dataRetention)?void 0:g.specialPurposes,o),usesCookies:eY(e.usesCookies,!1),usesNonCookieAccess:eY(e.usesNonCookieAccess,null)})})},or=function(e){return{legitimateInterestPurposes:(null==e?void 0:e.legIntPurposes)||[],notAllowedPurposes:(null==e?void 0:e.notAllowedPurposes)||[],purposes:(null==e?void 0:e.purposes)||[]}},oo=function(e){return Object.entries(e).map(function(e){var t=F(e,2),n=t[0],i=t[1];return{id:parseInt(n.replace("p",""),10),name:i}})},oa=function(e){return e||"/browser-sdk/".concat(ey,"/cookie-bridge.html")},oc=function(e){return e||"https://usercentrics.mgr.consensu.org:443"},ou=function(e,t){return t&&0!==e.length?eq(e.reduce(function(e,t){return e.concat(t.features.map(function(e){return e.id}))},[])).reduce(function(e,n){var i=t[n];return i?G(G([],F(e),!1),[i],!1):e},[]):[]},ol=function(e,t){return!e||!t},od=function(e,t){return void 0===t&&(t=eF.fetchTCFVendorsDisclosedObject()),!0===t[e]},oh=function(e,t,n,i,s){var r=t.reduce(function(e,t){return e.concat(t.purposes.map(function(e){return e.id})).concat(t.legitimateInterestPurposes.map(function(e){return e.id}))},[]),o=oE(e,n,i).reduce(function(e,t){return e.concat(t.purposeIds)},[]),a=eq(r.concat(o));return s?a.filter(function(e){return 1!==e}):a},op=function(e,t,n,i,s,r,o,a,c){if(!e||!t||!n)return[];var u=oh(t,i,s,r,o),l=oE(t,s,r),d=eF.fetchTCFData().vendors,h=e.purposeConsents,p=e.purposeLegitimateInterests,g=eq(i.map(function(e){return e.legitimateInterestPurposes.map(function(e){return e.id})}).reduce(function(e,t){return e.concat(t)},[])),f=eq(i.map(function(e){return e.purposes.map(function(e){return e.id})}).reduce(function(e,t){return e.concat(t)},[])),S=u.reduce(function(e,t){var n,s=i.filter(function(e){return e.purposes.find(function(e){return e.id===t})}),r=i.filter(function(e){return e.legitimateInterestPurposes.find(function(e){return e.id===t})});return U(U({},e),((n={})[t]=s.length+r.length,n))},{});return u.reduce(function(e,t){var i=n[t];if(!i)return e;var s=l.find(function(e){return e.purposeIds.includes(t)});return G(G([],F(e),!1),[{consent:d.length?h.has(t):null,description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,legitimateInterestConsent:d.length?p.has(t):null,name:i.name,numberOfVendors:S[i.id]||0,showConsentToggle:f.includes(t)&&a,showLegitimateInterestToggle:1!==i.id&&g.includes(t)&&a&&!c,stackId:(null==s?void 0:s.id)||null}],!1)},[])},og=function(e){return{onATPListChanged:e.resurfaceATPListChanged,onIABLegalBasisChanged:e.resurfaceIABLegalBasisChanged,onPeriodEnded:e.resurfacePeriodEnded,onPurposeChanged:e.resurfacePurposeChanged,onVendorAdded:e.resurfaceVendorAdded}},of=function(e,t,n,i){var s=t.reduce(function(e,t){return e.concat(t.specialFeatures.filter(function(e){return!n.includes(e.id)}).map(function(e){return e.id}))},[]),r=oE(e,n,i).reduce(function(e,t){return e.concat(t.specialFeatureIds.filter(function(e){return!n.includes(e)}))},[]);return eq(s.concat(r))},oS=function(e,t,n,i,s,r){if(!e||!t)return[];var o=of(t.stacks,n,i,s),a=oE(t.stacks,i,s);return o.map(function(n){var i=t.specialFeatures[n],s=a.find(function(e){return e.specialFeatureIds.includes(n)});return{consent:e.specialFeatureOptins.has(n),description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,isPartOfASelectedStack:!!s,name:i.name,showConsentToggle:r,stackId:(null==s?void 0:s.id)||null}})},ov=function(e,t){return e?eq(t.reduce(function(e,t){return e.concat(t.specialPurposes.map(function(e){return e.id}))},[])).reduce(function(t,n){var i=e[n];return i?G(G([],F(t),!1),[{description:i.description,descriptionLegal:i.descriptionLegal,id:i.id,illustrations:i.illustrations,name:i.name}],!1):t},[]):[]},oE=function(e,t,n){return e?n.reduce(function(n,i){var s=e[i];return s?G(G([],F(n),!1),[{description:s.description,id:s.id,name:s.name,purposeIds:s.purposes,specialFeatureIds:s.specialFeatures.filter(function(e){return!t.includes(e)})}],!1):n},[]):[]},oI=function(e){return(null==e?void 0:e.getRestrictions().map(function(e){return{purposeId:e.purposeId,restrictionType:e.restrictionType}}))||[]},oT=function(e){return!!(null==e?void 0:e.timestamp)&&(Date.now()-e.timestamp)/864e5>390},oC=function(e,t){if(!(null==e?void 0:e.acString)||!(null==e?void 0:e.acString.length))return!1;var n=null==e?void 0:e.acString.split("~")[1].split(".").filter(function(e){return""!==e}).map(function(e){return parseInt(e,10)}),i=null==e?void 0:e.acString.split("dv.")[1].split(".").filter(function(e){return""!==e}).map(function(e){return parseInt(e,10)}),s=G(G([],F(n),!1),F(i),!1).sort(function(e,t){return e-t}),r=t.map(function(e){return e.id}).sort(function(e,t){return e-t});return!(s.length===r.length&&s.every(function(e,t){return e===r[t]}))},oy=function(e,t){return!(!(null==e?void 0:e.vendors)||!(null==e?void 0:e.vendors.length))&&!t.every(function(t){return null==e?void 0:e.vendors.find(function(e){return e[eb.ID]===t.id})})},o_=function(e,t){return!(!(null==e?void 0:e.vendors)||!e.vendors.length||e.vendors.length&&!e.vendors[0][eb.SPECIAL_PURPOSES])&&!e.vendors.every(function(e){var n=t.find(function(t){return t.id===e[eb.ID]});return!n||e[eb.PURPOSES].sort().toString()===n.purposes.map(function(e){return e.id}).sort().toString()&&e[eb.LEGITIMATE_INTEREST].sort().toString()===n.legitimateInterestPurposes.map(function(e){return e.id}).sort().toString()&&e[eb.SPECIAL_PURPOSES].sort().toString()===n.specialPurposes.map(function(e){return e.id}).sort().toString()})},oA=function(e){return e.map(function(e){var t=e.id,n=e.legitimateInterestPurposes,i=e.purposes,s=e.specialPurposes;return[t,n.map(function(e){return e.id}),i.map(function(e){return e.id}),s.map(function(e){return e.id})]})},om=function(e){var t=e.replace("_","-");if(r3.consentLanguages.has(t.toLocaleLowerCase())||r3.consentLanguages.has(t.toUpperCase()))return t;var n=t.slice(0,2);if(r3.consentLanguages.has(n.toLocaleLowerCase())||r3.consentLanguages.has(n.toUpperCase()))return n;switch(e){case"pt":return"pt-pt";case"sr":return"sr-cyrl";default:return"en"}},oO=[],oN=[],ob=function(e,t,n){switch(e){case"queue":return oO;case"ping":"function"==typeof t&&t({applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","6:uspv1"]},!0);break;case"addEventListener":"lastId"in window.__gpp||(window.__gpp.lastId=0),window.__gpp.lastId+=1;var i=window.__gpp.lastId;oN.push({callback:t,id:i,parameter:n}),t({data:!0,eventName:"listenerRegistered",listenerId:i,pingData:{applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","9:usva","7:usnat"]}},!0);break;case"removeEventListener":for(var s=!1,r=0;r<oN.length;r++)if(oN[r].id===n){oN.splice(r,1),s=!0;break}t({data:s,eventName:"listenerRemoved",listenerId:n,pingData:{applicableSections:[-1],cmpDisplayStatus:"hidden",cmpId:31,cmpStatus:"stub",gppString:"",gppVersion:"1.1",sectionList:[],supportedAPIs:["2:tcfeuv2","5:tcfcav1","9:usva","7:usnat"]}},!0);break;case"hasSection":t(!1,!0);break;case"getSection":case"getField":t(null,!0);break;default:oO.push([e,t,n])}},oD="__gppLocator",oR=function(e){if(e&&e.source&&e.source.postMessage){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){return}if("object"===C(n)&&n.__gppCall){var i=n.__gppCall;window.__gpp(i.command,i.version,function(n,s){var r={__gppReturn:{returnValue:n,success:s,callId:i.callId}},o=t?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(e){}},i.parameter)}}},oL=function(){"undefined"!=typeof window&&(window.__gpp||!function(){for(var e=window,t=!1;e;){try{if(e.frames[oD]){t=!0;break}}catch(e){}if(e===window.top){t=!1;break}e=e.parent}return t}()&&(tn(function(){return!!window.document.body},"").then(function(){var e=window.document.createElement("iframe");e.style.cssText="display:none",e.name=oD,window.document.body.appendChild(e)}),1)&&(window.addEventListener("message",oR,!1),window.__gpp=ob))},ow=function(e){if(e&&e.source&&e.source.postMessage){var t="string"==typeof e.data,n=e.data;if(t)try{n=JSON.parse(e.data)}catch(e){return}if("object"===C(n)&&n.__tcfapiCall){var i=n.__tcfapiCall;window.__tcfapi(i.command,i.version,function(n,s){var r={__tcfapiReturn:{returnValue:n,success:s,callId:i.callId}},o=t?JSON.stringify(r):r;try{e.source.postMessage(o,"*")}catch(e){}},i.parameter)}}},oP=[],oV=function(e,t,n,i){if(!e)return oP;switch(e){case"ping":"function"==typeof n&&n({cmpLoaded:!1,cmpStatus:"stub",gdprApplies:!0});break;case"pending":return oP;default:oP.push([e,t,n,i])}},oU="__tcfapiLocator",oM=function(){"undefined"!=typeof window&&(window.__tcfapi||!function(){for(var e=window,t=!1;e;){try{if(e.frames[oU]){t=!0;break}}catch(e){}if(e===window.top){t=!1;break}e=e.parent}return t}()&&(tn(function(){return!!window.document.body},"").then(function(){var e=window.document.createElement("iframe");e.style.cssText="display:none",e.name=oU,window.document.body.appendChild(e)}),1)&&(window.addEventListener("message",ow,!1),window.__tcfapi=oV))};(A=r5||(r5={})).ACCEPT_ALL_SERVICES="onAcceptAllServices",A.DENY_ALL_SERVICES="onDenyAllServices",A.ESSENTIAL_CHANGE="onEssentialChange",A.INITIAL_PAGE_LOAD="onInitialPageLoad",A.NON_EU_REGION="onNonEURegion",A.SESSION_RESTORED="onSessionRestored",A.TCF_STRING_CHANGE="onTcfStringChange",A.UPDATE_SERVICES="onUpdateServices",A.MOBILE_SESSION_RESTORED="onMobileSessionRestore",(m=r8||(r8={})).EXPLICIT="explicit",m.IMPLICIT="implicit",(O=r7||(r7={}))[O.UNDEFINED=0]="UNDEFINED",O[O.CMP_SHOWN=1]="CMP_SHOWN",O[O.ACCEPT_ALL=2]="ACCEPT_ALL",O[O.DENY_ALL=3]="DENY_ALL",O[O.SAVE=4]="SAVE",O[O.ACCEPT_ALL_L1=5]="ACCEPT_ALL_L1",O[O.DENY_ALL_L1=6]="DENY_ALL_L1",O[O.SAVE_L1=7]="SAVE_L1",O[O.ACCEPT_ALL_L2=8]="ACCEPT_ALL_L2",O[O.DENY_ALL_L2=9]="DENY_ALL_L2",O[O.SAVE_L2=10]="SAVE_L2",O[O.COOKIE_POLICY_LINK=11]="COOKIE_POLICY_LINK",O[O.IMPRINT_LINK=12]="IMPRINT_LINK",O[O.MORE_INFORMATION_LINK=13]="MORE_INFORMATION_LINK",O[O.PRIVACY_POLICY_LINK=14]="PRIVACY_POLICY_LINK",O[O.CCPA_TOGGLES_ON=15]="CCPA_TOGGLES_ON",O[O.CCPA_TOGGLES_OFF=16]="CCPA_TOGGLES_OFF",O[O.SAY_MINE_LINK=17]="SAY_MINE_LINK",(N=r9||(r9={})).API_NAME="__uspapi",N.GET_USP_DATA="getUSPData",(b=oe||(oe={}))[b.FIRST_LAYER=0]="FIRST_LAYER",b[b.NONE=1]="NONE",b[b.PRIVACY_BUTTON=2]="PRIVACY_BUTTON",b[b.SECOND_LAYER=3]="SECOND_LAYER",(D=ot||(ot={}))[D.CCPA=0]="CCPA",D[D.DEFAULT=1]="DEFAULT",D[D.TCF=2]="TCF",void 0!==sL&&sL.initialize({modulePath:"/dir"});var ok=function(){function e(e,t){var n;if(this.ampInstance=tF.getInstance(),this.apiInstance=na.getInstance(),this.botInstance=ng.getInstance(),this.controllerIdInstance=t9.getInstance(),this.dataFacadeInstance=nK.getInstance(),this.eventDispatcherInstance=nI.getInstance(),this.initOptions={},this.isConsentRequired=null,this.languageInstance=sm.getInstance(),this.storageServiceInstance=eF.getInstance(),this.locationInstance=nt.getInstance(),this.settingsV2=nW.getInstance(),this.uiInstance=sR.getInstance(),this.domains=null,this.rulesetRule={name:"",noShow:!0,settingsId:""},this.gppData=null,this.isCurrentDomainAllowed=function(e){var t,n=window.location.hostname.replace("www.",""),i=window.location.pathname,s=null==(t=e.allowedDomainOptions)?void 0:t.list;if((null==s?void 0:s.length)&&(s=s.filter(function(e){return"string"==typeof e&&""!==e.trim()}).map(function(e){return e.trim()})),!(null==s?void 0:s.length))return!0;var r=s.concat(eC),o=!1;return r.forEach(function(e){if(e.includes("*")){if("*."===e.slice(0,2))n.includes(e.slice(2))&&(o=!0);else if("/*"===e.slice(-2)){var t=e.slice(0,-2);t.split("/")[0]===n&&(n+i).includes(t)&&(o=!0)}}else e.includes("/")?n+i===e&&(o=!0):n===e&&(o=!0)}),o},t&&(this.initOptions=t),this.apiInstance.setEuMode(!0===(null==t?void 0:t.euMode)),this.domains=(n=window.UC_UI_DOMAINS)?Object.entries(n).reduce(function(e,t){var n,i,s=t[0],r=t[1];return"/"===r.slice(-1)?U(U({},e),((n={})[s]=r.slice(0,-1),n)):U(U({},e),((i={})[s]=r,i))},{aggregator:"",app:"",cdn:"",consents:"",consentsV2:"",consentsV2Fetch:"",crossDomainConsentSharingIFrame:"",graphql:"",trackingEvent:""}):null,this.apiInstance.setDomains(!0===(null==t?void 0:t.sandboxEnv),this.domains),(null==t?void 0:t.createTcfApiStub)&&oM(),(null==t?void 0:t.createGppStub)&&oL(),(null==t?void 0:t.useRulesetId)?this.apiInstance.setRulesetId(e):this.apiInstance.setSettingsId(e),this.controllerIdInstance.value="",(null==t?void 0:t.controllerId)&&!(null==t?void 0:t.useRulesetId)&&(this.controllerIdInstance.value=t.controllerId),(null==t?void 0:t.language)&&this.languageInstance.setPrimaryLanguage(t.language),(null==t?void 0:t.settingsCache)&&this.apiInstance.setJsonCacheBustingString(t.settingsCache),(null==t?void 0:t.version)&&this.apiInstance.setJsonFileVersion(t.version),(null==t?void 0:t.userCountryData)&&"object"===C(t.userCountryData)&&Object.keys(t.userCountryData).every(function(e){return"string"==typeof e})&&this.locationInstance.setUserCountryData(t.userCountryData),(null==t?void 0:t.userSessionData)&&this.dataFacadeInstance.setUserSessionData(t.userSessionData),(null==t?void 0:t.ampEnabled)&&this.ampInstance.setIsAmpEnabled(!0),(null==t?void 0:t.blockDataLayerPush)&&this.eventDispatcherInstance.setBlockDataLayerPush(!0),(null==t?void 0:t.disableUet)?this.eventDispatcherInstance.setUetDisabled(!0):window.uetq=window.uetq||[],(null==t?void 0:t.storeServiceIdToNameMapping)&&this.storageServiceInstance.setStoreServiceIdToNameMapping(null==t?void 0:t.storeServiceIdToNameMapping),(null==t?void 0:t.disableTracking)&&(this.initOptions.disableTracking=!0),(null==t?void 0:t.disableServerConsents)&&this.apiInstance.setDisableServerConsents(!0),(null==t?void 0:t.disableServerConsents)&&(null==t?void 0:t.controllerId))throw Error("Usercentrics: disableServerConsents and controllerId should not be present at the same time in the InitOptions!");(null==t?void 0:t.enableDeprecatedV1ConsentSaving)&&(this.initOptions.enableDeprecatedV1ConsentSaving=t.enableDeprecatedV1ConsentSaving),this.initOptions.prefetchServices=eY(null==t?void 0:t.prefetchServices,!0),this.setTrackingPixel=this.setTrackingPixel.bind(this)}return e.prototype.fetchCoreAndDps=function(){return M(this,void 0,void 0,function(){var e;return k(this,function(t){var n,i,s,r;switch(t.label){case 0:return[4,this.loadSettings()];case 1:return[2,{core:{allowedDomainOptions:{list:(e=t.sent()).allowedDomains,showErrorCmp:e.showErrorOnUnallowedDomain},buttonDisplayLocation:e.buttonDisplayLocation,buttonPrivacyCloseIcon:e.buttonPrivacyCloseIcon,buttonPrivacyOpenIconUrl:e.buttonPrivacyOpenIconUrl,ccpa:(s=e.framework,{iabAgreementExists:(r=e.ccpa).iabAgreementExists,isActive:s?["CCPA","UCPA","CTDPA","VCDPA","CPRA","CPA"].includes(s):r.isActive,region:r.region,reshowAfterDays:r.reshowAfterDays,showOnPageLoad:r.showOnPageLoad}),consentAnalytics:e.consentAnalytics,consentAPIv2:e.consentAPIv2,consentSharingIFrameIsActive:e.consentSharingIFrameIsActive,consentXDevice:e.consentXDevice,customization:(i=e.customization)?U(U({color:i.color?{primary:i.color.primary,privacyButtonBackground:i.color.privacyButtonBackground,privacyButtonIcon:i.color.privacyButtonIcon}:null},i.privacyButtonSizeMobile&&{privacyButtonSizeMobile:i.privacyButtonSizeMobile}),i.privacyButtonSizeDesktop&&{privacyButtonSizeDesktop:i.privacyButtonSizeDesktop}):i,dataExchangeOnPage:e.dataExchangeOnPage,displayOnlyForEU:e.displayOnlyForEU,enableBotDetection:e.enableBotDetection,enablePoweredBy:e.enablePoweredBy,framework:e.framework,googleConsentMode:e.googleConsentMode,integrations:e.integrations,interactionAnalytics:e.interactionAnalytics,labels:{partnerPoweredByLinkText:e.labels.partnerPoweredByLinkText,poweredBy:e.labels.poweredBy},languagesAvailable:e.languagesAvailable,partnerPoweredByUrl:e.partnerPoweredByUrl,privacyButtonIsVisible:e.privacyButtonIsVisible,privacyButtonUrls:e.privacyButtonUrls,renewConsentsTimestamp:e.renewConsentsTimestamp,reshowBanner:e.reshowBanner,settingsId:e.settingsId,showInitialViewForVersionChange:e.showInitialViewForVersionChange,tagLoggerIsActive:e.tagLoggerIsActive,tcf2:{resurfaceATPListChanged:(n=e.tcf2).resurfaceATPListChanged,resurfaceIABLegalBasisChanged:n.resurfaceIABLegalBasisChanged,resurfacePeriodEnded:n.resurfacePeriodEnded,resurfacePurposeChanged:n.resurfacePurposeChanged,resurfaceVendorAdded:n.resurfaceVendorAdded},tcf2Enabled:e.framework?"TCF2"===e.framework:e.tcf2Enabled,variants:e.variants,version:e.version},dps:{categories:e.categories,consentTemplates:e.consentTemplates}}]}})})},e.prototype.init=function(){var e,t,n,i,s,r,o,a,c,u,l,d;return M(this,void 0,void 0,function(){var h,p,g,f,S,v,E,I,T,C,y,_,A,m,O,N,b,D,R,L,w,P,V,F=this;return k(this,function(G){switch(G.label){case 0:return eF.getInstance().init(),this.initOptions.createGppStub&&(this.gppData=sA.getInstance(this.settingsV2.legacySettings,this.initOptions.createGppStub)),this.apiInstance.getRulesetId()?(h=this,[4,nM.getInstance().resolveSettingsId()]):[3,2];case 1:h.rulesetRule=G.sent(),this.apiInstance.setSettingsId(this.rulesetRule.settingsId),this.initOptions.controllerIds&&this.controllerIdInstance.setControllerIdByResolvedSettingsId(this.rulesetRule.settingsId,this.initOptions.controllerIds),G.label=2;case 2:return eF.clearOnNewSettingsId(this.apiInstance.getSettingsId()),eF.migrateLegacySettings(this.apiInstance.getSettingsId()),f="explicit"===(null==(g=null==(p=eF.fetchServices())?void 0:p.map(function(e){return e.history}).flat().reduce(function(e,t){return(null==e?void 0:e.timestamp)<t.timestamp?t:e}))?void 0:g.type),[4,this.languageInstance.resolveLanguage()];case 3:G.sent(),G.label=4;case 4:return G.trys.push([4,6,,9]),[4,this.fetchCoreAndDps()];case 5:if(T=(E=G.sent()).core,C=E.dps,!T.languagesAvailable.includes(this.apiInstance.getJsonFileLanguage()))throw Error("Using non allowed language");return S=T,v=C,[3,9];case 6:return G.sent(),this.languageInstance.setPrimaryLanguage(""),[4,this.languageInstance.resolveLanguage(!0)];case 7:return G.sent(),[4,this.fetchCoreAndDps()];case 8:return T=(I=G.sent()).core,C=I.dps,S=T,v=C,[3,9];case 9:if(!this.isCurrentDomainAllowed(S))throw(y=Error()).showErrorCmp=null==(e=S.allowedDomainOptions)?void 0:e.showErrorCmp,console.error('Usercentrics: The domain "'.concat(window.location.hostname,'" has not been added to the allowlist for this Usercentrics account.')),y;if(!S||!v)throw Error();return this.botInstance.isBotEnabled=S.enableBotDetection,!S.consentSharingIFrameIsActive||this.botInstance.isRobot()?[3,11]:[4,eP.init({useEuCdn:this.initOptions.euMode||!1},this.domains).then(function(){return M(F,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return eP.setCrossDomainId(this.apiInstance.getSettingsId()),eP.setIsCrossDomainAvailable(!0),eP.setUseEuCdn(this.initOptions.euMode||!1),this.languageInstance.getPrimaryLanguage()?[3,3]:[4,eP.getCrossDomainLanguage().catch(function(){return console.warn(eS.CROSS_DOMAIN_LANGUAGE_NOT_AVAILABLE),""})];case 1:return e=t.sent(),[4,this.changeLanguage(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})}).catch(function(e){eP.setIsCrossDomainAvailable(!1),eP.removeIFrame(eR),console.warn(eS.CROSS_DOMAIN_FEATURE_NOT_AVAILABLE,e)})];case 10:G.sent(),G.label=11;case 11:return this.botInstance.isRobot()?this.initOptions.suppressCmpDisplay=!0:this.initOptions.disableTracking||this.addSessionTrackingPixel(),_=v.consentTemplates.find(function(e){var t;return"Fraud0"===(null==(t=e._meta)?void 0:t.name)||"q-_eu2X2d"===e.templateId}),(null==(t=S.integrations)?void 0:t.fraud0)&&S.integrations.fraud0.length>0&&_&&!(null==_?void 0:_.isDeactivated)&&((A=document.createElement("script")).src="https://bt.fraud0.com/api/v2/fz.js?cid=".concat(S.integrations.fraud0[0].accountId),A.async=!0,A.setAttribute(nA,"Fraud0"),A.type=np.TEXT_PLAIN,document.body.appendChild(A)),m=this.apiInstance.getJsonFileLanguage(),[4,this.settingsV2.init(S,v,m)];case 12:return G.sent(),[4,this.uiInstance.resolveUiVariant(S.tcf2Enabled)];case 13:return O=G.sent(),[4,this.settingsV2.initData(O,[],!1,!0===this.initOptions.euMode,this.initOptions.excludeAcceptAllVendors,f,this.initOptions.enableDeprecatedV1ConsentSaving)];case 14:return G.sent(),[4,this.apiInstance.fetchTranslations()];case 15:return N=G.sent(),!this.initOptions.prefetchServices&&this.settingsV2.allLegacyServicesHaveName?[3,17]:[4,this.settingsV2.extendServices(O,N)];case 16:G.sent(),this.apiInstance.resetAggregatedServicesCache(),G.label=17;case 17:return this.controllerIdInstance.setNeedSessionRestore(),[4,this.dataFacadeInstance.restoreUserSession(v)];case 18:return(b=G.sent())||(this.controllerIdInstance.init(),this.settingsV2.data&&this.settingsV2.setControllerId(this.controllerIdInstance.value)),[4,this.uiInstance.init(this.initOptions)];case 19:return G.sent(),D=this.settingsV2.getTcfData(),tN(this.settingsV2.data)&&D?[4,this.settingsV2.data.init(!0===this.initOptions.euMode)]:[3,21];case 20:G.sent(),G.label=21;case 21:return this.settingsV2.initLabels(O,N),R=[],eF.settingsExist()&&(R=this.processStorageServicesAndSettings(this.settingsV2.data)),this.botInstance.isRobot()||(this.apiInstance.saveConsentsFromBuffer(),this.apiInstance.saveConsentsV2FromBuffer()),[4,this.uiInstance.resolveUIOptions(S)];case 22:return w=(L=G.sent()).initialLayer,P=eF.fetchTCFData(),b&&D&&(null==(n=this.gppData)||n.setSectionString(P.tcString,"tcfeuv2"),eF.saveTCFData(U(U({},P),{vendors:oA(D.getTCFData().vendors)}))),this.setIsConsentRequired(this.uiInstance.shouldShowFirstLayer(S)),this.isConsentRequired&&eF.setUserActionPerformed(!1),this.settingsV2.initLabels(O,N),[4,this.settingsV2.initUI(w,O)];case 23:return G.sent(),D?!(0===w||(null==(i=this.initOptions)?void 0:i.suppressCmpDisplay)&&this.getIsConsentRequired())||this.botInstance.isRobot()?[3,25]:[4,D.setUIAsOpen()]:[3,27];case 24:return G.sent(),[3,27];case 25:return[4,D.setUIAsClosed()];case 26:G.sent(),G.label=27;case 27:return this.initOptions.createGppStub&&(tN(this.settingsV2.data)||tO(this.settingsV2.data))&&(tN(V=this.settingsV2.data)?null==(s=this.gppData)||s.setApplicableSections("tcfeuv2"):tO(V)?null==(r=this.gppData)||r.setApplicableSections(V.legalFramework):null==(o=this.gppData)||o.setApplicableSections("tcfeuv2"),(0===w||3===w||(null==(a=this.initOptions)?void 0:a.suppressCmpDisplay)&&this.getIsConsentRequired())&&!this.botInstance.isRobot()&&(null==(c=this.gppData)||c.setCmpDisplayVisible()),2!==w&&1!==w||null==(u=this.gppData)||u.setCmpDisplayHidden(),null==(l=this.gppData)||l.setCmpSignalReady(),null==(d=this.gppData)||d.setCmpStatusLoaded()),this.settingsV2.isTagLoggerActive()&&!this.botInstance.isRobot()&&(new sD).initTagLogger(),this.eventDispatcherInstance.init(this.settingsV2.getDataExchangeSettings()),[4,this.updateStorage(p,R,b)];case 28:return G.sent(),[2,L]}})})},e.prototype.acceptAllForTCF=function(e){return M(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.acceptAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.acceptAllServices=function(e){return void 0===e&&(e="explicit"),M(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(es.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(es.TRUE),"onAcceptAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}})})},e.prototype.changeLanguage=function(e){var t,n;return M(this,void 0,void 0,function(){var i,s,r,o,a,c,u,l,d,h,p,g,f,S,v,E;return k(this,function(I){switch(I.label){case 0:return s=(i=null==(t=this.settingsV2.core)?void 0:t.language.available)&&i.some(function(t){return t===e}),r=e!==this.apiInstance.getJsonFileLanguage()&&s,a=(o=this.settingsV2).core,c=o.data,r&&c&&a?(this.apiInstance.setJsonFileLanguage(e),this.apiInstance.resetTranslationsCache(),this.settingsV2.language=e,[4,this.fetchCoreAndDps()]):[3,8];case 1:return u=I.sent().dps,this.settingsV2.dpsJson=u,d=(l=this.uiInstance).selectedLayer,h=l.variant,[4,this.apiInstance.fetchTranslations()];case 2:return p=I.sent(),null===h||null===d||null==u?[3,6]:!this.settingsV2.isAggregatorLoaded&&this.settingsV2.checkIfServiceNameExists(u.consentTemplates)?[3,4]:[4,this.settingsV2.extendServices(h,p)];case 3:return I.sent(),[3,5];case 4:this.settingsV2.initLabels(h,p),I.label=5;case 5:this.apiInstance.resetAggregatedServicesCache(),I.label=6;case 6:return this.settingsV2.updateServicesLanguage(e),f=(g=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(c)).mergedServices,S=g.mergedServicesData,v=g.mergedSettingsData,a.language.selected=e,v.categories=this.settingsV2.mergeServicesDataIntoExistingCategories(S),this.settingsV2.data=v,(E=this.settingsV2.getDataTransferSettings())&&eF.saveSettings(eF.mapSettings(E,f),f),tN(v)?[4,v.changeLanguage(e,null==(n=this.settingsV2.legacySettings)?void 0:n.tcf2)]:[3,8];case 7:I.sent(),I.label=8;case 8:return[2]}})})},e.prototype.denyAllForTCF=function(e){return M(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return(t=this.settingsV2.getTcfData())?[4,t.denyAllDisclosed(e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})})},e.prototype.denyAllServices=function(e){return void 0===e&&(e="explicit"),M(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(es.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(es.FALSE),"onDenyAllServices",e,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return t.sent(),[2]}})})},e.prototype.fetchIsUserInEU=function(){return M(this,void 0,void 0,function(){return k(this,function(e){return[2,this.locationInstance.getIsUserInEU()]})})},e.prototype.fetchUserCountry=function(){return M(this,void 0,void 0,function(){return k(this,function(e){return[2,this.locationInstance.getUserCountryData()]})})},e.prototype.getAbTestVariant=function(){return this.apiInstance.getAbTestVariant()},e.prototype.getCategoriesBaseInfo=function(){return this.settingsV2.getCategoriesBaseInfo()},e.prototype.getCategoriesFullInfo=function(){return M(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getCategoriesFullInfo(this.uiInstance.variant,e)]}})})},e.prototype.getCcpaOptOutStatus=function(){var e;return(null==(e=this.settingsV2.getCcpaData())?void 0:e.getIsOptedOut())||!1},e.prototype.getCcpaExplicitNoticeStatus=function(){var e;return(null==(e=this.settingsV2.getCcpaData())?void 0:e.getExplicitNotice())||!1},e.prototype.saveOptOutForCcpa=function(e,t){return void 0===t&&(t="explicit"),M(this,void 0,void 0,function(){var n,i;return k(this,function(s){switch(s.label){case 0:return(n=this.settingsV2.getCcpaData())&&n.getIsOptedOut()!==e?(n.setCcpaStorage(e),i={consentAction:e?"onDenyAllServices":"onAcceptAllServices",consentStatus:e?es.FALSE:es.TRUE,consentString:{CCPA:eF.getCcpaString()}},this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(i.consentStatus),this.settingsV2.getUpdatedServicesDataWithConsent(i.consentStatus),i.consentAction,t,i.consentString,this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()]):[2];case 1:return s.sent(),[2]}})})},e.prototype.saveDefaultForCcpa=function(){return M(this,void 0,void 0,function(){var e,t,n;return k(this,function(i){switch(i.label){case 0:return e=this.settingsV2.getCcpaData(),t=eF.getCcpaString(),e?[3,2]:(eF.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]);case 1:case 3:return i.sent(),[2];case 2:return"-"===t[1]?(n=e.getIsOptedOut(),null==e||e.setCcpaStorage(n,sC.ACCEPT),window.dispatchEvent(new Event(nf))):eF.setCcpaTimeStamp(),[4,this.saveUserActionPerformed()]}})})},e.prototype.getControllerId=function(){return this.controllerIdInstance.value},e.prototype.getServicesBaseInfo=function(){return this.settingsV2.getServicesBaseInfo()},e.prototype.getServicesFullInfo=function(){return M(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[2,this.settingsV2.getServicesFullInfo(this.uiInstance.variant,e)]}})})},e.prototype.getSettingsCore=function(){var e=this.settingsV2.core;if(!e)throw Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsLabels=function(){var e=this.settingsV2.labels;if(!e)throw Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsData=function(){var e=this.settingsV2.data;if(!e)throw Error("Usercentrics: You have to call the init method before!");return e},e.prototype.getSettingsUI=function(){return this.settingsV2.ui},e.prototype.getAriaLabels=function(){var e,t;return tP(this.settingsV2.labels)&&null!=(null==(e=this.settingsV2.labels)?void 0:e.ariaLabels)?null==(t=this.settingsV2.labels)?void 0:t.ariaLabels:tf},e.prototype.getTCFData=function(){var e=this.settingsV2.getTcfData();return e?e.getTCFData():null},e.prototype.getTCFDisclosedVendorsSegmentString=function(){return this.settingsV2.getTCFDisclosedVendorsSegmentString()},e.prototype.injectTCString=function(e){return this.settingsV2.injectTCString(e)},e.prototype.setTCFUIAsClosed=function(){return M(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsClosed()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.setGppDisplayHidden=function(){var e;return M(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,null==(e=sA.getInstance())?void 0:e.setCmpDisplayHidden()];case 1:return t.sent(),[2]}})})},e.prototype.setGppDisplayVisible=function(){var e;return M(this,void 0,void 0,function(){return k(this,function(t){switch(t.label){case 0:return[4,null==(e=sA.getInstance())?void 0:e.setCmpDisplayVisible()];case 1:return t.sent(),[2]}})})},e.prototype.setTCFUIAsOpen=function(){return M(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return(e=this.settingsV2.getTcfData())?[4,e.setUIAsOpen()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},e.prototype.updateChoicesForTCF=function(e,t){return M(this,void 0,void 0,function(){var n;return k(this,function(i){switch(i.label){case 0:return(n=this.settingsV2.getTcfData())?[4,n.updateChoices(e,t)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.areAllConsentsAccepted=function(){return this.settingsV2.isTcfAvailable()?this.settingsV2.areAllVendorsAndPurposesAccepted()&&this.settingsV2.areAllServicesAccepted():this.settingsV2.areAllServicesAccepted()},e.prototype.restoreUserSession=function(e){var t,n;return M(this,void 0,void 0,function(){var i;return k(this,function(s){switch(s.label){case 0:return(null==(t=this.settingsV2.core)?void 0:t.consentAPIv2)&&!(null==(n=this.settingsV2.core)?void 0:n.consentXDevice)?(console.warn(ef.CROSS_DEVICE_FEATURE_DISABLED),this.controllerIdInstance.needsSessionRestore=!1,[2]):(this.controllerIdInstance.value=e,this.controllerIdInstance.needsSessionRestore=!0,this.settingsV2.setControllerId(e),(i=this.settingsV2.dpsJson)?[4,this.dataFacadeInstance.restoreUserSession(i)]:[3,2]);case 1:s.sent()&&this.enableServicesScripts(this.processStorageServicesAndSettings(this.settingsV2.data),this.settingsV2.getGoogleConsentMode(),"onSessionRestored"),s.label=2;case 2:return[2]}})})},e.prototype.clearStorage=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,eF.clearAll()];case 1:return e.sent(),[2]}})})},e.prototype.postMessageAmp=function(e,t,n){return M(this,void 0,void 0,function(){var i,s,r,o,a,c,u,l,d=this;return k(this,function(h){switch(h.label){case 0:return i=this.settingsV2.isTcfAvailable(),[4,this.settingsV2.isCcpaAvailable()];case 1:return s=h.sent(),r=function(){var e=d.settingsV2.getTcfData();return i&&(null==e?void 0:e.getTCString)?e.getTCString():s?eF.getCcpaString():""},o=function(){return M(d,void 0,void 0,function(){var e,t,n,r;return k(this,function(o){switch(o.label){case 0:return r=this.settingsV2.getTcfData(),i&&r?(e=V.TCF_V2,[4,r.getGdprApplies()]):[3,2];case 1:return t=o.sent(),n=this.settingsV2.getTCFPurposeOneTreatment(),[3,3];case 2:s&&(e=V.CCPA),o.label=3;case 3:return[2,U({consentStringType:e},i&&{gdprApplies:t,purposeOne:n})]}})})},c=[{action:t,type:e}],(u=e===w.CONSENT_RESPONSE&&t!==P.DISMISS&&(s||i))?(l={},[4,o()]):[3,3];case 2:l.consentMetadata=h.sent(),l.info=r(),u=l,h.label=3;case 3:return a=U.apply(void 0,[U.apply(void 0,c.concat([u])),n&&{initialHeight:n}]),[2,new Promise(function(e,t){try{window.parent.postMessage(U({},a),"*"),e()}catch(e){t(e)}})]}})})},e.prototype.acceptAllAmp=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.postMessageAmp(w.CONSENT_RESPONSE,P.ACCEPT)];case 1:return e.sent(),[2]}})})},e.prototype.denyAllAmp=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.postMessageAmp(w.CONSENT_RESPONSE,P.REJECT)];case 1:return e.sent(),[2]}})})},e.prototype.saveTCFDataAmp=function(e){return M(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return t=e.every(function(e){return e.status}),0===e.length||t?[4,this.postMessageAmp(w.CONSENT_RESPONSE,P.ACCEPT)]:[3,2];case 1:return n.sent(),[3,4];case 2:return[4,this.postMessageAmp(w.CONSENT_RESPONSE,P.REJECT)];case 3:n.sent(),n.label=4;case 4:return[2]}})})},e.prototype.dismissAmp=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return[4,this.postMessageAmp(w.CONSENT_RESPONSE,P.DISMISS)];case 1:return e.sent(),[2]}})})},e.prototype.enterFullscreenAmp=function(){return M(this,void 0,void 0,function(){return k(this,function(e){return[2,this.postMessageAmp(w.CONSENT_UI,P.FULLSCREEN)]})})},e.prototype.uiReadyAmp=function(){return M(this,void 0,void 0,function(){var e,t,n;return k(this,function(i){return e=this.settingsV2.labels,t="60vh",e&&tP(e)&&(n=e.firstLayer.description.default.length,window.screen.height>700&&n<=250&&(t="50vh")),[2,this.postMessageAmp(w.CONSENT_UI,P.READY,t)]})})},e.prototype.saveUserActionPerformed=function(){return M(this,void 0,void 0,function(){return k(this,function(e){switch(e.label){case 0:return eF.setUserActionPerformed(!0),this.setIsConsentRequired(!1),this.uiInstance.selectedLayer?[4,this.settingsV2.initUI(this.uiInstance.selectedLayer,this.uiInstance.variant)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.updateServices=function(e,t){return void 0===t&&(t="explicit"),M(this,void 0,void 0,function(){var n,i;return k(this,function(s){switch(s.label){case 0:return n=this.settingsV2.getUpdatedServicesWithDecisions(e),i=this.settingsV2.getUpdatedServicesDataWithDecisions(e),eH(n)&&this.dataFacadeInstance.execute(n,i,"onUpdateServices",t,{},this.initOptions.enableDeprecatedV1ConsentSaving),[4,this.saveUserActionPerformed()];case 1:return s.sent(),[2]}})})},e.prototype.updateLayer=function(e){return M(this,void 0,void 0,function(){var t;return k(this,function(n){switch(n.label){case 0:return t=this.uiInstance.selectedLayer,this.uiInstance.selectedLayer=e,e===t?[2]:[4,this.settingsV2.initUI(e,this.uiInstance.variant)];case 1:return n.sent(),3!==e?[3,3]:[4,this.loadServices()];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.loadServices=function(){return M(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return this.settingsV2.isAggregatorLoaded||!this.uiInstance.selectedLayer?[2]:[4,this.apiInstance.fetchTranslations()];case 1:return e=t.sent(),[4,this.settingsV2.extendServices(this.uiInstance.variant,e)];case 2:return t.sent(),this.apiInstance.resetAggregatedServicesCache(),[2]}})})},e.prototype.loadSettings=function(){return M(this,void 0,void 0,function(){var e;return k(this,function(t){switch(t.label){case 0:return[4,this.apiInstance.fetchSettingsJson()];case 1:return e=t.sent(),this.settingsV2.legacySettings=e,[2,e]}})})},e.prototype.updateStorage=function(e,t,n){return M(this,void 0,void 0,function(){var i,s,r;return k(this,function(o){var a;switch(o.label){case 0:return[4,this.settingsV2.shouldDenyAllExplicitlyOnInit()];case 1:return o.sent()?(this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(es.FALSE),this.settingsV2.getUpdatedServicesDataWithConsent(es.FALSE),"onDenyAllServices","explicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7]):[3,2];case 2:return this.uiInstance.isFirstTimeVisit()?[4,this.settingsV2.shouldAcceptAllImplicitlyOnInit()]:[3,4];case 3:return o.sent()?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(es.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(es.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):this.dataFacadeInstance.execute(this.settingsV2.getServicesDataAndLabels(),this.settingsV2.getServicesData(),"onInitialPageLoad","implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving),[3,7];case 4:return i=null!=t?t:this.processStorageServicesAndSettings(this.settingsV2.data),a=this.settingsV2.getServicesData(),(s=e&&!a.every(function(t){return e.find(function(e){return e.id===t.id})})||!1)?[4,this.settingsV2.shouldAcceptAllImplicitlyOnVendorAdded()]:[3,6];case 5:s=o.sent(),o.label=6;case 6:s?this.dataFacadeInstance.execute(this.settingsV2.getUpdatedServicesWithConsent(es.TRUE),this.settingsV2.getUpdatedServicesDataWithConsent(es.TRUE),"onNonEURegion",this.botInstance.isRobot()?"explicit":"implicit",{},this.initOptions.enableDeprecatedV1ConsentSaving):(r=n&&this.dataFacadeInstance.restoreAction?this.dataFacadeInstance.restoreAction:"onInitialPageLoad",this.enableServicesScripts(i,this.settingsV2.getGoogleConsentMode(),r),this.dataFacadeInstance.restoreAction=null),o.label=7;case 7:return[2]}})})},e.prototype.enableScriptsForServicesWithConsent=function(){nm.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent())},e.prototype.setTrackingPixel=function(e){var t;!this.initOptions.disableTracking&&(null==(t=this.settingsV2.coreJson)?void 0:t.interactionAnalytics)&&this.apiInstance.setTrackingPixel(e)},e.prototype.addSessionTrackingPixel=function(){(new Image).src=this.apiInstance.createSessionTrackingUrl()},e.prototype.processStorageServicesAndSettings=function(e){if(!e||!this.settingsV2.labels)return[];var t=this.dataFacadeInstance.getMergedServicesAndSettingsFromStorage(e),n=t.dataTransferSettings,i=t.mergedServicesData,s=t.mergedServices,r=t.updatedEssentialServices;return this.dataFacadeInstance.mergeServicesAndSettings(s,i,n,r,this.settingsV2.labels.services,this.initOptions.enableDeprecatedV1ConsentSaving)},e.prototype.enableServicesScripts=function(e,t,n){nm.enableScriptsForServicesWithConsent(this.settingsV2.getServicesWithConsent()),this.eventDispatcherInstance.dispatch(e,t,n)},e.prototype.setIsConsentRequired=function(e){this.isConsentRequired=!0===e},e.prototype.getIsConsentRequired=function(){return this.isConsentRequired},e.prototype.getThirdPartyCount=function(){return this.settingsV2.getThirdPartyCount()},e}();e.s(["$",()=>r3,"A",()=>r9,"B",()=>s,"C",()=>1,"D",()=>e_,"E",()=>e2,"F",()=>"__uspapiLocator","G",()=>sA,"H",()=>nt,"I",()=>ng,"J",()=>oo,"K",()=>or,"L",()=>e3,"M",()=>eB,"N",()=>oa,"O",()=>oc,"P",()=>eY,"Q",()=>og,"R",()=>ol,"S",()=>sC,"T",()=>om,"U",()=>eq,"V",()=>of,"W",()=>"__uspapi","X",()=>op,"Y",()=>oh,"Z",()=>ou,"_",()=>L,"a",()=>eA,"a0",()=>oS,"a1",()=>ov,"a2",()=>oE,"a3",()=>s7,"a4",()=>oC,"a5",()=>oy,"a6",()=>o_,"a7",()=>oT,"a8",()=>s2,"a9",()=>s1,"aA",()=>oe,"aB",()=>ot,"aC",()=>tO,"aD",()=>tD,"aE",()=>tV,"aF",()=>tb,"aG",()=>tL,"aH",()=>tM,"aI",()=>tk,"aJ",()=>tw,"aK",()=>tP,"aL",()=>tN,"aM",()=>tR,"aN",()=>tU,"aO",()=>r5,"aP",()=>r8,"aQ",()=>r7,"aR",()=>ec,"aS",()=>eu,"aT",()=>el,"aU",()=>eh,"aV",()=>eD,"aa",()=>eO,"ab",()=>"https://config.eu.usercentrics.eu/tcf2/","ac",()=>"https://api.usercentrics.eu/tcf2/","ad",()=>"[LANG].json","ae",()=>"en-v2.json","af",()=>"https://config.eu.usercentrics.eu/gvl/v3/","ag",()=>"https://api.usercentrics.eu/gvl/v3/","ah",()=>"[LANG].json","ai",()=>"en.json","aj",()=>od,"ak",()=>os,"al",()=>oA,"am",()=>e1,"an",()=>tv,"ao",()=>tS,"ap",()=>eg,"aq",()=>ep,"ar",()=>tC,"as",()=>ty,"at",()=>tm,"au",()=>ed,"av",()=>tI,"aw",()=>tT,"ax",()=>ok,"ay",()=>e7,"az",()=>nP,"b",()=>eF,"c",()=>sT,"d",()=>eP,"e",()=>eS,"f",()=>M,"g",()=>nN,"h",()=>k,"i",()=>na,"j",()=>nW,"k",()=>nk,"l",()=>G,"m",()=>no,"n",()=>F,"o",()=>nR,"p",()=>U,"q",()=>eH,"r",()=>h,"s",()=>t3,"t",()=>a,"u",()=>r,"v",()=>t7,"w",()=>I,"x",()=>E,"y",()=>r4,"z",()=>on])}]);

//# debugId=190909d3-cbd4-aef0-b3da-639c9613cf58
//# sourceMappingURL=3bb00d0a34465bc2.js.map